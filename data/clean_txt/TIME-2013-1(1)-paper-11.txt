2013 20th International Symposium on Temporal Representation and Reasoning  A Labeled Deduction System for the Logic UB  Carlos Caleiro  SQIG - Instituto de TelecomunicacÄšÂ§oÄšÂƒes  Dep. Mathematics, IST - TU Lisbon, Portugal  ccal@math.ist.utl.pt  Luca ViganoÄšÂ€  Marco Volpe  Dipartimento di Informatica  UniversitaÄšÂ€ di Verona, Italy  {luca.vigano, marco.volpe}@univr.it  sorts of labels allows for deÄÅ¹Âning well-behaved rules for the  composed temporal operators of Peircean logics.  Consider, for instance, the path quantiÄÅ¹Âers Ã¢ÂˆÂ€ and Ã¢ÂˆÂƒ, and  the linear-time operator . By introducing not only the labels  x, y, . . . for time instants but also the labels R1 , R2 , . . . for  representing accessibility relations along the diÄÅ¹Â€erent paths,  and by properly tuning the freshness conditions on such  labels, we can, e.g., deÄÅ¹Âne the following rules for the Peircean  operators Ã¢ÂˆÂ€ and Ã¢ÂˆÂƒ, which follow the same patterns as the  ones seen above for the logic K:  AbstractÃ¢Â€Â”We propose an approach for deÄÅ¹Âning labeled  natural deduction systems for the class of Peircean branching  temporal logics, seen as logics in their own right rather than as  sublogics of Ockhamist systems. In particular, we give a system  for the logic UB, i.e., the until-free fragment of CTL, and show  that it is sound and complete. We also study normalization and  discuss how derivations may reduce to a normal form using an  appropriate management of proof contexts. Finally, we brieÄÅ¹Â‚y  discuss how to extend our system in order to capture full CTL.  Keywords-Labeled deduction; branching temporal logics;  natural deduction.  [xR1 y]  ..  ..  y:A  Ã¢ÂˆÂ€I  x : Ã¢ÂˆÂ€A  I. Introduction  In labeled deduction systems for modal and other nonclassical logics (e.g., [3], [13], [15]), labels are typically used  to denote worlds in the underlying Kripke-style semantics.  For example, the following introduction and elimination rules  for the modal operators are deÄÅ¹Âned in [13], [15] for the modal  logic K:  [xRy]  ..  ..  y:A  I  x : A  x : A xRy  E  y:A  y : A xRy  I  x : A  z:B  [y : A]  ..  ..  z:B  E  where x, y are labels, R denotes the accessibility relation, and,  in I, y is required to be fresh, i.e., it must be diÄÅ¹Â€erent from  x and not occur in any assumption on which y : A depends  other than the discharged assumption xRy. Analogously, y  must be fresh in E.  If we consider a logic whose models are deÄÅ¹Âned by using  more than one accessibility relation and whose language  allows for quantifying over relations, then it seems convenient  to introduce a second sort of labels for denoting such relations.  This is the case of branching temporal logics. Depending on  the underlying language, we distinguish between Ockhamist  branching temporal logics, where any combination of lineartime operators and path quantiÄÅ¹Âers is allowed, and Peircean  branching temporal logics, where the only temporal operators  admitted are those obtained as a combination of one single  linear-time operator immediately preceded by one single  path quantiÄÅ¹Âer. In this paper, we will show that having two  1530-1311/13 $26.00 Ã‚Å  2013 IEEE  1550-1311/13  DOI 10.1109/TIME.2013.14  x : Ã¢ÂˆÂƒA  x r(x, A) y  Ã¢ÂˆÂƒE  y:A  [xR1 y]  ..  ..  y : A xR1 z  Ã¢ÂˆÂƒI  x : Ã¢ÂˆÂƒA  with y and R1 fresh in Ã¢ÂˆÂ€I, and y fresh in Ã¢ÂˆÂƒI (but not R1 ).  In the rule Ã¢ÂˆÂƒE, the nesting of a Ã¢Â€ÂœuniversalÃ¢Â€Â modality  inside an Ã¢Â€ÂœexistentialÃ¢Â€Â quantiÄÅ¹Âer does not allow for designing  a rule that follows the standard pattern of a E. In our  approach, we tackle this problem by introducing Skolem  functions for the accessibility relations: in particular, in this  case, we use a Skolem function r(x, A) to name a path  starting from x and such that A holds in all the points along  that path.  Based on this novel idea of Ã¢Â€ÂœSkolemized accessibility  relationsÃ¢Â€Â, in this paper, we build a sound and complete  labeled deduction system for the Peircean logic UB, i.e., the  until-free fragment of CTL. As a further contribution, we  also study normalization and discuss how derivations in our  system may reduce to a normal form using an appropriate  management of so-called proof contexts. Finally, we brieÄÅ¹Â‚y  discuss how to extend our system to the class of Peircean  branching temporal logics, and focus in particular on the  extension required in order to capture full CTL.  We proceed as follows. In Section II, we recall the details  of UB. In Section III, we formalize our deduction system,  which we show to be sound and complete in Section IV.  Section V is dedicated to the study of normalization. In  Section VI, we discuss how to extend the approach to the full  CTL language and then, in Section VII, we draw conclusions  and point towards future work.  [xRy]  x : A  x : Ã¢ÂˆÂ€A xR1 y  Ã¢ÂˆÂ€E  y:A  38  45  II. The Logic UB  of inference. Soundness and weak completeness of this  axiomatization have been proven in [1].  We introduce the logic UB, i.e., the until-free fragment of  CTL, by brieÄÅ¹Â‚y presenting its syntax and semantics, along  with a Hilbert-style axiomatization; see [1] for further details.  III. The System N(UB)  A. Syntax and Semantics of N(UB)  DeÄÅ¹Ânition 1 Given a set P of propositional symbols, the set  of (well-formed) UB formulas is deÄÅ¹Âned by the grammar  In order to formalize our labeled deduction system N(UB),  we extend the syntax and semantics of UB as follows.  First of all, we extend the syntax by introducing labels  that represent states and paths in the underlying semantics.  More speciÄÅ¹Âcally, let us assume given two ÄÅ¹Âxed denumerable  sets of labels LS and LB . Intuitively, the labels x, y, z, . . . in  LS refer to states and the labels , 1 , 2 , . . . in LB refer  to path relations.  We also introduce a third kind of labels. We deÄÅ¹Âne L+B =  LB Ã¢ÂˆÅ {r(x, A) | x Ã¢ÂˆÂˆ LS ,  Ã¢ÂˆÂˆ {, }, A is a UB formula},  where we will write r(x, A) to denote labels in L+B \ LB ,  which refer to accessibility relations corresponding to distinct  paths of computation. Further, we will write R, R1 , R2 , . . .  to denote generic elements of L+B .  We can then deÄÅ¹Âne the formulas of N(UB): if x, y Ã¢ÂˆÂˆ LS ,  R Ã¢ÂˆÂˆ L+B and A is a UB formula, then  Ã¢ÂˆÂ—  Ã¢Â€Ë˜ xRy and xR y are relational well-formed formulas  (relational formulas or rwÄÅ¹Â€s for short), where the  superscript Ã¢ÂˆÂ— denotes the reÄÅ¹Â‚exive and transitive closure,  and  Ã¢Â€Ë˜ x : A is a labeled well-formed formula (labeled formula  or lwÄÅ¹Â€ for short).  In order to give a semantics for our labeled system, we  thus need to deÄÅ¹Âne explicitly an interpretation of the labels.  A ::= p |Ã¢ÂŠÄ½| A Ã¢ÂŠÂƒ A | Ã¢ÂˆÂ€A | Ã¢ÂˆÂƒA | Ã¢ÂˆÂƒA ,  where p Ã¢ÂˆÂˆ P. Other propositional connectives and temporal  operators can be deÄÅ¹Âned as abbreviations in the usual way.  DeÄÅ¹Ânition 2 A UB model is a triple M = (S, R, V) such  that S is a set of states; R Ã¢ÂŠÂ† S Ä‚Â— S is a serial binary relation,  i.e., for all s Ã¢ÂˆÂˆ S, there exists t Ã¢ÂˆÂˆ S such that R(s, t), also  denoted as sRt; and V : S Ã¢Â†Â’ 2P is a valuation function  assigning a subset of P to each state in S.  When sRt holds, we say that t is an immediate successor  of s. An R-path is a sequence of states (s0 , s1 , . . . , sn ) such  that si Rsi+1 for 0 Ã¢Â‰Â¤ i Ã¢Â‰Â¤ n Ã¢ÂˆÂ’ 1. An s-branch b is an inÄÅ¹Ânite  R-path b = (s0 , s1 , . . .) such that s = s0 . We write Rb to  denote the restriction of R to a given s-branch b, i.e., tRb t  iÄÅ¹Â€ t = si and t = si+1 for some i, and denote with RB the  set of all such Rb . We denote with RÃ¢ÂˆÂ— (respectively, RbÃ¢ÂˆÂ— ) the  reÄÅ¹Â‚exive and transitive closure of R (respectively, Rb ).  Given a UB model M and a state s Ã¢ÂˆÂˆ S, truth for a formula  A is the relation |=M,s deÄÅ¹Âned inductively as follows:  M,s Ã¢ÂŠÄ½  |=M,s p  |=M,s A Ã¢ÂŠÂƒ B  |=M,s Ã¢ÂˆÂ€A  |=M,s Ã¢ÂˆÂƒA  iÄÅ¹Â€  iÄÅ¹Â€  iÄÅ¹Â€  iÄÅ¹Â€  |=M,s Ã¢ÂˆÂƒA  iÄÅ¹Â€  p Ã¢ÂˆÂˆ V(s)  |=M,s A implies |=M,s B  for all t, sRÃ¢ÂˆÂ— t implies |=M,t A  there exists an s-branch b such that  for all t, sRbÃ¢ÂˆÂ— t implies |=M,t A  there exists t such that sRt and |=M,t A  DeÄÅ¹Ânition 3 Let L = LS Ã¢ÂˆÅ L+B and let M be a UB model  (S, R, V). An interpretation is a function I : L Ã¢Â†Â’ S Ã¢ÂˆÅ RB  such that:  Ã¢Â€Ë˜ for all x Ã¢ÂˆÂˆ LS , I(x) Ã¢ÂˆÂˆ S;  +  Ã¢Â€Ë˜ for all R Ã¢ÂˆÂˆ L B , I(R) Ã¢ÂˆÂˆ RB ;  +  Ã¢Â€Ë˜ if r(x, A) Ã¢ÂˆÂˆ L B \ L B , then  Ã¢Â€Â“ I(r(x, A)) = Rb for some I(x)-branch b;  Ã¢Â€Â“ if |=M,I(x) Ã¢ÂˆÂƒA, then for all t Ã¢ÂˆÂˆ S:  Ã¢ÂˆÂ— if  = , then I(x)I(r(x, A)) t implies |=M,t A;  Ã¢ÂˆÂ— if  = , then I(x)I(r(x, A))Ã¢ÂˆÂ— t implies |=M,t A;  Such a deÄÅ¹Ânition can be extended in a standard way to the  notions of satisÄÅ¹Âability by a model M, denoted by |=M , and  validity for all models, denoted by |=.  The Hilbert-style axiomatization H(UB) for the logic UB,  taken from [1], consists of the following set of axioms:  (CL)  (A1)  (A2)  (A3)  (A4)  (E1)  (E2)  (E3)  (E4)  Any tautology instance of classical propositional logic  Ã¢ÂˆÂ€(A Ã¢ÂŠÂƒ B) Ã¢ÂŠÂƒ (Ã¢ÂˆÂ€A Ã¢ÂŠÂƒ Ã¢ÂˆÂ€B)  Ã¢ÂˆÂ€(A Ã¢ÂŠÂƒ B) Ã¢ÂŠÂƒ (Ã¢ÂˆÂ€A Ã¢ÂŠÂƒ Ã¢ÂˆÂ€B)  Ã¢ÂˆÂ€A Ã¢ÂŠÂƒ (Ã¢ÂˆÂ€A Ã¢ÂˆÂ§ Ã¢ÂˆÂ€Ã¢ÂˆÂ€A)  Ã¢ÂˆÂ€(A Ã¢ÂŠÂƒ Ã¢ÂˆÂ€A) Ã¢ÂŠÂƒ (A Ã¢ÂŠÂƒ Ã¢ÂˆÂ€A)  Ã¢ÂˆÂ€(A Ã¢ÂŠÂƒ B) Ã¢ÂŠÂƒ (Ã¢ÂˆÂƒA Ã¢ÂŠÂƒ Ã¢ÂˆÂƒB)  Ã¢ÂˆÂƒA Ã¢ÂŠÂƒ (A Ã¢ÂˆÂ§ Ã¢ÂˆÂƒÃ¢ÂˆÂƒA)  Ã¢ÂˆÂ€A Ã¢ÂŠÂƒ Ã¢ÂˆÂƒA  Ã¢ÂˆÂ€(A Ã¢ÂŠÂƒ Ã¢ÂˆÂƒA) Ã¢ÂŠÂƒ (A Ã¢ÂŠÂƒ Ã¢ÂˆÂƒA)  The notion of interpretation allows us to extend the truth  relation of DeÄÅ¹Ânition 2 to labeled formulas, as well as deÄÅ¹Âne  truth of relational formulas.  DeÄÅ¹Ânition 4 Given a UB model M = (S, R, V) and an  interpretation I on it, truth for a formula ÄÂ• (labeled or  relational) is the relation |=M,I deÄÅ¹Âned as follows:  |=M,I x : A  |=M,I xRy  |=M,I xRÃ¢ÂˆÂ— y  and of the following two rules of inference:  (MP) If A and A Ã¢ÂŠÂƒ B then B  (Nec) If A then Ã¢ÂˆÂ€A  iÄÅ¹Â€  iÄÅ¹Â€  iÄÅ¹Â€  |=M,I(x) A  I(x)I(R)I(y)  I(x)I(R)Ã¢ÂˆÂ— I(y)  When |=M,I ÄÂ•, we say that ÄÂ• is true in M according to I.  By extension:  The set of theorems of H(UB) is the smallest set containing  this set of axioms and closed with respect to these rules  46  39  |=M,I ÃÂ“  ÃÂ“ |=M,I ÄÂ•  |=M ÄÂ•  |=M ÃÂ“  ÃÂ“ |= ÄÂ•  iÄÅ¹Â€  iÄÅ¹Â€  iÄÅ¹Â€  iÄÅ¹Â€  iÄÅ¹Â€  B. The Rules of N(UB)  |=M,I ÄÂ• for all ÄÂ• Ã¢ÂˆÂˆ ÃÂ“  |=M,I ÃÂ“ implies |=M,I ÄÂ•  for every interpretation I, |=M,I ÄÂ•  for every interpretation I, |=M,I ÃÂ“  for every UB model M and  interpretation I, ÃÂ“ |=M,I ÄÂ•  R. reÄÅ¹Â‚ and trans model reÄÅ¹Â‚exivity and transitivity of each  relation, respectively, whereas comp states that it is possible  to compose two relations, i.e., if xRÃ¢ÂˆÂ—1 y and yRÃ¢ÂˆÂ—2 z, then there  exists a third relation Ã¢ÂˆÂ— such that x Ã¢ÂˆÂ— z. Finally, we have  two rules capturing two diÄÅ¹Â€erent aspects of the seriality of  the relations. ser captures the fact that, given a state x, there  is at least a relation passing through x and a successor along  that relation. sersk says that, given a state x and a Skolem  function r(x, B), there exists a successor of x along that  relation.  Induction Rules: Finally, we have two rules modeling  the induction principle underlying the relation between R  and RÃ¢ÂˆÂ— . Intuitively, indÃ¢ÂˆÂ€ corresponds to the axiom (A4) of  H(UB), whereas indÃ¢ÂˆÂƒ corresponds to (E4) (cf. the proof of  (E4) in Fig. 2, which makes crucial use of the indÃ¢ÂˆÂƒ rule).  The rules of N(UB) are given in Fig. 1. We can classify  them into four categories: (i) rules for classical connectives,  (ii) rules for temporal operators, (iii) relational rules, and (iv)  induction rules.  Rules for Classical Connectives: The rules for the  logical connectives mirror those of other labeled natural  deduction systems for modal logics, e.g., [13], [15]. The rules  Ã¢ÂŠÂƒI and Ã¢ÂŠÂƒE are the labeled version of the standard [9] natural  deduction rules for implication introduction and elimination.  The rule Ã¢ÂŠÄ½E is a labeled version of reductio ad absurdum,  where we do not enforce PrawitzÃ¢Â€Â™s side condition that A Ã¢ÂŠÄ½  and we do not constrain the world in which we derive a  contradiction to be the same as in the assumption.  Rules for Temporal Operators: The rules for the  introduction and the elimination of Ã¢ÂˆÂ€, Ã¢ÂˆÂƒ and Ã¢ÂˆÂƒ follow the  same structure as the rules for introduction and elimination  of  in labeled systems for modal logics. Let us consider  Ã¢ÂˆÂ€I; the idea is that the meaning of x : Ã¢ÂˆÂ€A is given by the  metalevel implication x Ã¢ÂˆÂ— y =Ã¢Â‡Â’ y : A for an arbitrary path  denoted by the relation  and an arbitrary y Ã¢ÂˆÂ— -accessible  from x. The arbitrariness of both  and y is ensured by the  side-conditions of the rule.  Introductions of Ã¢ÂˆÂƒ and Ã¢ÂˆÂƒ follow the same principle,  but relax the freshness condition on the label denoting the  relation, thus allowing us to reason on a single speciÄÅ¹Âc path.  Note that in this case a further premise (xRz) is required:  such a premise works as a Ã¢Â€ÂœwitnessÃ¢Â€Â, in the sense that it  ensures that the relation R considered is indeed a relation  passing through the state x.  For what concerns the elimination rules, the intuition  behind Ã¢ÂˆÂ€E is that if Ã¢ÂˆÂ€A holds in a state x and y is  accessible from x (along some path), then it is possible  to conclude that A holds in y. The case of Ã¢ÂˆÂƒE and Ã¢ÂˆÂƒE  is similar but complicated by the fact that the universal  linear-time operator ( or ) is preceded by an existential  path quantiÄÅ¹Âer (Ã¢ÂˆÂƒ), which prevents us from inferring the  conclusion for a successor along an arbitrary relation. Our  solution is based on the novel idea of using Skolem functions  as names for particular relations, e.g., r(x, A) denotes a  relation passing at x and such that if Ã¢ÂˆÂƒA holds in x, then  A holds at each successor of x along r(x, A).  Relational Rules: Relational rules allow for modeling  properties of the accessibility relations.1 In particular, the rule  base expresses the fact that for each relation R, RÃ¢ÂˆÂ— contains  Given the rules in Fig. 1, the notions of derivation,  conclusion, open and discharged assumption are the standard  ones (see, e.g., [4], pp. 127-129) for natural deduction  systems. We write  ÃÂ“ N(UB) x : A  to say that there exists a derivation of x : A in the system  N(UB) whose open assumptions are all contained in the set  of formulas ÃÂ“. A derivation of x : A in N(UB) where all the  assumptions are discharged is a proof of x : A in N(UB)  and we then say that x : A is a theorem of N(UB) and write  N(UB) x : A. To denote that ÃÂ  is a derivation of x : A whose  set of assumptions may contain the formulas ÄÂ•1 , . . . , ÄÂ•n , we  write  ÄÂ•1 . . . ÄÂ•n  Ã  x:A  As an example, which will also be useful for the proof  of completeness later on, in Fig. 2 we give derivations for  the labeled versions of the axioms (E2) and (E4), which are  obtained simply by preÄÅ¹Âxing the axioms with the state label  x. For simplicity, in these derivations, we use a rule Ã¢ÂˆÂ§I, a  labeled version of the standard rule for introduction of Ã¢ÂˆÂ§  [10], which is not included in the presentation of the system  but is easily derivable from the rules of Fig. 1.  IV. Soundness and completeness  The system N(UB) is sound and (weakly) complete with  respect to the semantics of Section II, as can be shown  by adapting standard proof techniques for labeled natural  deduction systems.  Theorem 5 (Soundness) For every set ÃÂ“ of labeled and  relational formulas and every labeled formula x : A, it holds  that ÃÂ“ N(UB) x : A Ã¢Â‡Â’ ÃÂ“ |= x : A.  Proof (sketch): The proof proceeds by induction on the  structure of the derivation of x : A. The base case is when  x : A Ã¢ÂˆÂˆ ÃÂ“ and is trivial. There is one step case for every  1 Note that in these rules we use rwÄÅ¹Â€s as auxiliary formulas in order to  derive lwÄÅ¹Â€s. Rules treating rwÄÅ¹Â€s as full-ÄÅ¹Â‚edged ÄÅ¹Ârst class formulas, which  can be assumed and derived, could also be deÄÅ¹Âned in the style of [15].  47  40  [x : A. Ã¢ÂŠÂƒÃ¢ÂŠÄ½]  ..  .  y :Ã¢ÂŠÄ½  Ã¢ÂŠÄ½E  x:A  [x :. A]  ..  .  x:B  Ã¢ÂŠÂƒI  x:AÃ¢ÂŠÂƒB  [xRÃ¢ÂˆÂ— y]  ..  ..  y : A xRz  Ã¢ÂˆÂƒI  x : Ã¢ÂˆÂƒA  x : Ã¢ÂˆÂƒA  [xRy]  ..  ..  y : A xRz  Ã¢ÂˆÂƒI  x : Ã¢ÂˆÂƒA  [xR.Ã¢ÂˆÂ— x]  ..  .  xRz y : A  reÄÅ¹Â‚  y:A  [x Ã¢ÂˆÂ—1 z]  [z 2 w] [z : A]  ..  ..  w:A  indÃ¢ÂˆÂ€  xRÃ¢ÂˆÂ— y  x:A  x:AÃ¢ÂŠÂƒB x:A  Ã¢ÂŠÂƒE  x:B  x r(x, A)Ã¢ÂˆÂ— y  Ã¢ÂˆÂƒE  y:A  [xRÃ¢ÂˆÂ— y]  ..  ..  xRy z : A  base  z:A  y:A  [x Ã¢ÂˆÂ— y]  ..  ..  y:A  Ã¢ÂˆÂ€I  x : Ã¢ÂˆÂ€A  x : Ã¢ÂˆÂ€A xRÃ¢ÂˆÂ— y  Ã¢ÂˆÂ€E  y:A  x : Ã¢ÂˆÂƒA  x r(x, A) y  Ã¢ÂˆÂƒE  y:A  [xR. Ã¢ÂˆÂ— z]  ..  .  Ã¢ÂˆÂ—  yR z w : A  trans  w:A  xRÃ¢ÂˆÂ— y  xRÃ¢ÂˆÂ—1 y  [x Ã¢ÂˆÂ— y]  x:A  [x  y]  ..  ..  z:A  ser  z:A  x r(x, A)Ã¢ÂˆÂ— w  w:A  [x r(x, B) y]  ..  ..  z : A ser  sk  z:A  [x . Ã¢ÂˆÂ— z]  ..  .  Ã¢ÂˆÂ—  yR2 z w : A  comp  w:A  [y r(y, A) z] [y : A]  ..  ..  z:A  indÃ¢ÂˆÂƒ  In Ã¢ÂˆÂ€I (respectively Ã¢ÂˆÂƒI, Ã¢ÂˆÂƒI), y is fresh, i.e., it is diÄÅ¹Â€erent from x and does not occur in any assumption on which y : A depends other  than the discharged assumption x Ã¢ÂˆÂ— y (respectively xRÃ¢ÂˆÂ— y, xRy). Moreover, in Ã¢ÂˆÂ€I,  is fresh, i.e., it does not occur in any assumption on  which y : A depends other than the discharged assumption x Ã¢ÂˆÂ— y.  In ser, y and  are fresh, i.e., they do not occur in any assumption on which z : A depends other than the discharged assumption x  y; y  is diÄÅ¹Â€erent from z.  In sersk , y is fresh, i.e., it is diÄÅ¹Â€erent from x and z and does not occur in any assumption on which z : A depends other than the discharged  assumption.  In comp,  is fresh, i.e., it is diÄÅ¹Â€erent from R1 and R2 and does not occur in any assumption on which w : A depends other than the  discharged assumption x Ã¢ÂˆÂ— z.  In indÃ¢ÂˆÂ€, z, w, 1 and 2 are fresh, i.e., they are diÄÅ¹Â€erent from each other and from x, y and R, and do not occur in any assumption on  which w : A depends other than the discharged assumptions of the rule.  In indÃ¢ÂˆÂƒ, y, z and  are fresh, i.e., they are diÄÅ¹Â€erent from each other and from x and w, and do not occur in any assumption on which z : A  depends other than the discharged assumptions of the rule.  Figure 1.  [x : Ã¢ÂˆÂƒA]1 [x r(x, A)Ã¢ÂˆÂ— x]3  Ã¢ÂˆÂƒE  [x r(x, A) w]2  x:A  reÄÅ¹Â‚3  x:A  sersk 2  x:A  The rules of N(UB)  [x : Ã¢ÂˆÂƒA]1 [x r(x, A)Ã¢ÂˆÂ— z]8  Ã¢ÂˆÂƒE  [x r(x, A)Ã¢ÂˆÂ— y]7 [y r(x, A)Ã¢ÂˆÂ— z]6  z:A  trans8  5  [xr(x, A)y]  z:A  base7  z:A  [x r(x, A) w]4  Ã¢ÂˆÂƒI 6  y : Ã¢ÂˆÂƒA  x : Ã¢ÂˆÂƒÃ¢ÂˆÂƒA  sersk 4  x : Ã¢ÂˆÂƒÃ¢ÂˆÂƒA  Ã¢ÂˆÂ§I  x : A Ã¢ÂˆÂ§ Ã¢ÂˆÂƒÃ¢ÂˆÂƒA  Ã¢ÂŠÂƒI 1  x : Ã¢ÂˆÂƒA Ã¢ÂŠÂƒ (A Ã¢ÂˆÂ§ Ã¢ÂˆÂƒÃ¢ÂˆÂƒA)  [x : Ã¢ÂˆÂ€(A Ã¢ÂŠÂƒ Ã¢ÂˆÂƒA)]1 [x Ã¢ÂˆÂ— y]5  Ã¢ÂˆÂ€E  y : A Ã¢ÂŠÂƒ Ã¢ÂˆÂƒA  y : Ã¢ÂˆÂƒA  2  [x : A]  Ã¢ÂˆÂ—  [x r(x, A) w]  4  [y : A]5  z:A  w:A  Ã¢ÂŠÂƒE  [y r(y, A) z]5  Ã¢ÂˆÂƒE  indÃ¢ÂˆÂƒ5  x : Ã¢ÂˆÂƒA  sersk 3  x : Ã¢ÂˆÂƒA  Ã¢ÂŠÂƒI 2  x : A Ã¢ÂŠÂƒ Ã¢ÂˆÂƒA  Ã¢ÂŠÂƒI 1  x : Ã¢ÂˆÂ€(A Ã¢ÂŠÂƒ Ã¢ÂˆÂƒA) Ã¢ÂŠÂƒ (A Ã¢ÂŠÂƒ Ã¢ÂˆÂƒA)  Figure 2.  Derivations of the labeled versions of (E2) and (E4)  48  41  [x r(x, A) v]3  Ã¢ÂˆÂƒI 4  [x r(x, A) w]4  Ã¢ÂˆÂƒI 5  Theorem 6 (Weak completeness) For every UB formula A  and x Ã¢ÂˆÂˆ LS , it holds that |= x : A Ã¢Â‡Â’ N(UB) x : A.  rule; we show here two representative cases as the other ones  follow in a similar way.  Consider the case when the last rule applied is Ã¢ÂˆÂƒI:  Proof (sketch): We prove the thesis by showing that  N(UB) is complete with respect to the axiomatization H(UB),  which is known to be sound and complete for the logic  UB [1]. In other words, we need to prove that: (i) (the  labeled versions) of all of the axioms of H(UB) are provable  in N(UB) and (ii) N(UB) is closed under the (labeled  equivalent of the) rules of inference of H(UB). Showing  (ii) is straightforward and we omit it here. As for (i), see the  derivations that we have given for the labeled versions of two  of the axioms in Fig. 2; the other axioms follow similarly.  [xRÃ¢ÂˆÂ— y]  Ã  y : A xRz  Ã¢ÂˆÂƒI  x : Ã¢ÂˆÂƒA  where ÃÂ  is a proof of y : A from hypotheses in ÃÂ“2 = ÃÂ“1 Ã¢ÂˆÅ  {xRÃ¢ÂˆÂ— y} for some set ÃÂ“1 of formulas, with y fresh. By the  induction hypothesis, for each model M and interpretation  I, if |=M,I ÃÂ“2 then |=M,I y : A. We consider an I and a  M = (S, R, V) such that |=M,I ÃÂ“ = ÃÂ“1 Ã¢ÂˆÅ {xRz}, and show that  |=M,I x : Ã¢ÂˆÂƒA. Let I(x) = s and I(R) = Rb . Since |=M,I ÃÂ“,  we have |=M,I xRz, i.e., sRbÃ¢ÂˆÂ— I(z), b is a branch passing  through s. Now let s be an arbitrary successor of s along  the branch b, i.e., sRbÃ¢ÂˆÂ— s . We can deÄÅ¹Âne an interpretation I  such that I (y) = s and I (ÃÂ´) = I(ÃÂ´) if ÃÂ´  y. Since y is  fresh and I diÄÅ¹Â€ers from I only in the value assigned to  y, we have |=M,I ÃÂ“1 . Moreover, |=M,I xRz and this implies  |=M,I ÃÂ“2 . By the induction hypothesis, |=M,I y : A, which  yields |=M,s A. But since s was arbitrary, we can conclude  |=M,s Ã¢ÂˆÂƒA, i.e., |=M,I(x) Ã¢ÂˆÂƒA, and thus |=M,I x : Ã¢ÂˆÂƒA.  Consider the case in which the last rule applied is indÃ¢ÂˆÂƒ:  Ã  x:A  [x Ã¢ÂˆÂ— y]  Ã¢ÂˆÂ—  x r(x, A) w  w:A  V. Normalization  The presence of rules indÃ¢ÂˆÂ€ and indÃ¢ÂˆÂƒ modeling an induction  principle suggests an analogy with deduction systems for  Peano arithmetic (e.g., [10], [14], [4]). Although it can  be proved that the standard subformula property does not  hold for such systems, it is possible to consider forms of  (even strong) normalization that allow us to obtain a purely  syntactical proof of consistency.  In [6], where a labeled natural deduction system for  the logic BCTLÃ¢ÂˆÂ’Ã¢ÂˆÂ— , i.e. the until-free version of CTLÃ¢ÂˆÂ— with  a bundled semantics, is presented, the authors deÄÅ¹Âne a  normalization procedure based on the use of candidates  of reducibility, from which, in analogy with systems for  Arithmetic, they infer a proof of the consistency of the  system. We have been working on a full presentation of a  normalization procedure for N(UB), which we expect to be  able to obtain by imposing some restrictions on the system  and by properly adapting the results in [6]. In this paper,  we focus on the treatment of the most interesting cases,  i.e., those involving the introduction of Skolem functions,  which constitute the backbone of the full normalization proof.  Namely, we show how to deÄÅ¹Âne a proper reduction rule  for the case of a detour, i.e., an introduction immediately  followed by an elimination of the same operator, involving  the operator Ã¢ÂˆÂƒ (the case of Ã¢ÂˆÂƒ is analogous).  As we discussed in the introduction, Ã¢Â€ÂœexistentialÃ¢Â€Â operators  are typically eliminated in an indirect way (see, e.g., the rule  E shown in the introduction or the rule for elimination  of Ã¢ÂˆÂƒ in natural deduction systems for ÄÅ¹Ârst-order logic [9]):  a Ã¢Â€ÂœparallelÃ¢Â€Â derivation is started where further assumptions  providing a witness for the existential (e.g., the formulas  xRy and y : A in E) are available; the conclusion of such  a parallel derivation is then used as a conclusion of the  elimination rule and we go back to the Ã¢Â€ÂœmainÃ¢Â€Â derivation.  If we wanted to deÄÅ¹Âne an elimination rule with a similar  structure for Ã¢ÂˆÂƒ, the universal quantiÄÅ¹Âcation expressed by  the linear-time operator  would require the possibility of  assuming a rule (and not just a formula) in the parallel  derivation, as allowed in the framework of higher-level natural  [y r(y, A) z] [y : A]  Ã  z:A  indÃ¢ÂˆÂƒ  where ÃÂ  is a proof of z : A from hypotheses in ÃÂ“2 and  ÃÂ  is a proof of x : A from hypotheses in ÃÂ“1 , with ÃÂ“ =  ÃÂ“1 Ã¢ÂˆÅ{x r(x, A)Ã¢ÂˆÂ— w} and ÃÂ“2 = ÃÂ“1 Ã¢ÂˆÅ{xÃ¢ÂˆÂ— y, y r(y, A) z, y : A}  for some set ÃÂ“1 of formulas. By applying the induction  hypothesis on ÃÂ  and ÃÂ  , we have: ÃÂ“2 |= z : A and ÃÂ“1 |= x : A.  We proceed by considering a generic model M = (S, R, V)  and a generic interpretation I on it such that |=M,I ÃÂ“ and  showing that this entails |=M,I w : A. Let I(x) = s. For  each R-successor s of s such that |=M,s A, we can deÄÅ¹Âne  an interpretation I such that I (y) = s and I (z) is an Rsuccessor s of s along a Ã¢Â€ÂœprivilegedÃ¢Â€Â branch I (r(y, A))  (that makes A hold in s if A holds in s ). For the other  labels, I behaves as I. By induction hypothesis on ÃÂ , we  get |=M,s A and thus |=M,s A. But s is just an arbitrary  R-successor of s such that |=M,s A. By induction, and by  using the fact that in UB models it holds in general that if  s1 Rb s2 and s2 Rb s3 then there exists a Rb such that s1 Rb s3 ,  we can prove that |=M,s Ã¢ÂˆÂƒA, i.e., |=M,I x : Ã¢ÂˆÂƒA. Since  |=M,I ÃÂ“, we also have |=M,I xr(x, A)w. By DeÄÅ¹Ânition 3, we  conclude |=M,I w : A.  The proposed system N(UB) consists of only ÄÅ¹Ânitary rules;  consequently, it cannot be strongly complete for the logic  UB, which does not enjoy compactness. We can prove weak  completeness, i.e., that for each valid formula of UB, we can  derive in N(UB) the corresponding labeled formula.  49  42  [x : A Ã¢ÂŠÂƒÃ¢ÂŠÄ½]  .  .  .  .  y :Ã¢ÂŠÄ½, ÃÅ  Ã¢ÂŠÄ½E N  x : A, ÃÅ  [x : A]  .  ..  .  x : B, ÃÅ  Ã¢ÂŠÂƒIN  x : A Ã¢ÂŠÂƒ B, ÃÅ  [xRÃ¢ÂˆÂ— y]  .  ..  .  y : A, ÃÅ xRz  Ã¢ÂˆÂƒIN  x : Ã¢ÂˆÂƒA, ÃÅ  x : A Ã¢ÂŠÂƒ B, ÃÅ1 x : A, ÃÅ2  Ã¢ÂŠÂƒE N  x : B, ÃÅ1 Ã¢ÂˆÅ ÃÅ2  [x Ã¢ÂˆÂ—1 z]  x : A, ÃÅ1  xRÃ¢ÂˆÂ— y  y : A, ÃÅ1 Ã¢ÂˆÅ ÃÅ2  [z 2 w]  ..  ..  w : A, ÃÅ2  [xRÃ¢ÂˆÂ— x]  ..  .  .  xRz y : A, ÃÅ  reÄÅ¹Â‚N  y : A, ÃÅ  [xRÃ¢ÂˆÂ— z]  ..  .  .  xRÃ¢ÂˆÂ— y yRÃ¢ÂˆÂ— z w : A, ÃÅ  transN  w : A, ÃÅ  [x Ã¢ÂˆÂ— z]  ..  ..  xRÃ¢ÂˆÂ—1 y yRÃ¢ÂˆÂ—2 z w : A, ÃÅ  [z : A]  indÃ¢ÂˆÂ€N  x : Ã¢ÂˆÂ€A, ÃÅ xRÃ¢ÂˆÂ— y  Ã¢ÂˆÂ€E N  y : A, ÃÅ  [xRy]  .  ..  .  y : A, ÃÅ xRz  Ã¢ÂˆÂƒIN  x : Ã¢ÂˆÂƒA, ÃÅ  x : Ã¢ÂˆÂƒA, ÃÅ x r(x, A)Ã¢ÂˆÂ— y  Ã¢ÂˆÂƒE N  y : A, ÃÅ Ã¢ÂˆÅ {r(x, A), {ÄÂ•1 , . . . , ÄÂ•n }}  [xRÃ¢ÂˆÂ— y]  ..  ..  xRy z : A, ÃÅ  baseN  z : A, ÃÅ  [x Ã¢ÂˆÂ— y]  .  .  .  .  y : A, ÃÅ  Ã¢ÂˆÂ€IN  x : Ã¢ÂˆÂ€A, ÃÅ  w : A, ÃÅ  compN  [x  y]  .  ..  .  z : A, ÃÅ  serN  z : A, ÃÅ  x : Ã¢ÂˆÂƒA, ÃÅ x r(x, A) y  Ã¢ÂˆÂƒE N  y : A, ÃÅ Ã¢ÂˆÅ {r(x, A), {ÄÂ•1 , . . . , ÄÂ•n }}  [x r(x, B) y]  ..  ..  z : A, ÃÅ  serskN  z : A, ÃÅ \ ÃÅD  [x Ã¢ÂˆÂ— y] [y r(y, A) z] [y : A]  ..  ..  z : A, ÃÅ2  x : A, ÃÅ1 x r(x, A)Ã¢ÂˆÂ— w  indÃ¢ÂˆÂƒN  w : A, ÃÅ1 Ã¢ÂˆÅ ÃÅ2 Ã¢ÂˆÅ {r(x, A), {ÄÂ•1 , . . . , ÄÂ•n }} \ ÃÅD  In all the rules above, an assumption can be discharged only if the formula in the assumption does not occur in the context of the conclusion.  In Ã¢ÂˆÂ€IN (respectively Ã¢ÂˆÂƒIN , Ã¢ÂˆÂƒIN ), y is fresh, i.e., it is diÄÅ¹Â€erent from x and does not occur in any assumption on which y : A depends other than the  discharged assumption x Ã¢ÂˆÂ— y (respectively xRÃ¢ÂˆÂ— y, xRy). Moreover, in Ã¢ÂˆÂ€IN ,  is fresh, i.e., it does not occur in any assumption on which y : A depends  other than the discharged assumption x Ã¢ÂˆÂ— y.  In serN , y and  are fresh, i.e., they do not occur in any assumption on which z : A depends other than the discharged assumption x  y; moreover y is  diÄÅ¹Â€erent from z.  In Ã¢ÂˆÂƒE N (Ã¢ÂˆÂƒE N ), ÄÂ•1 , . . . , ÄÂ•n are the open assumptions on which x : Ã¢ÂˆÂƒA, ÃÅ (x : Ã¢ÂˆÂƒA, ÃÅ) depends.  In serskN , y is fresh, i.e., it is diÄÅ¹Â€erent from x and z and does not occur in any assumption on which z : A depends other than the discharged assumption.  If the conclusion of the rule does not depend on any open assumption where r(x, B) occurs, then ÃÅD represents any set of dependences of the form  r(x, B), ÃÂ“ for ÃÂ“ a set of formulas; ÃÅD is empty otherwise.  In indÃ¢ÂˆÂ€N , z, w, 1 and 2 are fresh, i.e., they are diÄÅ¹Â€erent from each other and from x, y and R, and do not occur in any assumption on which w : A  depends other than the discharged assumptions of the rule.  In compN ,  is fresh, i.e., it is diÄÅ¹Â€erent from R1 and R2 and does not occur in any assumption on which w : A depends other than the discharged assumption  x Ã¢ÂˆÂ— z.  In indÃ¢ÂˆÂƒN , y, z and  are fresh, i.e., they are diÄÅ¹Â€erent from each other and from x and w, and do not occur in any assumption on which z : A depends other  than the discharged assumptions of the rule. ÄÂ•1 , . . . , ÄÂ•n are the open assumptions on which x : A, ÃÅ1 and z : A depend other than the ones discharged by the  rule itself. If the conclusion of the rule does not depend on any open assumption where r(y, A) occurs, then ÃÅD represents any set of dependences of the  form r(y, A), ÃÂ“ for ÃÂ“ a set of formulas; ÃÅD is empty otherwise.  Figure 3.  The rules of N(UBN )  where ÃÂ Ã¢ÂˆÂ—2 is obtained from ÃÂ 2 by replacing each application  xÃ¢ÂˆÂ— y  of y:A2 by a proper instance of ÃÂ 1 .  deduction systems introduced in [12]2 , i.e.  Ã¢ÂˆÂ—  x : Ã¢ÂˆÂƒA  z:B  y  ]  [ x  y:A  ..  ..  z:B  Instead of adding such higher-level rules, in N(UB) we  rather prefer to instantiateÃ¢Â€Â”by means of Skolem functionsÃ¢Â€Â”  the relations over which we quantify universally and deÄÅ¹Âne  a Ã¢Â€ÂœdirectÃ¢Â€Â elimination rule for Ã¢ÂˆÂƒ (and Ã¢ÂˆÂƒ), because this  instantiation allows us to model the induction step in the  induction rule indÃ¢ÂˆÂƒ (which we would not be able to express  if Ã¢ÂˆÂƒ was eliminated indirectly).  Ã¢ÂˆÂƒESH  Inside the derivation of z : B, and only there, we are allowed  to use a further rule that, given a fresh  and for any y such  that x Ã¢ÂˆÂ— y, concludes y : A.  A reduction for an Ã¢ÂˆÂƒI/Ã¢ÂˆÂƒESH detour is the following:  [xRÃ¢ÂˆÂ—1 w]  ÃÂ 1  w : A xR1 z  Ã¢ÂˆÂƒI  x : Ã¢ÂˆÂƒA  z:B  [  This makes our normalization procedure a bit more  involved. In reducing Ã¢ÂˆÂƒ detours, we want to use the same  idea seen with the rule Ã¢ÂˆÂƒESH but, in order to do that,  we need to identify, in our derivation, the subderivation  that corresponds to the parallel derivation of the previous  example. In such a subderivation, we will replace the Skolem  function involved in the elimination rule by the relation used  to introduce Ã¢ÂˆÂƒ. Further, as in the previous example, in  such a subderivation, we will possibly reuse the derivation  xÃ¢ÂˆÂ—2 y  ]  y:A  ÃÂ 2  z:B  Ã¢ÂˆÂƒESH    ÃÂ Ã¢ÂˆÂ—2  z:B  2 Similarly, we might deÄÅ¹Âne an indirect elimination rule for Ã¢ÂˆÂƒ and Ã¢ÂˆÂƒ  by using Skolemization and the pattern of general elimination rules [8].  50  43  that introduced Ã¢ÂˆÂƒ (ÃÂ 1 in the example above) in all the  cases where the Skolem function was used in a signiÄÅ¹Âcant  way, i.e., in applications of rules that speciÄÅ¹Âcally require the  presence of a Skolem function. However, such a replacement  is justiÄÅ¹Âed only if all the assumptions of ÃÂ 1 are still open  in this subderivation. While this requirement is satisÄÅ¹Âed by  construction in the case of indirect elimination rules, in our  case we need to enforce it by introducing some restrictions  on the applicability of rules.3  This leads us to deÄÅ¹Âne a variant N(UBN ) of the system  N(UB). Some further terminology is required:  Ã¢Â€Ë˜  Ã¢Â€Ë˜  Ã¢Â€Ë˜  Since N(UBN ) only introduces restrictions on the applicability of the rules of N(UB), the soundness of N(UBN ) is a  direct consequence of the soundness of N(UB). Furthermore,  one can show that all the N(UB) derivations of the axioms  of H(UB) shown in Section IV are still legal in N(UBN ),  thus proving that N(UBN ) is also complete (with respect to  formulas with empty contexts).  We say that a derivation ÃÂ  is pure if for all R Ã¢ÂˆÂˆ L+B \  LB , R does not occur in the conclusion nor in any open  assumption of ÃÂ . When normalizing, we restrict to consider  pure derivations. Without loss of generality, we can assume  that each pure derivation containing a detour Ã¢ÂˆÂƒIN /Ã¢ÂˆÂƒE N  has the following form:  r(x, A), {ÄÂ•1 , . . . , ÄÂ•n }, where r(x, A) Ã¢ÂˆÂˆ L+B \ LB and  ÄÂ•i is an lwÄÅ¹Â€ or a rwÄÅ¹Â€ for 1 Ã¢Â‰Â¤ i Ã¢Â‰Â¤ n, is a dependence;  {ÄÂƒ1 , . . . , ÄÂƒn }, where ÄÂƒi is a dependence for 1 Ã¢Â‰Â¤ i Ã¢Â‰Â¤ n, is  a context;  (ÄÂ•, ÃÅ), where ÄÂ• is a lwÄÅ¹Â€ and ÃÅ is a context, is a formula  with context (for simplicity, we will often omit the  parentheses).  ÄÂ•1 . . . ÄÂ•n [xRÃ¢ÂˆÂ— y]  ÃÂ 1  y : A, ÃÅ  xRx  Ã¢ÂˆÂƒIN  x : Ã¢ÂˆÂƒA, ÃÅ  [x r(x, A)Ã¢ÂˆÂ— z]  Ã¢ÂˆÂƒE N  z : A, ÃÅ Ã¢ÂˆÅ {r(x, A), {ÄÂ•1 , . . . , ÄÂ•n }}  ÃÂ 2  w : B, ÃÅ  ÃÂ 3  In N(UBN ), we reason on formulas with contexts, where  the dependences in such contexts are used to keep track of  which assumptions cannot be discharged along a derivation.  Namely, when eliminating Ã¢ÂˆÂƒ and Ã¢ÂˆÂƒ, we add in the context a  dependence between the Skolem function introduced and the  set of assumptions on which the eliminated formula depends.  Such a dependence will be removed from the context when  all the assumptions where the Skolem function occurs have  been discharged.  Inference rules are, of course, modiÄÅ¹Âed to account for  contexts. The full set of rules of the labeled natural deduction  system N(UBN ) is given in Fig. 3.  We use Ã¢ÂˆÅ to denote an operation on the syntax which,  given two contexts ÃÅ1 and ÃÅ2 , corresponding to the sets  of dependences ÃÂ”1 and ÃÂ”2 respectively, returns any context  ÃÅ1 Ã¢ÂˆÅ ÃÅ2 which corresponds to the set union of ÃÂ”1 and ÃÂ”2 .  Similarly, \ operates on contexts as the set-minus operator  does on the corresponding sets of dependences. The sideconditions of Fig. 1 still apply. Moreover, in all the rules  of N(UBN ), an assumption can be discharged only if the  formula in the assumption does not occur in the context of  the conclusion (and this highlights the main use of contexts).  The rules Ã¢ÂˆÂƒE N , Ã¢ÂˆÂƒE N and indÃ¢ÂˆÂƒN introduce dependences,  while serskN and indÃ¢ÂˆÂƒN allow one to eliminate dependences  from a context.  It is not diÄÅ¹Âƒcult to prove that  where ÃÂ 2 is the smallest subderivation having z : A, ÃÅ Ã¢ÂˆÅ  {r(x, A), {ÄÂ•1 , . . . , ÄÂ•n }} as one of its assumptions and concluding with a formula (w : B, ÃÅ ) such that ÃÅ does not  contain the dependence r(x, A), {ÄÂ•1 , . . . , ÄÂ•n } (such a ÃÂ 2  exists since we deal with pure derivations). The derivation  above can be reduced to the following one:  ÄÂ•1 . . . ÄÂ•n [xRÃ¢ÂˆÂ— z]  ÃÂ 1 [z/y]  z : A, ÃÅ[z/y]  ÃÂ Ã¢ÂˆÂ—2 [R/r(x, A)]  w : B, ÃÅ  ÃÂ 3  where the assumption xRÃ¢ÂˆÂ— z can be discharged by the application that discharges x r(x, A)z in ÃÂ 2 (or by its transformation  in ÃÂ Ã¢ÂˆÂ—2 , see below). The idea is that, since R is the relation that  made it possible to derive x : Ã¢ÂˆÂƒA, we can safely replace  any occurrence of r(x, A) by R itself.  However, a blind replacement of each occurrence of  r(x, A) by R in ÃÂ 2 does not necessarily give rise to a  well-deÄÅ¹Âned N(UBN ) derivation. In particular, this is not the  case if r(x, A) is used in ÃÂ 2 in a signiÄÅ¹Âcant way, i.e., in  an application of serskN , Ã¢ÂˆÂƒIN or indÃ¢ÂˆÂƒN . In such cases, it is  necessary to further modify the structure of ÃÂ 2 by means of  an iterative process whose result we denote by ÃÂ Ã¢ÂˆÂ—2 . Such a  process consists in: (i) replacing each application of serskN  that uses r(x, A) as follows:  Theorem 7 N(UBN ) and N(UB) are equivalent.  The truth relation for formulas with contexts can be simply  deÄÅ¹Âned as:  |=M,I (x : A, ÃÅ) iÄÅ¹Â€  |=M,I(x) A  [x r(x, A)x ]  Ã  v : C, ÃÅ  serskN  v : C, ÃÅ \ ÃÅD  3 This  is similar to what is done in those systems for ÄÅ¹Ârst-order logic  in which a rule of existential instantiation is used instead of existential  elimination (see, e.g., [7]).  51  44    xRx  ÃÂ  Ã¢ÂˆÂ— [R/r(x, A), x /x ]  v : C, ÃÅ [R/r(x, A)]  (ii) replacing each application of Ã¢ÂˆÂƒE N that uses r(x, A)  by an instance of ÃÂ 1 as follows:  Ã  x : Ã¢ÂˆÂƒA, ÃÅ  xr(x, A)Ã¢ÂˆÂ— v  Ã¢ÂˆÂƒE N  v : A, ÃÅ Ã¢ÂˆÅ ÃÅ    the use of Skolemization allows us to design proper rules even  in the case when the nesting of operators with an existential  and a universal nature (like Ã¢ÂˆÂƒ) makes it impossible to deÄÅ¹Âne  a standard natural deduction rule.  The treatment of the operator until is notoriously complex  from a proof-theoretical point of view (see [5] for a detailed  discussion). In this paper, in order to simplify the presentation  of our approach, we decided to focus on the until-free  fragment of CTL. In this section, we just give an insight of  how the idea of Skolemization can be used also to express  introduction and elimination rules for the temporal operators  containing until.  Let us consider the operator Ã¢ÂˆÂƒU (the operator Ã¢ÂˆÂ€U can  be treated similarly). First, we recall the semantics of the  operator:  xRÃ¢ÂˆÂ— v  ÃÂ 1 [v/x]  v : A, ÃÅ  (iii) replacing each application of indÃ¢ÂˆÂƒN that uses r(x, A)  by an instance of ÃÂ 1 as in (ii). Note that the contexts in the  conclusions are in some cases diÄÅ¹Â€erent in the derivations on  the left and on the right. However, we can show that such  diÄÅ¹Â€erences are not relevant, in the sense that dependences  that are present on the left but not on the right cannot contain  signiÄÅ¹Âcant restrictions for the derivation on the right; on the  contrary, dependences on the right but not on the left can  always be eliminated afterwards in ÃÂ Ã¢ÂˆÂ—2 .  With regard to (ii) and (iii), the fact that ÃÂ 2 is the smallest  subderivation concluding with a formula (w : B, ÃÅ ) such that  ÃÅ does not contain r(x, A), {ÄÂ•1 , . . . , ÄÂ•n } ensures that all  the assumptions ÄÂ•1 , . . . , ÄÂ•n on which the conclusion of ÃÂ 1  possibly depends are not discharged in ÃÂ 2 . Thus ÃÂ 1 can be  safely reused inside ÃÂ Ã¢ÂˆÂ—2 , i.e., all the assumptions ÄÂ•1 , . . . , ÄÂ•n  that were discharged by a rule application in ÃÂ 3 in the original  derivation can be also discharged in any copy of ÃÂ 1 , in the  reduced derivation.  An example of a reduction of a derivation containing an  Ã¢ÂˆÂƒIN /Ã¢ÂˆÂƒE N detour is shown in Fig. 4. In the derivation  above, the Ã¢ÂˆÂƒE N application concluding with z : A, ÃÅ1 opens  a subderivation with a dependence for the Skolem function  r(x, A). Such a subderivation terminates with the application  of serskN , which discharges all the assumptions containing  r(x, A) and eliminates the corresponding dependences from  the context. The reduction replaces R for r(x, A) all along  the subderivation. The example also shows how the structure  of the subderivation needs to be modiÄÅ¹Âed when it contains  rules that use the Skolem function in a signiÄÅ¹Âcant way. In  particular, as an instance of case (ii) of the description above,  the Ã¢ÂˆÂƒE N application concluding with z : A, ÃÅ2 in the original  derivation is replaced by a copy of the derivation concluding  y : A (z : A after the substitution); while, as an instance of  case (i) above, the application of serskN is removed in the  reduced derivation and the assumption that was discharged  by serskN is replaced by the assumption xRx .  The contraction rule deÄÅ¹Âned here for the case Ã¢ÂˆÂƒIN /Ã¢ÂˆÂƒE N  can be seen as a key reduction step in the deÄÅ¹Ânition of a  complete normalization procedure, to be developed along the  lines of the one presented in [6]. A full treatment is left for  future work.  |=M,s Ã¢ÂˆÂƒ(AU B) iÄÅ¹Â€ there exist an s-branch b and a t Ã¢ÂˆÂˆ b such that  |=M,t B and for all v, sRbÃ¢ÂˆÂ— vRb t implies |=M,v A.  As we did in the cases of Ã¢ÂˆÂƒE and Ã¢ÂˆÂƒE, we can introduce  Skolem functions of the form r(x, AU B) to denote a relation  passing through x and such that AU B holds over the path  represented by that relation. Moreover, given a state x and  a path b starting from x and such that AU B holds on b, we  can use a similar mechanism to give a name to a state along  b where B actually holds and such that A was always true  before. Such a name will be a function of three arguments:  the state x, the relation R corresponding to b and the formula  AU B; we will denote it w(x, R, AU B).  Rules for the elimination of Ã¢ÂˆÂƒU will have the form:  x : Ã¢ÂˆÂƒ(AU B)  Ã¢ÂˆÂƒUE1  w(x, r(x, AU B), AU B) : B  x : Ã¢ÂˆÂƒ(AU B)  x r(x, AU B)Ã¢ÂˆÂ— y  y r(x, AU B)Ã¢ÂˆÂ— w(x, r(x, AU B), AU B)  Ã¢ÂˆÂƒUE2  y:A  Ã¢ÂˆÂƒUE1 creates a state, denoted w(x, r(x, AU B), AU B), where  B holds. Ã¢ÂˆÂƒUE2 expresses the fact that in each state y, placed  between x and w(x, r(x, AU B), AU B) along r(x, AU B), A must  hold.  The corresponding introduction rule will have the form:  [xRÃ¢ÂˆÂ— z]  xRÃ¢ÂˆÂ— y  y:B  x : Ã¢ÂˆÂƒ(AU B)  [zRÃ¢ÂˆÂ— y]  .  .  .  .  z:A  Ã¢ÂˆÂƒU I  where z is required to be fresh.  The rules above show that the use of Skolem functions  gives us also enough expressivity to capture the semantics  of temporal operators based on U. This paves the way to an  extension of the system N(UB) able to cover full CTL. A  complete treatment is left for future work.  VI. Towards CTL  The framework based on the use of path labels and  Skolemization, described in the previous sections for the  logic UB, can be adapted to cover the whole class of Peircean  branching-time logics. In particular, the use of path labels  allows us to reason on path quantiÄÅ¹Âers in a modular way and  VII. Conclusions  DiÄÅ¹Â€erent labeled natural deduction approaches for Peircean  branching-time logics have been proposed, e.g., in [2], [11].  52  45  [x : Ã¢ÂˆÂ€A Ã¢ÂˆÂ§ Ã¢ÂˆÂƒA]1  Ã¢ÂˆÂ§E N  x : Ã¢ÂˆÂ€A  y:A  [xRÃ¢ÂˆÂ— y]5  Ã¢ÂˆÂ€E N  [xRx ]2  x : Ã¢ÂˆÂƒA  Ã¢ÂˆÂƒIN5  z : A, ÃÅ1  [x : Ã¢ÂˆÂ€A Ã¢ÂˆÂ§ Ã¢ÂˆÂƒA]1  Ã¢ÂˆÂ§E N  x : Ã¢ÂˆÂ€A  z:A  [x : Ã¢ÂˆÂ€A Ã¢ÂˆÂ§ Ã¢ÂˆÂƒA]1  Ã¢ÂˆÂ§E N  x : Ã¢ÂˆÂƒA  [x r(x, A)Ã¢ÂˆÂ— z]4  Ã¢ÂˆÂƒE N  Ã¢ÂˆÂƒE N  z : A, ÃÅ2  Ã¢ÂˆÂ§IN  z : A Ã¢ÂˆÂ§ A, ÃÅ  x : Ã¢ÂˆÂƒ(A Ã¢ÂˆÂ§ A), ÃÅ  serskN 3  x : Ã¢ÂˆÂƒ(A Ã¢ÂˆÂ§ A)  serN 2  x : Ã¢ÂˆÂƒ(A Ã¢ÂˆÂ§ A)  Ã¢ÂŠÂƒIN1  x : (Ã¢ÂˆÂ€A Ã¢ÂˆÂ§ Ã¢ÂˆÂƒA) Ã¢ÂŠÂƒ Ã¢ÂˆÂƒ(A Ã¢ÂˆÂ§ A)  [x r(x, A)Ã¢ÂˆÂ— z]4  [xRÃ¢ÂˆÂ— z]4  [x r(x, A) x ]3  Ã¢ÂˆÂƒIN4  [x : Ã¢ÂˆÂ€A Ã¢ÂˆÂ§ Ã¢ÂˆÂƒA]1  Ã¢ÂˆÂ§E N  x : Ã¢ÂˆÂ€A  [xRÃ¢ÂˆÂ— z]4  Ã¢ÂˆÂ€E N  Ã¢ÂˆÂ€E N  z:A  Ã¢ÂˆÂ§IN  z: AÃ¢ÂˆÂ§A  [xRx ]2  Ã¢ÂˆÂƒIN4  x : Ã¢ÂˆÂƒ(A Ã¢ÂˆÂ§ A)  serN 2  x : Ã¢ÂˆÂƒ(A Ã¢ÂˆÂ§ A)  Ã¢ÂŠÂƒIN1  x : (Ã¢ÂˆÂ€A Ã¢ÂˆÂ§ Ã¢ÂˆÂƒA) Ã¢ÂŠÂƒ Ã¢ÂˆÂƒ(A Ã¢ÂˆÂ§ A)  where ÃÅ1 = {r(x, A), {x : Ã¢ÂˆÂ€A Ã¢ÂˆÂ§ Ã¢ÂˆÂƒA, xRx }}, ÃÅ2 = {r(x, A), {x : Ã¢ÂˆÂ€A Ã¢ÂˆÂ§ Ã¢ÂˆÂƒA}} and ÃÅ = ÃÅ1 Ã¢ÂˆÅ ÃÅ2 .  Figure 4.  An example of a contraction of a Ã¢ÂˆÂƒI/Ã¢ÂˆÂƒE detour: the derivation above reduces to the one below  Both focus on the logic CTL, although [11] presents a  set of operators diÄÅ¹Â€erent from the standard one. In [11],  normalization is proved for the subsystem obtained by  removing rules for induction, while in [2] there is no  treatment of normalization.  In our approach, the use of Skolemized accessibility  relations has allowed us to give a sound and complete labeled  deduction system for the Peircean logic UB, and set up a  proof of how derivations in our system may reduce to a  normal form using an appropriate management of so-called  proof contexts. Moreover, this approach is open to extensions:  we have discussed the extension required to capture full CTL  and, consequently, the whole class of Peircean branching  temporal logics. All these issues will be discussed in detail  in future work.  [5] A. Masini, L. ViganoÄšÂ€, and M. Volpe. Back from the future.  JANCL, 20(3):241Ã¢Â€Â“277, 2010.  [6] A. Masini, L. ViganoÄšÂ€, and M. Volpe. Labelled natural  deduction for a bundled branching temporal logic. J. Log.  Comput., 21(6):1093Ã¢Â€Â“1163, 2011.  [7] G. Mints. Existential instantiation and strong normalization.  In LFCS, LNCS 1234, pp. 258Ã¢Â€Â“265. Springer, 1997.  [8] S. Negri and J. von Plato. Structural proof theory. Cambridge  University Press, 2001.  [9] D. Prawitz. Natural Deduction: a Proof-Theoretical Study.  Almquist and Wiskell, 1965.  [10] D. Prawitz. Ideas and results in proof theory. In Second  Scandinavian Logic Symposium, pp. 235Ã¢Â€Â“307. North-Holland,  1971.  Acknowledgments  [11] C. J. RenterÃ„Ä…ÄšÂa and E. H. Haeusler. A natural deduction system  for CTL. Bulletin of the Section of Logic, 31:231Ã¢Â€Â“240, 2002.  All three authors acknowledge support from the EU  FP7 Marie Curie PIRSES-GA-2012-318986 project GeTFun:  Generalizing Truth-Functionality; Carlos Caleiro also acknowledges support from FCT and EU FEDER via the project  PEst-OE/EEI/LA0008/2013 of Instituto de TelecomunicacÄšÂ§oÄšÂƒes.  [12] P. Schroeder-Heister. A natural extension of natural deduction.  J. Symb. Log., 49(4):1284Ã¢Â€Â“1300, 1984.  [13] A. K. Simpson. The Proof Theory and Semantics of Intuitionistic Modal Logic. PhD thesis, School of Informatics,  University of Edinburgh, 1994.  References  [1] M. Ben-Ari, A. Pnueli, and Z. Manna. The temporal logic of  branching time. Acta Inf., 20:207Ã¢Â€Â“226, 1983.  [14] A. S. Troelstra. Metamathematical investigation of intuitionistic arithmetic and analysis. LNM 344. Springer, 1973.  [2] A. Bolotov, O. Grigoriev, and V. Shangin. Natural deduction  calculus for computation tree logic. In John Vincent AtanasoÄÅ¹Â€  Symposium, pp. 175Ã¢Â€Â“183. IEEE Computer Society, 2006.  [15] L. ViganoÄšÂ€. Labelled Non-Classical Logics. Kluwer, 2000.  [3] D. M. Gabbay. Labelled Deductive Systems. Clarendon, 1996.  [4] J.-Y. Girard. Proof Theory and Logical Complexity, volume 1.  Bibliopolis, 1987.  53  46 