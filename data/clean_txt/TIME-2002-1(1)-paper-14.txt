Indexed Flows in Temporal × Modal Logic with Functional Semantics  Alfredo Burrieza, Inma P. de Guzmán and Emilio Muñoz  Universidad de Málaga  Campus de Teatinos. 29071 Málaga, Spain  guzman, emilio@ctima.uma.es  burrieza@uma.es  Abstract  Two classical semantical approaches to studying logics  which combine time and modality are the T × W-frames  and Kamp-frames (see Thomason, 84). In this paper we  study a new kind of frame that extends the one introduced  in [Burrieza and P. de Guzmán(2002)]. The motivation is  twofold: theoretical, i.e., representing properties of the basic theory of functions (definability); and practical, their  use in computational applications (considering time-flows  as memory of computers connected in a net, each computer  with its own clock). Specifically, we present a temporal ×  modal (labelled) logic, whose semantics are given by indfunctional frames in which accessibility functions are used  in order to interconnect time-flows. This way, we can: (i)  specify to what time-flow we want to go; (ii) carry out different comparisons among worlds with different time measures, and (iii) define properties of certain kinds of functions (in particular, of total, injective, surjective, constant,  increasing and decreasing functions), without the need to  resort to second-order theories. In addition, we define a  minimal axiomatic system and give the completeness theorem (Henkin-style).  1. Introduction  Two classical semantical approaches to study logics  which combine time and modality are the T × W-frames  and Kamp-frames (see Thomason, 84). In this paper we  study a new kind of frame that extends the one introduced  in [Burrieza and P. de Guzmán(2002)]. The motivation is  twofold: theoretical, i.e., representing properties of the basic theory of functions (definability); and practical, their  use in computational applications (considering time-flows  as memory of computers connected in a net, each computer  with its own clock).  The semantic approach introduced in [Burrieza and P.  de Guzmán(2002)], named functional, allows us to esta-  blish connections among time-flows in very different ways,  which enables us to carry out different comparisons among  worlds with different time measures. These connections are  made by means of functions, called accessibility functions,  and not by means of equivalence relations, as in T × Wframes and Kamp-frames approaches. The theoretical study  is interesting itself but also, in our opinion, and according to  our experience when contacting users (who require applications for information and communication technologies), the  functional approach considered in this paper is more adequate to the specifications used by them.  Specifically, we present a temporal × modal (labelled)  logic, whose semantics are given by ind-functional frames  in which accessibility functions are used in order to interconnect time-flows. This way, we can: (i) specify to what  time-flow we want to go; (ii) carry out different comparisons among worlds with different time measures, and (iii)  define basic properties of some kinds of functions (in particular, of total, injective, surjective, constant, increasing, and  decreasing functions), without the need to resort to secondorder theories. Thus, we require to label time-flows, so that  our language will include indexed-modal connectives, that  is, < i >-type connectives, so that an expression such as  <i> A can be intuitively read as follows: “A is true in flow  i at the image of the reference instant (or where I am)”.  In addition, we define a minimal axiomatic system and  give the completeness theorem (Henkin-style).  The article is organized as follows: in Sect. 2 we introduce the family of temporal-(indexed-modal) languages and  define its (algebraic-style) semantics. In Sect. 3 we present  the results about definability of function properties. Finally,  in Sect. 4 we give the proof of completeness of a minimal  system for partial functions.  2. Languages LF  (T ×W ) -I  Given a denumerable set of indices I, the alphabet of the  language LF  (T ×W ) -I is defined as follows: 1) a denumerable set, V, of propositional variables; 2) the logic constants  Proceedings of the Ninth International Symposium on Temporal Representation and Reasoning (TIME’02)  1530-1311/02 $17.00 © 2002 IEEE   and ⊥, and the boolean connectives ¬, ∧, ∨ and →; 3) the  temporal connectives G and H; 4) a family of unary modal  connectives of the form <i>, for i ∈ I.  The well-formed formulas (wffs) are generated by the construction rules of classical propositional logic, adding the  following rule: If A is a wff, then GA, HA and <i> A are  wffs. We consider, as usual, the connectives F , P and [ i ]  to be defined connectives. The connectives G and H have  their usual readings, but < i > A has the following meaning: A is true in flow i, at the image of the reference instant  (from which I execute or speak). For its part, [ i ]A has the  following non-existential meaning: if there exists an image  of the reference instant in flow i, then A is true at such an  image and [ i ]A is true at the reference instant when this has  no i-image. So, if such an image exists in flow i, <i>A has  the same meaning as [ i ]A.  called an ind-functional interpretation, satisfying the following conditions: The interpretation of the constants and  of the boolean connectives is defined as usual,  2.1. Semantics for LF  (T ×W ) -I  3  Definition 1 An ind-functional frame for LF  (T ×W ) -I is a  tuple Σ = (W, T , F), where W is a nonempty set (set of  labels for a set of time-flows), T is a nonempty set of strict  linear orders, indexed by W , specifically:  T = {(Tw , <w ) | w ∈ W }, where each Tw is non  empty and, if w = w , then Tw ∩ Tw = ∅.  Finally, F is a set of non-empty functions, called accessibility functions, such that:  In this section we introduce a minimal axiomatic system  for LF  (T ×W ) -I to work with partial functions.  1. each function in F is a partial function from Tw to  Tw , for some w ∈ W and some w ∈ W ∩ I 1 ;  2. for an arbitrary pair (w, w ) ∈ W × (W ∩ I), there  is (in F) at most one accessibility function from Tw to  w w  Tw , denoted by −→ .  w w  We will   denote Fw = { −→ ∈ F | w ∈ W }. Then  F = w∈W   Fw . The elements tw of the disjoint union  CoorΣ = w∈W Tw are called coordinates.  Note that the definition of W and T depends only on the  set (of labels) W , whereas F depends on W and I.  Notation 1 If tw ∈ CoorΣ and C ⊆ CoorΣ :  - [tw , →) = {tw | tw ≤w tw }; (tw , →) = {tw | tw <w tw }.  - (←, tw] = {tw | tw ≤w tw };(←, tw ) = {tw | tw <w tw }.  - C ↑= tw ∈C (tw , →); C↑ = tw ∈C [tw , →).      - C ↓= tw ∈C (←, tw ); C↓ = tw ∈C (←, tw ].  2  - h(GA) = {tw ∈ CoorΣ | (tw , →) ⊆ h(A)}  - h(HA) = {tw ∈ CoorΣ | (←, tw ) ⊆ h(A)}  w i  - h(<i> A) = {tw ∈ CoorΣ |−→ ({tw }) ∩ h(A) = ∅}.  Thus, the semantics of [ i ] is the following:  w i  h([ i ]A) = {tw ∈ CoorΣ | −→ ({tw }) ⊆ h(A)}  The notions of satisfiability, validity and logical equivalence (denoted ≡) are defined in a standard way. As a  consequence of the semantics, [ i ]A is valid in every indfunctional frame, Σ = (W, T , F) such that I ∩ W = ∅.  A Minimal Axiomatic System for LF  (T ×W ) -I  3.1  F  The system S(T  ×W )−I -Parc  This system has the following axiom schemes:  1. Those of the minimal system of propositional linear  temporal logic Kl and, for each i ∈ I the schema  [ i ](A → B) → ([ i ]A → [ i ]B).  2. The following characteristic axiom schemes: for each  i ∈ I,  2.1 <i> A → [ i ]A  (Functionality)    2.2 (λ <i> A ∧ λ <i> B) →  λ <i> (A ∧ (B ∨ F B ∨ P B)) (Confluence)  where:    λ = γ1 <j1> γ2 . . . <jn> γn+1 ,    λ = γ1 <k1> γ2 . . . <km> γm+1  ,  γi ∈ {F, P, },  γi ∈ {F, P, },  being n, m ≥ 1; ki , ji ∈ I and  the empty chain.  The rules of inference are those of Kl and  A  , for  [ i ]A  each i ∈ I.  The concepts of proof and theorem are defined as usual.  Proposition 1 The schema  Definition 2 An ind-functional model for LF  (T ×W ) -I is a  tuple (Σ, h), where Σ = (W, T , F) is an ind-functional  CoorΣ  frame and h is a function h : LF  ,  (T ×W ) -I −→ 2  F  is a theorem of S(T  ×W )−I -Parc.  1 Note that we don’t require that I ⊆ W . Thus, the notion of validity  can be given in a standard way.  2 Consider that, in order that < i > A be true in t  w ∈ CoorΣ , it is  necessary that i ∈ I ∩ W .  (<i> A ∧ <i> B) →<i> (A ∧ B)  Proceedings of the Ninth International Symposium on Temporal Representation and Reasoning (TIME’02)  1530-1311/02 $17.00 © 2002 IEEE  3.2 Definability of basic properties of functions  Definition 3 Let J be a class of ind-functional frames and  K ⊆ J . We say that K is LF  (T ×W ) -I- definable in J if  there exists a set Γ of formulas in LF  (T ×W ) -I such that for  every frame Σ ∈ J , we have that Σ ∈ K if and only if  every formula of Γ is valid in Σ. If J is the class of all indfunctional frames, we say that K is LF  (T ×W ) -I-definable.  Let P be a property of functions (injectivity, etc.) and K  the class of all ind-functional frames whose functions have  the property P . We say that P is LF  (T ×W ) -I-definable if K  is LF  -I-definable.  (T ×W )  w i  in tw = tw , such that −→ (tw ) = ti , it is enough to define  an interpretation function h so that h(p) = CoorΣ .  2. We shall prove that K2 is defined by the following set of  formulas:  (N on-T ot)-ind {[ i ]⊥ ∨ F [ i ]⊥ ∨ P [ i ]⊥ | i ∈ I}  Indeed, for every ind-functional frame Σ we have Σ =  (W, T , F) ∈ K2 if and only if for all Tw ∈ T and  w i  −→ ∈ F, there is at least tw ∈ Tw such that tw is not  w i  in the domain of −→. From this, it should be clear that  tw ∈ h([ i ]⊥) if and only if tw does not belong to the dow i  main of −→. Then, considering the linearity of <w , we  have that [ i ]⊥ ∨ F [ i ]⊥ ∨ P [ i ]⊥ holds at every coordinate  Theorem 1 The following classes of ind-functional frames  w i  F  in Tw if and only if −→ is a non-total function.  are L(T ×W ) -I-definable:  3. K3 is defined by (T ot-Con)-ind:  K1 = {(W, T ,F) | F is a class of total functions }  {<i> A → (G <i> A ∧ H <i> A) | i ∈ I}  K2 = {(W, T ,F) | F is a class of non total functions }  4.  K4 is defined by (T ot-Inj)-ind:  K3 = {(W, T ,F) | F is a class of total constant functions}  {<i>  (GA ∧ HA) → (G <i> A ∧ H <i> A)) | i ∈ I}  K4 = {(W, T ,F) | F is a class of total injective functions}  5.  K  is  defined by (Surj)-ind :  5  K5 = {(W, T ,F) | F is a class of surjective functions }  {(G[  i ]A ∧ H[ i ]A)) → [ i ](GA ∧ HA) | i ∈ I}  K6 = {(W,T ,F) | F is a class of total increasing functions}  6.  K  is  defined  by (T ot-Inc)-ind: for all i ∈ I,  K7 = {(W,T ,F) | F is a class of total strictly increasing functs.}  6  <i>  (A  ∧  GA)  → G <i> A)) and  K8 = {(W,T ,F) | F is a class of total decreasing functions}  K9 = {(W,T ,F) | F is a class of total strictly decreasing functs.} <i> (A ∧ HA) → H <i> A))  7. K7 is defined by (T ot-Str-Inc) :  Proof:  {<i> GA → G <i> A, <i> HA → H <i> A | i ∈ I}  We prove some of the items. For the rest, we give the set of  8. K8 is defined by (T ot-Dec)-ind: for all i ∈ I,  formulas which defines the corresponding class.  <i> (A ∧ GA) → H <i> A) and  1. It is sufficient to check that K1 is defined by the fo<i> (A ∧ HA) → G <i> A)  llowing set of formulas, denoted (T ot)-ind:  9. K9 is defined by (T ot-Str-Dec)-ind:  {<i>(A ∧ GA ∧ HA) → (G<i>A ∧ H <i>A) | i ∈ I}  {<i> GA → H <i> A, <i> HA → G <i> A | i ∈ I}  w i  In order to prove this result, we state that −→ is a total  function if and only if, for all tw ∈ Tw :  F  w i  w i  †1  w i  w i  −→ ((tw , →))∪ −→((←, tw )) ⊆−→({tw })↑∪ −→ ({tw }) ↓  4  Completeness of S(T ×W )−I -Parc  Thus, we have that for all i ∈ I  The proof of soundness is standard. In order to study  the completeness, we assume the familiarity with the basic  tw ∈ h(<i>(A ∧ GA ∧ HA))  if f properties of maximally consistent sets in the propositional  tw ∈ h(<i> A) ∩ h(<i> GA) ∩ h(<i> HA)  if f classical logic, and their standard definition, in the system  w i  w i  w i  F  −→ ({tw })∪(−→ ({tw }), →)∪(←, −→ ({tw })) ⊆ h(A) if f S(T  ×W )−I -Parc. We will denote by MC the family of maxw i  w i  imally  consistent sets (from now on, mc-sets).  −→ ({tw })↑ ∪ −→ ({tw }) ↓⊆ h(A))  We start with the following definitions, of interest for the  and, on the other hand, tw ∈ h(G <i>A) if and only if  rest of the development.  w i  −→ ((tw , →)) ⊆ h(A). Analogously, tw ∈ h(H <i>A) if  w i  Definition 4 Let Γ1 , Γ2 ∈ MC and i ∈ I. Then we define:  and only if −→ ((←, tw )) ⊆ h(A). Now, it is sufficient to  consider †1 to finish the demonstration of validity.  (a) Γ1 ≺T Γ2 if and only if {A | GA ∈ Γ1 } ⊆ Γ2  Reciprocally, if Σ = (W, T , F) ∈ K1 , then there is a  w i  non total function −→ ∈ F. In this case, there exists a  (b) Γ1 ≺i Γ2 if and only if ∅ = {A |<i> A ∈ Γ1 } ⊆ Γ2 .  tw ∈ CoorΣ such that †1 does not hold for tw , that is,  w i  w i  Definition 5 In MC we define the following equivalence  there exists a ti ∈−→ ((tw , →)) ∪ −→ ((←, tw )) but  w i  w i  relation, denoted ∼T . If Γ1 , Γ2 ∈ MC, then:  ti ∈  / −→ ({tw })↑ ∪ −→ ({tw }) ↓. Now, since i ∈ I, to reΓ1 ∼T Γ2 iff [ Γ1 ≺T Γ2 , or Γ2 ≺T Γ1 , or Γ1 = Γ2 ]  fute the formula <i>(p ∧ Gp ∧ Hp) → (G<i>p ∧ H <i>p)  Proceedings of the Ninth International Symposium on Temporal Representation and Reasoning (TIME’02)  1530-1311/02 $17.00 © 2002 IEEE  ∼  Definition 6 In MC we define the relation  ≺i T as follows.  ∼  T  If Γ1 , Γ2 ∈ MC and i ∈ I, then Γ1 ≺i Γ2 if and only if  one of the two following conditions is satisfied:  - Γ1 ∼T Γ2 .  - There are some Γ3 and Γ4 such that Γ1 ∼T Γ3 , Γ3 ≺i Γ4  and Γ4 ∼T Γ2 .  Definition 7 We define the relation & in MC as follows: if  Γ, Γ ∈ MC, then: Γ & Γ if and only if there are n ≥ 0,  i1 , . . . , in ∈ I and Γ0 , . . . , Γn ∈ MC such that  ∼  ∼  ∼  ∼  Γ = Γ0 ≺i1T Γ1 ≺i2T Γ2 ≺i3T . . . ≺inT Γn = Γ  Corollary 1 Let Γ1 , Γ2 ∈ MC. Then Γ1 & Γ2 if and only  if one of the following conditions is satisfied:  a) there exists γ ∈ {F, P, } such that  {γA | A ∈ Γ2 } ⊆ Γ1 .  b) there are γ1 , . . . γn+1 ∈ {F, P, } and i1 , . . . , in ∈  I, with n ≥ 1, such that  {γ1 <i1> γ2 . . . <in> γn+1 A | A ∈ Γ2 } ⊆ Γ1 .  Theorem 2 (Diamond theorem) Let Γ1 , Γ2 , Γ3 ∈ MC  such that:  The following lemma is standard in modal and tense logic.  1. Γ1 & Γ2 and Γ1 & Γ3 .  Lemma 1  2. there are i ∈ I and Ω1 ∈ MC such that  F  1. Any consistent set of formulas in S(T  ×W )−I -Parc  F  can be extended to an mc-set in S(T ×W )−I -Parc  (Lindenbaum’s lemma)  2. Let Γ1 ∈ MC and i ∈ I:  (a) If F A ∈ Γ1 , there exists Γ2 ∈ MC such that  Γ1 ≺T Γ2 and A ∈ Γ2 .  (b) If P A ∈ Γ1 , there exists Γ2 ∈ MC such that  Γ2 ≺T Γ1 and A ∈ Γ2 .  (c) If <i> A ∈ Γ1 , there exists Γ2 ∈ MC such that  Γ1 ≺i Γ2 and A ∈ Γ2 .  3. Let Γ1 , Γ2 , Γ3 ∈ MC. If Γ1 ≺T Γ2 and Γ2 ≺T Γ3 ,  then Γ1 ≺T Γ3 .  4. Let Γ1 , Γ2 , Γ3 ∈ MC. Then:  (a) If Γ1 ≺T Γ2 and Γ1 ≺T Γ3 , then Γ2 ∼T Γ3 .  (b) If Γ2 ≺T Γ1 and Γ3 ≺T Γ1 , then Γ2 ∼T Γ3 .  The following lemma is specific to our system.  Lemma 2 Let Γ1 , Γ2 ∈ MC and i ∈ I. Then we have:  1. Γ1 ∼T Γ2 iff there exists γ ∈ {F, P, } such that  {γA | A ∈ Γ2 } ⊆ Γ1 .  2. Γ1 ≺i Γ2 iff one of the following condition is satisfied:  2.1)  Γ2 ≺i Ω1  2.2)  Then, there exists Γ4 ∈ MC such that  Γ2 & Γ4 and Γ3 & Γ4 .  More concretely, there exists Ω2 ∈ MC such that  Γ3 ≺i Ω2 and Ω2 ∼T Ω1 .  Proof:  In order to prove that there exists Ω2 ∈ MC with the desired properties, it suffices to prove that one of the following  conditions is satisfied:  a) {A |<i> A ∈ Γ3 } ⊆ Ω1 .  b) {A |<i> A ∈ Γ3 } ∪ {A | GA ∈ Ω1 } is consistent.  c) {A |<i> A ∈ Γ3 } ∪ {A | HA ∈ Ω1 } is consistent.  Indeed, if condition a) is satisfied, then it is enough to  take Ω2 = Ω1 . On the other hand, if condition b) is satisfied, then Lindenbaum’s lemma guarantees that there exists at least one mc extension, Ω2 , such that Γ3 ≺i Ω2  and Ω1 ≺T Ω2 . Analogously, if condition c) is satisfied,  then Lindenbaum’s lemma again guarantees that there exists at least one mc extension, Ω2 , such that Γ3 ≺i Ω2 and  Ω2 ≺T Ω1 .  We assume that none of the conditions a)–c) holds: Since  condition a) does not hold, we have that there exists A ∈ Ω1  such that <i> A ∈ Γ3 . Also, since condition b) does not  hold, there are B1 , . . . Br1 and C1 , . . . Cr2 such that:  i) {A | [ i ]A ∈ Γ1 } ⊆ Γ2 ;  - <i> B1 , . . . <i> Br1 ∈ Γ3  ii) {<i> A | A ∈ Γ2 } ⊆ Γ1  - GC1 , . . . GCr2 ∈ Ω1  ∼  3. Γ1 ≺i T Γ2 iff one of the following conditions is satisfied:  (i) there exists γ ∈ {F, P, } such that  {γA | A ∈ Γ2 } ⊆ Γ1 ,  (ii) there are γ1 , γ2 ∈ {F, P, } such that  ∅=   {γ1 <i> γ2 A | A ∈ Γ2 } ⊆ Γ1  {A |<i> A ∈ Γ3 } = ∅  - ' ¬(B ∧ C), where B = B1 ∧ . . . ∧ Br1 and C =  C1 ∧ . . . ∧ Cr2  Similarly, since condition c) does not hold, there are  D1 , . . . Dr3 and E1 , . . . Er4 such that:  - <i> D1 , . . . <i> Dr3 ∈ Γ3  - HE1 , . . . HEr4 ∈ Ω1  Proceedings of the Ninth International Symposium on Temporal Representation and Reasoning (TIME’02)  1530-1311/02 $17.00 © 2002 IEEE  - ' ¬(D ∧ E), where D = D1 ∧ . . . ∧ Dr3 and E =  E1 ∧ . . . ∧ E r 4  Now, it is clear that ¬A ∧ GC ∧ HE ∈ Ω1 and, by proposition 1, we can obtain <i> (A ∧ ¬C ∧ ¬E) ∈ Γ3 .  Since Γ1 & Γ3 , by corollary 1, we have that one of the  following conditions holds:    a ) there exists γ ∈ {F, P, } such that {γA | A ∈ Γ2 } ⊆ Γ1  b ) there are γ1 , . . . γn+1 ∈ {F, P, }, i1 , . . . , in ∈ I, n ≥ 1,  such that {γ1 <i1>γ2 . . . <in>γn+1 A | A ∈ Γ2 } ⊆ Γ1 .  Therefore, there exists λ such that either λ = γ  λ = γ1 <i1> γ2 . . . <in> γn+1 and:  λ <i> (A ∧ ¬C ∧ ¬E) ∈ Γ1  or  (†1 )  On the other hand, since Γ2 ≺i Ω1 , we have  <i> (¬A ∧ GC ∧ HE) ∈ Γ2  and, since Γ1 & Γ2 , by the same reasoning, once again  by corollary 1, there exists λ such that either λ = γ  or    λ = γ1 <i1> γ2 . . . <im> γm+1  and  λ <i> (¬A ∧ GC ∧ HE) ∈ Γ1  (†2 )  Now, by (†1 ), (†2 ) and the axiom of confluence, we have:  λ <i> (α∧(β ∨F β ∨P β)) ∈ Γ1 , where α = A∧¬C ∧¬E  and β = ¬A ∧ GC ∧ HE. But α ∧ (β ∨ F β ∨ P β) ≡ ⊥.  Thus, the desired contradiction is obtained.  Definition 8 Let Σ be an ind-functional frame. A trace of  F  Σ is a function ΦΣ : CoorΣ −→ 2L(T ×W ) -I such that, for  all tw ∈ CoorΣ , the set ΦΣ (tw ) is an mc-set.  Definition 9 A trace ΦΣ is called:  - temporally coherent if, for all tw , tw ∈ CoorΣ :  if tw ∈ (tw , →), then ΦΣ (tw ) ≺T ΦΣ (tw )  - ind-modally coherent if, for all ti , tw ∈ CoorΣ with  w i  i ∈ I ∩ W : if ti = −→ (tw ), then ΦΣ (tw ) ≺i ΦΣ (ti )  - coherent if it is temporally coherent and ind-modally coherent  - prophetic if it is temporally coherent and, moreover, for  all A ∈ LF  (T ×W ) -I and tw ∈ CoorΣ :  (1) if F A ∈ ΦΣ (tw ), there exists tw ∈ (tw , →) such that  A ∈ ΦΣ (tw )  - historic if it is temporally coherent and, moreover, for all  formula A ∈ LF  (T ×W ) -I and tw ∈ CoorΣ :  (2) if P A ∈ ΦΣ (tw ), there exists tw ∈ (←, tw ) such that  A ∈ ΦΣ (tw )  - ind-possibilistic if it is ind-modally coherent and, moreover, for all formula A ∈ LF  (T ×W ) -I, tw ∈ CoorΣ and  i ∈ I ∩ W:  w i  (3) if <i> A ∈ ΦΣ (tw ), there exists ti = −→ (tw ) such  that A ∈ ΦΣ (ti )  The conditional (1) (resp., (2) or (3)) is called a prophetic (resp., historic or ind-possibilistic) conditional for ΦΣ  with respect to F A (resp., P A or <i> A) and tw .  An ind-functional frame, ΦΣ , is called full if it is  prophetic, historic and ind-possibilistic.  Definition 10 Let WΞ be a denumerable  infinite set such    that I ⊂ WΞ and TΞ =  T  where, for all  w  w∈WΞ  w ∈ WΞ , Tw is a denumerable infinite set. We will consider  the class, Ξ, of the ind-functional frames (W  , T  , F  ) such  that:  - W  is a nonempty finite subset of WΞ .  - TΞ = {(Tw , <w ) | w ∈ W  }, where Tw is a nonempty  finite subset of Tw .  If Σ1 = (W1 , T1 , F1 ), Σ2 = (W2 , T2 , F2 ) ∈ Ξ, we say  that Σ2 is an extension of Σ1 if the following conditions  are satisfied:  • W1 ⊆ W2 ;  • either T1 ⊂ T2 , or for each (Tw , <w ) ∈ T1 , the set  T2 contains an extension of (Tw , <w ).  w i  • either F1 ⊂ F2 or, for each −→ ∈ F1 , the set F2 contains  w i  a function which extends −→.  Definition 11 Let Ξ be as in definition 10, and let ΦΣ be  a trace of an ind-functional frame Σ = (W  , T  , F  ) ∈ Ξ.  I) Given a prophetic conditional:  (1) if F A ∈ ΦΣ (tw ), there exists a tw ∈ (tw , →)  such that A ∈ ΦΣ (tw ).  We say that (1) is inactive if its antecedent is not fulfilled, that is, if one of the following conditions is satisfied:  (i) tw ∈ CoorΣ ,  (ii) tw ∈ CoorΣ , but F A ∈ ΦΣ (tw ).  We say that (1) is active if its antecedent is fulfilled  but its consequent is not, that is, tw ∈ CoorΣ and  F A ∈ ΦΣ (tw ), but there is no tw ∈ (tw , →) such  that A ∈ ΦΣ (tw ). We say that (1) is exhausted if  its consequent is fulfilled, that is, there exists tw ∈  (tw , →) such that A ∈ ΦΣ (tw ).  II) Given a historic conditional:  (2) if P A ∈ ΦΣ (tw ), there exists tw ∈ (←, tw )  such that A ∈ ΦΣ (tw ).  We say that (2) is inactive if its antecedent is not fulfilled, that is, if one of the following conditions is satisfied:  (i) tw ∈ CoorΣ , (ii) tw ∈ CoorΣ but P A ∈ ΦΣ (tw ).  We say that (2) is active if its antecedent is fulfilled  but its consequent is not, that is, tw ∈ CoorΣ and  Proceedings of the Ninth International Symposium on Temporal Representation and Reasoning (TIME’02)  1530-1311/02 $17.00 © 2002 IEEE  P A ∈ ΦΣ (tw ), but there is no tw ∈ (←, tw ) such  that A ∈ ΦΣ (tw ). We say that (2) is exhausted if its  consequent is fulfilled, that is, there exists a tw ∈  (←, tw ) such that A ∈ ΦΣ (tw ).  III) Given an ind-possibilistic conditional:  (3) if <i> A ∈ ΦΣ (tw ), then there exists  w i  ti = −→ (tw ) such that A ∈ ΦΣ (ti ).  We say that the conditional (3) is inactive if its antecedent is not fulfilled, that is, if one of the following  conditions is satisfied:  (i) tw ∈ CoorΣ ,  (ii) tw ∈ CoorΣ but <i> A ∈ ΦΣ (tw ).  We say that the conditional (3) is active if its antecedent is fulfilled but its consequent is not, that is,  tw ∈ CoordΣ and <i> A ∈ ΦΣ (tw ), but there is no  w i  ti =−→ (tw ) such that A ∈ ΦΣ (ti ). We say that (3)  is exhausted if its consequent is fulfilled, that is, there  w i  exists a ti =−→ (tw ) such that A ∈ ΦΣ (ti ).  Lemma 3 (trace lemma) Let ΦΣ be an full trace of an indfunctional frame Σ = (W, T , F) and h an ind-functional  interpretation assigning each propositional variable, p, the  set h(p) = {tw ∈ CoorΣ | p ∈ ΦΣ (tw )}. Then, for any  formula A, we have  h(A) = {tw ∈ CoorΣ | A ∈ ΦΣ (tw )}  In order to prove the completeness theorem, for each  consistent formula, A, we will construct (using the class Ξ  in definition 10) an ind-functional frame Σ = (W, T , F)  and a full trace, ΦΣ , such that A ∈ ΦΣ (tw ) for some  tw ∈ CoorΣ .  To this end, we define:  - an enumeration of WΞ : WΞ = {wn | n ∈ N}.    - an enumeration of TΞ = w∈WΞ Tw :    TΞ = n∈N Twn ; Twn = {t(n,m) | m ∈ N}  - an enumeration of LF  (T ×W ) -I: A0 , A1 , . . . An , . . . .  Therefore, we can also assign a code number for each  prophetic conditional (historic conditional, ind-possibilistic  conditional, etc.) in the usual way.  Now, given a consistent formula A, the construction of  Σ and ΦΣ goes step by step as follows:  We begin with a finite ind-functional frame Σ0 =  (W0 , T0 , F0 ) ∈ Ξ, with W0 = {w0 }, where w0 ∈ WΞ − I;  T0 = {({t(0,0) }, ∅)}, F0 = ∅ and a trace ΦΣ0 , such that  ΦΣ0 (t(0,0) ) = Γ0 , where Γ0 is an mc-set containing A.  Assume that Σn = (Wn , Tn , Fn ) and ΦΣn are defined.  Then Σn+1 and ΦΣn+1 are defined as follows:  • If all conditionals are not active, then Σn+1 = Σn ,  ΦΣn+1 = ΦΣn and the construction is finished.  • Otherwise, i.e., if there is some conditional (α) for  ΦΣn which is active, then we choose the conditional  (α ) with the lowest code number and the exhausting  lemma below ensures that there exists a finite extension Σn+1 = (Wn+1 , Tn+1 , Fn+1 ) of Σn and a finite  extension ΦΣn+1 of ΦΣn , such that the conditional (α )  for ΦΣn+1 is exhausted.  The result is a sequence of finite ind-functional frames  (W0 , T0 , F0 ), (W1 , T1 , F1 ), ..., (Wn , Tn , Fn ), ...,  whose union is the ind-functional frame Σ, and a sequence  of corresponding traces, ΦΣ0 , ΦΣ1 , . . . , ΦΣn , . . . , whose  union is ΦΣ .  Each finite ind-functional frame of the above sequence  satisfies the condition of linearity of temporal orders and  each trace of it is coherent, but in general, it fails to be  prophetic, historic or ind-possibilistic.  However, as we shall show, the trace ΦΣ has all these  properties. Finally, we will demonstrate that the trace lemma ensures that A is satisfied in Σ.  Lemma 4 (Exhausting lemma) Let Ξ be as in definition 10, ΦΣn a coherent trace of an ind-functional frame  Σn = (Wn , Tn , Fn ) ∈ Ξ and let (α) be a prophetic (historic or ind-possibilistic) conditional for ΦΣn which is active. Then there exists a coherent trace ΦΣn+1 , extension  of ΦΣn , such that (α) is a conditional for ΦΣn+1 which is  exhausted.  Proof:  The proof for prophetic or historic conditionals is standard in temporal logic. Consider the special case of indpossibilistic conditionals.  Let ΦΣn be a coherent trace of an ind-functional frame  Σn = (Wn , Tn , Fn ) ∈ Ξ, let i ∈ I and assume that the  following ind-possibilistic conditional for ΦΣn is active:  (2) if <i> A ∈ ΦΣn (tw ), then there exists  w i  ti =−→ (tw ) such that A ∈ ΦΣn (ti ).  Thus, we have that < i > A ∈ ΦΣn (tw ), but there is no  w i  ti =−→ (tw ) such that A ∈ ΦΣn (ti ). Now, we have to  consider two cases:  I) i ∈  / Wn . Then, by item 2 (c) in lemma 1, there exists  an mc-set, Γ, such that ΦΣn (tw ) ≺i Γ and A ∈ Γ; then  we need a new flow of time labelled with i, Ti , which  requires to extend Wn and, also, to introduce a new  w i  coordinate ti associated with Γ so that ti =−→ (tw ).  So, we proceed as follows:  - Wn+1 = Wn ∪ {i}  Proceedings of the Ninth International Symposium on Temporal Representation and Reasoning (TIME’02)  1530-1311/02 $17.00 © 2002 IEEE  - Tn+1 = Tn ∪ {(Ti , <i )}, where  (Ti , <i ) = ({ti }, ∅)  w i  w i  w i  - Fn+1 = F ∪ {−→}, where −→= {(tw , ti )}  - ΦΣn+1 = ΦΣn ∪ {(ti , Γ)}  It is immediate that linearity is preserved and that  ΦΣn+1 is coherent.  II) i ∈ Wn . In this case, we must consider the following  situations:  w i  (ii.b.1) Γ = ΦΣn (t1i )  (ii.b.2) Γ ≺T ΦΣn (t1i )  (ii.b.3) ΦΣn (t1i ) ≺T Γ  w i  (II.2) −→ is not defined in Fn .  w i  (II.1): Let ti be the minimum 3 of −→ (Tw ) and tw  w i  such that ti =−→ (tw ). Thus, we have that  For case (ii.b.1) the reasoning is the same as in  (i). The case (ii.b.2) gives rise to  ΦΣn (ti ) ≺T Γ ≺T ΦΣn (t1i )  (†1 )  Then we select a new coordinate, ti , to associate  it to Γ. Thus:  ΦΣn (tw ),  and, since ΦΣn (tw ) ∼T  we obtain  ΦΣn (tw ) & ΦΣn (tw ). On the other hand, it is evident  that ΦΣn (tw ) & ΦΣn (tw ). Thus, by diamond theorem, from (†1 ) we obtain that there exists an mc-set,  Γ, such that  ΦΣn (tw ) ≺i Γ  Γ ∼T ΦΣn (ti )  and  Tn+1 = (Tn − {(Ti , <i )}) ∪ {(Ti , <i )},  where  - Ti = Ti ∪ {ti }  - <i = <i ∪ {(ti , ti ), (ti , t1i )} ∪ {(t∗i , ti ) |  t∗i <i ti } ∪ {(ti , t∗i ) | t1i <i t∗i }  Fn+1 and ΦΣn+1 are defined as in (*) and  (**) respectively.  (†2 )  (†2 ) means that one of the following three conditions  is satisfied:  Linearity in the new frame and coherence of the  new trace are again preserved.  In case (ii.b.3) we consider the immediate  successor of t1i , namely t2i , and we proceed in  a similar way.  By iterating this operation at most s times, we  fix the image of tw associating an mc-set to it,  preserving coherence and linearity.  Finally, case (iii) is analogous to case (ii).  (i) Γ = ΦΣn (ti );  (ii) ΦΣn (ti ) ≺T Γ;  (iii) Γ ≺T ΦΣn (ti ).  In all of these cases we have Wn+1 = Wn . Now,  – if item (i) holds, we have:  Tn+1 = Tn ;  w i  w i  Fn+1 = (Fn − {−→}) ∪ {−→ }, where  w i  w i  −→ =−→ ∪ {(tw , ti )}  ΦΣn+1 = ΦΣn  It is evident that ΦΣn+1 is coherent.  – if item (ii) holds, we have to consider the number of  successors of ti in Ti :  (ii.a) if the number of successors of ti in Ti is zero,  then a new coordinate ti is chosen, to be associated with Γ and we have:  Tn+1 = (Tn − {(Ti , <i )}) ∪ {(Ti , <i )}, where  - Ti = Ti ∪ {ti }  - <i = <i ∪ {(ti , ti )} ∪ {(t∗i , ti ) | t∗i <i ti }  3 We  could also consider the maximum.  w i  −→ =−→ ∪ {(tw , ti )}  (*)  ΦΣn+1 = ΦΣn ∪ {(ti , Γ)}  (**)  Clearly, linearity is preserved and lemma 1 completes the proof of the coherence of ΦΣn+1 .  (ii.b) On the other hand, if the number of successors of  ti in Ti is s > 0, then we consider the immediate  successor of ti , say t1i . Now, since ΦΣn (ti ) ≺T  ΦΣn (t1i ), by item 4 (a) in lemma 1, we obtain one  of the three following conditions:  (II.1) −→ is defined in Fn .  ΦΣn (tw ) ≺i ΦΣn (ti )  w i  w i  Fn+1 = (Fn − {−→}) ∪ {−→ }, where:  w i  Consider case (II.2), that is, −→ is not defined in Fn .  It means (by construction of Σn ) that then there will  w i  be some time-flow, Tw , with w = w and −→ ∈ Fn .  w i  Let ti be the minimum of −→ (Tw ) and tw such that  w i  −→ (tw ) = ti .  Thus ΦΣn (tw ) ≺i ΦΣn (ti ). Now, (again by construction of Σn ) we have three subcases:  (II.2.1) ΦΣn (tw ) & ΦΣn (tw )  (II.2.2) ΦΣn (tw ) & ΦΣn (tw )  (II.2.3) there exists a flow Tw , with w = w and  w = w , and there exists tw ∈ Tw such that:  ΦΣn (tw ) & ΦΣn (tw ) and ΦΣn (tw )& ΦΣn (tw )  Proceedings of the Ninth International Symposium on Temporal Representation and Reasoning (TIME’02)  1530-1311/02 $17.00 © 2002 IEEE  In case (II.2.1), given that ΦΣn (tw ) & ΦΣn (tw ), by  diamond theorem, there exists an mc-set Γ such that  ΦΣn (tw ) ≺i Γ and Γ ∼T ΦΣn (ti ). Thus, we can  observe, once again, one of the three situations referred  to in paragraph (II.1):  (i) Γ = ΦΣn (ti );  (ii) ΦΣn (ti ) ≺T Γ;  (iii) Γ ≺T ΦΣn (ti ).  [Burgess(1984)] Burgess, J.P: Basic Tense Logic, In  Handbook of Philosophical Logic, vol 2: Extensions  of Classical Logic, edited by D. Gabbay and F. Guenthner, pp. 89-133. Reidel, Dorchecht, 1984.  [Burrieza and P. de Guzmán(2002)] Burrieza, A. and P. de  Guzmán, I: A Temporal × Modal Approach to the  Definability of Properties of Functions, FroCos’2002.  [Chellas(1992)] Chellas, B: Time and Modality in the Logic of Agency, Studia Logica, 51: 485-517, 1992.  and we can reason analogously. 4  In case (II.2.2), i.e., if ΦΣn (tw ) & ΦΣn (tw ), since  ΦΣn (tw ) & ΦΣn (tw ), the diamond theorem ensures  that there exists an mc-set Γ such that ΦΣn (tw ) ≺i Γ  and Γ ∼T ΦΣn (ti ). Thus, we have the same situation  as in the previous cases (i), (ii) and (iii) and we can  carry out the same reasoning.  [Kuschera(1993)] Kuschera, V.F: Causation, Journal of  Philosophical Logic, 22: 563-88, 1993.  Finally, in case (II.2.3), i.e., if there exists a timeflow Tw , with w = w and w = w , and there  exists tw ∈ Tw such that ΦΣn (tw ) & ΦΣn (tw )  and ΦΣn (tw ) & ΦΣn (tw ), once again by diamond  theorem, there exists an mc-set Γ such that  [Thomason(1984)] Thomason, R.H:  Combinations of  tense and modality, In Handbook of Philosophical  Logic, Vol.2: Extensions of Classical Logic, edited by  D. Gabbay and F. Guenthner, pp. 135-65. Reidel, Dordrecht, 1984.  ΦΣn (tw ) ≺i Γ  and  Γ ∼T ΦΣn (ti )  and we can repeat the same reasoning.  Now we can formulate the following theorem.  F  Theorem 3 (Completeness theorem for S(T  ×W )−I -Parc.)  F  If a formula A ∈ L(T ×W ) -I is valid in the class of every  F  ind-functional frame, then A is a theorem of S(T  ×W )−I Parc.  References  [Reynolds(1997)] Reynolds, M: A decidable temporal logic of parallelism, Notre Dame Journal of Formal Logic, 38: 419-36, 1997.  [Thomason and Gupta(1981)] Thomason, R.H. and Gupta,  A: A theory of conditionals in the context of branching  time, in Ifs: Conditionals, Belief, Decision, Chance  and Time, edited by W. Harper, R. Stalnaker, and G.  Pearce, pp. 299-322. Reidel, Dordrecht, 1981.  [Van Fraassen(1981)] Van Fraassen, B: A temporal framework for conditional and chance, In Ifs: Conditionals, Belief, Decision, Chance and Time, edited by W.  Harper, R. Stalnaker, and G. Pearce, pp. 323-40. Reidel, Dordrecht, 1981.  [Aqvist(1999)] Aqvist, L: The logic of historical necessity as founded on two-dimensional modal tense logic,  Journal of Philosophical Logic, 28: 329-369, 1999.  [Zanardo(1986)] Zanardo, A: On the Characterizability of  the frames for the Unpreventability of the Present and  the Past, Notre Dame Journal of Formal Logic, 27:  556-64, 1986.  [Belnap(1996)] Belnap, N: Agents in branching time, In  Logic and Reality: Essays in Pure and Applied Logic,  in Memory of Arthur Prior, edited by B. J. Copeland,  pp. 239-71 Oxford University Press, Oxford, 1996.  [Zanardo(1996)] Zanardo, A: Branching-time logic with  quantification over branches: the point of view of  modal logic, The Journal of Symbolic Logic, 61: 139, 1996.  [Belnap and Perloff(1990)] Belnap, N. and Perloff, M:  Seeing to it that: A canonical form of agentives, In  Knowledge Representation and Defeasible Reasonings, ed. by H.E. Kyburg, R.P. Loui, and G.N. Carlson,  Kluwer Academic Publishers, Dordrecht, 1990.  w i  suffices to consider that, in this case, −→ ∈ Fn and, therefore, in the extensions of Fn for (i), (ii) and (iii), we will obtain that  4 It  w i  w i  Fn+1 = Fn ∪ {−→}, being concretely −→= {(tw , ti )} in subcase  w i  (i). In subcases (ii) and (iii), we will obtain, respectively, that −→ (tw ) is  situated on the right or on the left of ti .  Proceedings of the Ninth International Symposium on Temporal Representation and Reasoning (TIME’02)  1530-1311/02 $17.00 © 2002 IEEE 