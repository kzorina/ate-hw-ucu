Real Time Properties for  Interrupt Timed Automata  B. BeÄšÂrardÃ¢Â€  S. HaddadÃ¢Â€Ä„  Ã¢Â€Â  UPMC,  Ã¢Â€Ä„ ENS  M. SassolasÃ¢Â€  LIP6/MoVe, CNRS UMR 7606, Paris, France  de Cachan, LSV, CNRS UMR 8643, Cachan, France  MeFoSyLoMa  June 18, 2010  Outline  Real Time  Properties for  ITA  Mathieu  Sassolas  1  The context: timed and hybrid systems  2  The Interrupt Timed Automata Model  3  The model checking problem  4  Decidable fragments  5  Conclusion  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  2 / 21  Outline  Real Time  Properties for  ITA  Mathieu  Sassolas  1  The context: timed and hybrid systems  2  The Interrupt Timed Automata Model  3  The model checking problem  4  Decidable fragments  5  Conclusion  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  3 / 21  Context  Real Time  Properties for  ITA  Mathieu  Sassolas  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Modelling and verification of hybrid systems  I Hybrid automaton = finite automaton + variables  Ã¢Â€Ë˜ Variables evolve in states and can be tested and updated  on transitions.  Ã¢Â€Ë˜ Clocks are variables with slope 1 in all states  Ã¢Â€Ë˜ Stopwatches are variables with slope 0 or 1  I Timed automaton = finite automaton + clocks with  guards x + c ./ 0 and resets x := 0  Example (The gas burner)  Conclusion  Leaking  x Ã¢Â‰Â¤1  yÄšÂ‡ = 1  4 / 21  x Ã¢Â‰Â¤ 1, stop, x := 0  Not leaking  yÄšÂ‡ = 0  x Ã¢Â‰Ä½ 30, start, x := 0  Previous results  Real Time  Properties for  ITA  Hybrid automata = Stopwatch automata [Cassez, Larsen 2000]  HA = SWA  Mathieu  Sassolas  TA  (Lip6/MoVe)  2010/06/18  Timed automata  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  5 / 21  I The reachability problem is undecidable for a timed  automaton with one stopwatch [Henzinger et al 1998].  I Model checking timed automata with stopwatch observers  is undecidable for WCTL (a weighted extension of CTL)  [Bouyer et al 2006].  I Reachability and model checking TCTL is decidable on TA  [Alur, Dill 1990] [Alur, Courcoubetis, Dill 1993].  Motivations  Real Time  Properties for  ITA  Mathieu  Sassolas  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  6 / 21  I Theoretical  Ã¢Â€Ë˜ To express more than timed automata  Ã¢Â€Ë˜ To obtain decidability results  I Practical  Ã¢Â€Ë˜ In operating systems, tasks are scheduled according to  their priority level.  Ã¢Â€Ë˜ A higher priority task can interrupt a lower priority task.  I An interrupt clock can be seen as a restricted type of  stopwatch: only one evolves at a given time.  Clock interruptions  Real Time  Properties for  ITA  Mathieu  Sassolas  level 4  (Lip6/MoVe)  2010/06/18  level 3  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  7 / 21  level 2  level 1  ÄÅÅ½  xi := 0  ÄÅÅ½  ÄÅÅ¡  0  ÄÅÅ» 0 ÄÅÅŸ 1.5 ÄÅÅ»  ÄÅÅ»  ÄÅÅŸ  ÄÅÅ»  ÄÅÂ° 0 ÄÅÅ¥ Ã¢ÂˆÂ’Ã¢ÂˆÂ’Ã¢Â†Â’ ÄÅÂ°  0  ÄÅÅ½  ÄÅÅ¡  1.5  0 ÄÅÅŸ  2.1 ÄÅÅ»  ÄÅÅŸ Ã¢ÂˆÂ’  Ã¢ÂˆÂ’Ã¢Â†Â’ ÄÅÅ»  ÄÅÂ°  0 ÄÅÅ¥  0  x4 := 0  x3 := 0  x2 := 0  ÄÅÅ½  ÄÅÅ¡  1.5  0 ÄÅÅŸ  1.7 ÄÅÅ»  ÄÅÅŸ Ã¢ÂˆÂ’  Ã¢ÂˆÂ’Ã¢Â†Â’ ÄÅÅ»  ÄÅÂ°  2, 1 ÄÅÅ¥  0  ÄÅÅ½  ÄÅÅ¡  1.5  0 ÄÅÅŸ  2.2 ÄÅÅ»  ÄÅÅŸ Ã¢ÂˆÂ’  Ã¢ÂˆÂ’Ã¢Â†Â’ ÄÅÅ»  ÄÅÂ°  2.1 ÄÅÅ¥  1.7  ...  ÄÅÅ¡  3.7  0 ÄÅÅŸ  ÄÅÅŸ  0 ÄÅÅ¥  0  Outline  Real Time  Properties for  ITA  Mathieu  Sassolas  1  The context: timed and hybrid systems  2  The Interrupt Timed Automata Model  3  The model checking problem  4  Decidable fragments  5  Conclusion  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  8 / 21  Interrupt Timed Automata  Real Time  Properties for  ITA  Mathieu  Sassolas  (Lip6/MoVe)  q1 , 2  x1 < 1, a  The ITA  model  Guard  Level  2010/06/18  Introduction  x1 + 2x2 = 2, b, x2 := 21 x1 + 1  Action  Update  q0 , 1  x2  The model  checking  problem  Decidable  fragments  1  b  x1 = 1  Conclusion  9 / 21  0  a  1  x1  +2  x2  =  2  2  x1  q2 , 2  ITA and TA are incomparable  Real Time  Properties for  ITA  Mathieu  Sassolas  (Lip6/MoVe)  2010/06/18  ITA A1 cannot be  simulated by a TA  x2 = x1 , a, x2 := 0  q1 , 2  q0 , 1  A1 accepts words made  of as separated always  by the same amount of  time  x = 1, a, x := 0  TA A2 cannot be  simulated by an ITA  x1 > 0, a, x2 := 0  (a, 0.7) (a, 1.4) (a, 2.1)  (a, 2.8) (a, 3.5) (a, 4.2)  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  A2 accepts timed words  with a a at each time  unit, a b between each  a, and the b gets closer  to the a each time.  q0  q1  0 < x < 1, b, y := 0  q2  0<x  , b, y := 0  y <1  10 / 21  x = 1, a, x := 0  q3  (a, 1)  (a, 2)  (a, 3)  (a, 4)  (b, 1.87)  (b, 2.42)  (b, 3.37)  (b, 4.23)  Expressiveness and decidability trade-off  Stopwatch automata  Real Time  Properties for  ITA  SWA  Mathieu  Sassolas  TA  (Lip6/MoVe)  2010/06/18  Timed automata  ITA  Interrupt timed  automata  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  Previous results  I SWA: Reachability and model checking undecidable  I TA: Reachability and model checking decidable  I ITA: Reachability decidable  11 / 21  What about model checking on ITA ?  Outline  Real Time  Properties for  ITA  Mathieu  Sassolas  1  The context: timed and hybrid systems  2  The Interrupt Timed Automata Model  3  The model checking problem  4  Decidable fragments  5  Conclusion  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  12 / 21  Timed CTL  Real Time  Properties for  ITA  Mathieu  Sassolas  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  I Ã¢Â€ÂœNo error in the first 50 time unitsÃ¢Â€Â  y . (A Ã‚Å¹ error U y > 50)  I Ã¢Â€ÂœA normal state is reached when the clock of level 2 is  greater than the one of level 1Ã¢Â€Â  E > U normal Ã¢ÂˆÂ§ x2 Ã¢Â‰Ä½ x1 or EF normal Ã¢ÂˆÂ§ x2 Ã¢Â‰Ä½ x1  I Ã¢Â€ÂœWe never leave level 1 for more than 5 time unitsÃ¢Â€Â  AG (Ã‚Å¹`1 Ã¢Â‡Â’ z. (AF `1 Ã¢ÂˆÂ§ z < 5))  I Timed CTL with explicit clocks:  X  ai Ã‚Ë‡ xi + b ./ 0 | y .ÄÂˆ |  ÄÂˆ ::= p | y + b ./ 0 |  iÃ¢ÂˆÂˆI  Conclusion  A ÄÂˆ U ÄÂˆ | E ÄÂˆ U ÄÂˆ | ÄÂˆ Ã¢ÂˆÂ§ ÄÂˆ | Ã‚Å¹ÄÂˆ  I Given a formula ÄÂ• and an ITA A, does A  ÄÂ• ?  Theorem  13 / 21  Model checking TCTL formula on ITA is undecidable.  Model checking TCTL on ITA is undecidable  Real Time  Properties for  ITA  I A two-counter machine: for e Ã¢ÂˆÂˆ {c, d}  Ã¢Â€Ë˜ Ã¢Â€Âœe++ goto lÃ¢Â€Â,  Ã¢Â€Ë˜ Ã¢Â€Âœif e > 0 then e-- goto l1 else goto l2Ã¢Â€Â,  Ã¢Â€Ë˜ Ã¢Â€ÂœHaltÃ¢Â€Â.  Mathieu  Sassolas  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  I The halting problem of a two-counter machine is  undecidable  Does  the two-counter machine M  reach the Halt label ?  Does  automaton AM  reach its final state ?  Conclusion  14 / 21  Does  IM  ITA  Ä‚Â—  IM    TM  TA  ÄÂ•  Model  checking  problem  Only 2 external clocks  ?  Outline  Real Time  Properties for  ITA  Mathieu  Sassolas  1  The context: timed and hybrid systems  2  The Interrupt Timed Automata Model  3  The model checking problem  4  Decidable fragments  5  Conclusion  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  15 / 21  TCTL without external clocks  Real Time  Properties for  ITA  Mathieu  Sassolas  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  16 / 21  I Only  P  iÃ¢ÂˆÂˆI  ai Ã‚Ë‡ xi + b ./ 0 comparisons.  I For example E > U normal Ã¢ÂˆÂ§ x2 Ã¢Â‰Ä½ x1  I The truth value of the comparison can be abstracted by  regions.  I A classical CTL model checking algorithm can be applied.  Theorem  Model checking TCTL without external clocks on ITA can be  done in 2-EXPSPACE and PSPACE when the number of clocks  is fixed.  Example of model-checking procedure  Real Time  Properties for  ITA  x1 + 2x2 = 2, b  q1 , 2  q2 , 2  x1 < 1, a  Mathieu  Sassolas  E > U q1 Ã¢ÂˆÂ§ x2 Ã¢Â‰Ä½ x1  (Lip6/MoVe)  x1 < 23  x is fixed  0 < x1 < Ã¢ÂˆÂ’ 12 x11 + 1 = x2  q0 , 1  2010/06/18  q0 , Z01  Introduction  a  q1 , Z01  0 = x2 < 1  q1 , Z01  0 < x2 < 1  q1 , Z01  0 < x2 = 1  q1 , Z01  0 < 1 < x2  x1 = 0  b  The ITA  model  The model  checking  problem  Decidable  fragments  q2 , Z01  0 < x2 = 1  q0 , Z11  a  q1 , Z11 , Z02  q1 , Z11 , Z12  q1 , Z11 , Z22  q1 , Z11 , Z32  when x1 = 23 ,  x1 + 2x2 = 2  m  x1 = x2  q2 , Z01  0 < 1 < x2  q1 , Z11 , Z42  q1 , Z11 , Z52  0 < x1 < 23  b  q2 , Z11 , Z42  q0 , Z21  a  q1 , Z21  0 = x2 < 23  q1 , Z21  0 < x2 < 23  q1 , Z21  0 < x2 = 23  q2 , Z11 , Z52  q1 , Z21  0 < 23 < x2  x1 = 23  b  Conclusion  q2 , Z21  0 < x2 = 23  q0 , Z31  a  q1 , Z31 , Z62  q1 , Z31 , Z72  q1 , Z31 , Z82  q2 , Z21  0 < 23 < x2  q1 , Z31 , Z92  2  q1 , Z31 , Z10  2  q1 , Z31 , Z11  q2 , Z31 , Z92  2  q2 , Z31 , Z10  2  q2 , Z31 , Z11  2<x  1  3  b  q2 , Z31 , Z82  17 / 21  q0 , Z41  q0 , Z51  q0 , Z61  q0 , Z71  A fragment of TCTL with only one external clock  Real Time  Properties for  ITA  Mathieu  Sassolas  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  18 / 21  I A particular case of TCTL with 1 external clock.  I Clock conditions can only restrict the Until operator with  urgency (y Ã¢Â‰Â¤ b or y < b) or delay (y Ã¢Â‰Ä½ b or y > b).  I There can be no imbrication of Untils.  I For example y . (A Ã‚Å¹ error U y > 50)  Theorem  Model checking this fragment of TCTL on ITA is decidable.  Outline  Real Time  Properties for  ITA  Mathieu  Sassolas  1  The context: timed and hybrid systems  2  The Interrupt Timed Automata Model  3  The model checking problem  4  Decidable fragments  5  Conclusion  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  19 / 21  Summary and future work  Real Time  Properties for  ITA  Stopwatch automata  Mathieu  Sassolas  SWA  (Lip6/MoVe)  2010/06/18  Introduction  TA  ITA  Timed automata  Interrupt timed  automata  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  ITA+  I ITA allow reasoning on systems with interruptions.  I Its expressive power is incomparable with the TA model.  I Unfortunately model checking of full TCTL is impossible.  I Nevertheless some interesting fragments are still decidable.  20 / 21  Thank you  Real Time  Properties for  ITA  Mathieu  Sassolas  (Lip6/MoVe)  2010/06/18  Introduction  The ITA  model  The model  checking  problem  Decidable  fragments  Conclusion  21 / 21  Any questions ? 