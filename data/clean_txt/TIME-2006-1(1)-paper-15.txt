Using Temporal Logic for Spatial Reasoning: Spatial Propositional  Neighborhood Logic â  Antonio Morales  Department of Information and Communications Engineering  University of Murcia  Murcia E-30100 - Campus de Espinardo, Spain  morales@um.es  Guido Sciavicco  Department of Information and Communications Engineering  University of Murcia  Murcia E-30100 - Campus de Espinardo, Spain  guido@um.es  Abstract  It is widely accepted that spatial reasoning plays a central role in artificial intelligence, for it has a wide variety of  potential applications, e.g., in robotics, geographical information systems, medical analysis and diagnosis. As noticed  by many authors, spatial and temporal reasoning have a  close connection. In this paper we propose a new, semidecidable, modal logic for spatial reasoning through directional relations, which is able to express meaningful spatial statements. Spatial Propositional Neighborhood Logic  can be polynomially reduced to a decidable temporal logic  based on time intervals preserving, at least, valid formulas.  Thanks to such a reduction, we are able to re-use a sound  and complete tableaux method in order to reason with Spatial Propositional Neighborhood Logic; to the best of our  knowledge, there are practically no previous attempts of devising automatic reasoning methods for spatial reasoning.  1 Introduction  It is widely accepted that spatial reasoning plays a central role in artificial intelligence, for it has a wide variety  of potential applications e.g. in robotics, geographical information systems, medical analysis and diagnosis. As for  other qualitative reasoning formalisms (e.g., temporal reasoning), spatial reasoning can be viewed under three difâ This work was supported by the Spanish MEC under project MEDICI  (TIC2003-09400-C04-01)  ferent, somehow complementary, points of view. We may  distinguish between the algebraic level, that is, purely existential theories formulated as constraint satisfaction systems  over jointly exclusive and mutually disjoint set of topological, directional, or combined relations; the first-order  level, that is, first-order theories of topological, directional,  or combined relations; and the modal logic level, where a  (usually propositional) modal language is interpreted over  opportune Kripke structures representing space. For a comprehensive survey on the various formalisms (topological,  directional, and combined constraint systems and relations)  see [8].  As for modal logics for spatial reasoning, it is worth  mentioning Bennetâs work [3, 4], later extended by Bennet, Cohn, Wolter and Zakharyaschev in [5]. In [3], Bennet  proposes to interpret regions as subsets of the topological  space, and shows how it is possible to exploit both the classical propositional calculus and the intuitionistic propositional calculus, together with certain meta-level constraint  concerning entailments between formulas, for reasoning  about space with topological relations. In such a way, a spatial topological constraints problem can be solved by checking the satisfiability of a logical formula. In [4] Bennet extends his approach by the use of modal languages. Bennet  takes into consideration the modal logic S4, and interprets  the modal operator in a topological sense, as the interior operator of a given topology. Moreover, in the same work, a  modal convex-hull operator is defined and studied, by translating a first-order axiomatization into a modal schemata.  In [5], the authors consider a multi-modal system for spatiotemporal reasoning, based on Bennetâs previous work. Fur-  Proceedings of the Thirteenth International Symposium on Temporal Representation and Reasoning (TIMEâ06)  1530-1311/06 $20.00 ÂŠ 2006  IEEE  is able to reach a point with coordinates (d x , dy ), where  dx < dx , such that q holds on it, by the formula p â§ 3q.  In [12], Marx and Reynolds show that Compass Logic is undecidable even in the class of all two-dimensional frames.  Moreover, Balbiani, Condotta, and Del Cerro [2] study an  algebra called Rectangle Algebra (RA) which allows one to  express any relation between two rectangles in an Euclidean  space D2 . To our knowledge, the set of all 169 relations between any two rectangles has not been studied at the logical  level. Nevertheless, it easy to see that the natural propositional modal logic based on RA is not recursively enumerable at least when interpreted in the same classes of frames  as Lutz and Wolterâs modal logic of topological relations.  Indeed, by a straightforward translation it is possible to express the RCC8 relations in full RA, which means that the  modal logic of topological relations of the topological space  of all rectangles in the Euclidean space D 2 is a fragment of  the modal logic based on RA.  ther research on this issue can be found in [14], where Nutt  gives a rigorous foundation of the translation of topological  relations into modal logic, introducing generalized topological relations. It is worth to point out that Bennet, Cohn,  Wolter, Zakharyaschev, and Nuttâs results basically exploit  the finite model property and decidability of the classical  propositional logic, the modal logic S4, and of some of their  extensions. For a recent investigation concerning the major mathematical theories of space from a modal standpoint,  see [1].  Unlike the above work, an important attempt to exploit  the whole expressive power of modal logic for reasoning  about space (instead of using it for constraint solving) is  that of Lutz and Wolterâs modal logic for topological relations [11]. Lutz and Wolter present a new propositional  modal logic, where propositional variables are interpreted  in the regions of topological space, and references to other  regions are enabled by modal operators interpreted as topological relations. There are many possible choices for the  set of relations. The set RCC8, for example, contains  the relations equal (eq), disconnected (di), externally connected (ec), tangential proper part (tpp), inverse of tangential proper part (tppi), non-tangential proper part (ntpp),  inverse of non-tangential proper part (ntppi), and partially  overlap (po). Among other possibilities, we mention a refinement of RCC8 into 23 relations, and the set RCC5, obtained from RCC8 by keeping the relations eq and po, but  coarsening the relations tpp and ntpp into a new relation  (proper part), the relations tppi and ntppi into a new relation (inverse of proper part), and the relations ec and dc  into a new relation disconnected (see e.g. [8] for a detailed  discussion). Lutz and Wolterâs modal logic of topological relations has been studied either for the set RCC8 and  the set RCC5, and for different choices of the topological  space and the set of regions. For the matter of a comparison with the present work, Lutz and Wolter have shown  that the satisfiability problem for the modal logic of RCC8  relations interpreted in the Euclidean space R n (n > 1),  where R is the set of real numbers, when the set of basic  regions is exactly the set of all (hyper)-rectangles on it is  not even recursively enumerable. Moreover, it is quite simple to see that such an undecidability result holds also in the  Euclidean space D n (n > 1), where D is any linearly ordered set. This means that it is not possible even to devise  a semi-decidability method for it. As for directional relations, on the other hand, we mention Venemaâs Compass  Logic introduced in [16] and further studied in [12]. Compass logic features four modal operators, namely 3, 3, 3,  and 3, and propositional variables are interpreted as points  in the Euclidean two-dimensional space. The modalities are  interpreted as the natural north, south, east, and west relations between two given points. As for example, given a  point with coordinates (d x , dy ) such that p holds on it, one  In this work we present a new modal logic for reasoning  about two-dimensional space by means of directional relations. Regions are approximated by their minimum bounding box, and four modal operators allow one to move along  the x- and the y-axis. Spatial Propositional Neighborhood  Logic is presented here, and the semi-decidability of its validity problem is shown by means of a polynomial translation into a decidable modal logic for temporal intervals over  linearly ordered sets. Such a translation preserves valid formulas, and, thus, it results a semi-decidability method. The  logic used for the the translation is a well-studied propositional logic for temporal interval, and, among other results,  a sound, complete (non-terminating) tableaux method for it  has been presented. Our translation allows one to use such  a tableaux method for spatial reasoning. It is worth noticing that comparing our approach with the previous (modal)  ones presents some difficulties, basically because most of  the previous work is based on topological relations instead  of directional relations. Nevertheless, the expressive power  of SpPNL can be compared with Lutz and Wolterâs modal  logic of topological relation in the Euclidean space D 2 ; to  some extent, SpPNL can be considered as a fragment of it.  The present paper is organized as follows. In the next  section we briefly discuss some initial choices, and in Section 3 we present the syntax and semantics of SpPNL. Some  simple examples of possible applications are presented in  Section 4. Section 5 is centered on the main result, while  in the last section we conclude and discuss possible future  developments of this work.  2 Some Initial Choices  As for what concerns basic objects, in this paper we  consider extended objects, instead of points. According to  2  Proceedings of the Thirteenth International Symposium on Temporal Representation and Reasoning (TIMEâ06)  1530-1311/06 $20.00 ÂŠ 2006  IEEE  Given any linearly ordered set D = D, <, we call spatial frame the pair D2 = D Ă D, and we denote by O(D)  the set of all objects, that is, O(D) = {(dx , dy ), (dx , dy ) |  dx < dx , dy < dy , dx , dx , dy , dy â D}. The semantics of SpPNL is given in terms of models of the type  M = D2 , O(D), V , where D2 is a spatial frame, and  V : O(D) â 2AP is a spatial valuation function, assigning to any object the set of all and only propositional letters which are true on that object. The truth relation for a  well formed SpPNL-formula Ď in a model M and an object  (dx , dy ), (dx , dy ) is given by the following clauses:  the majority of the authors, we define a region in the twodimensional space as a closed, connected and with connected boundaries non-empty set of points in D 2 , or a finite union of such sets. Notice that such a general definition allow us to model, for example, the variety and complexity of geographical entities, allowing holes and and disconnected regions. A common way to deal with regions  is by approximating them by theirs minimum bounding  boxes. The minimum bounding box (M BB) of a region  is the rectangle identified by the pair (min(x), min(y)),  (max(x), max(y)), where min(x) (resp., max(x)) is the  minimum (resp., maximum) point of the projection on the  x-axis (and, similarly, for the y-axis) of the considered region. For us, a basic object will be the M BB of a region.  There are 169 possible different relations (see Figure 1) between two given M BBs [10]. As noticed in [15], M BBs  suffer of an important limitation for real application, basically because by approximating two objects with their  M BBs it is not always guaranteed that the topological relation between them is respected. Nevertheless, most work  about directional relation has been focused on M BBs, and  in many practical applications M BBs can be considered  as the real objects of interest instead of a simple approximation of them. Moreover, as we have seen above, spatial  reasoning can be tackled at least by means of two distinct  categories of relations, namely topological relations and directional relations. In the topological approach, a topological space is considered, that is, a pair T = U, I, where U  is a set and I is the interior operator, which meets opportune closure properties. Given any two subsets O 1 , O2 â I,  one can ask himself which is the binary relation holding between them. Typical sets of relations are RCC8 and RCC5.  On the contrary, in the present work we focus our attention  on directional relations. Thus, we fix a (bidimensional) reference frame D2 = D Ă D, and we consider the possible  cardinal relations between any two rectangles, in order to  describe where such rectangles are placed relative to one  another; among all possible cardinal relations, we consider  the four relations east, west, north, and south.  â˘ M, (dx , dy ), (dx , dy )  p if and only if p â  V ((dx , dy ), (dx , dy )), for any p â AP;  â˘ M, (dx , dy ), (dx , dy )  ÂŹĎ if and only if it is not the  case that M, (dx , dx ), (dy , dy )  Ď;  â˘ M, (dx , dy ), (dx , dy )  Ď â¨ Ď if and only  if M, (dx , dy ), (dx , dy )  Ď or M, (dx , dx ),  (dy , dy )  Ď;  â˘ M, (dx , dy ), (dx , dy )  EĎ if only if there  exists dx â D such that dx < dx , and  M, (dx , dy ), (dx , dy )  Ď;  â˘ M, (dx , dy ), (dx , dy )  WĎ if only if there  exists dx â D such that dx < dx , and  M, (dx , dy ), (dx , dy )  Ď;  â˘ M, (dx , dy ), (dx , dy )  NĎ if only if there  exists dy â D such that dy < dy , and  M, (dx , dy ), (dx , dy )  Ď;  â˘ M, (dx , dy ), (dx , dy )  SĎ if only if there  exists dy â D such that dy < dy , and  M, (dx , dy ), (dx , dy )  Ď.  As usual, we denote by [X] the dual operator of the modality  X, where X â {E, W, N, S}, and by M  Ď the  fact that Ď is valid on M .  As an aside, it is interesting to notice that Spatial Propositional Neighborhood Logic can be studied in a slightly different version, that we call Non-Strict Spatial Propositional  Neighborhood Logic (SpPNL + ). The mail difference with  the above system is that in the non-strict version the objects can be also lines and points. In the non-strict version,  it is useful to have three modal constant Ď p , Ďh , Ďv which  hold, respectively, only over points, over horizontal lines,  and over vertical lines, that is:  3 Syntax and Semantics of SpPNL  The language for SpPNL consists of a set of propositional variables AP, the logical connectives ÂŹ and â¨, and  the modalities E, W, N, S (east, west, north, and  south). The other logical connectives, as well as the logical constants  and âĽ, can be defined in the usual way. As  for example, Ď â§ Ď âĄ ÂŹ(ÂŹĎ â¨ ÂŹĎ), and  âĄ p â¨ ÂŹp  for any p â AP. SpPNL well formed formulas, denoted by Ď, Ď, . . ., are recursively defined as follows (where  p â AP):  â˘ M, (dx , dy ), (dx , dy )  Ďp if and only if d x = dx  and dy = dy ;  â˘ M, (dx , dy ), (dx , dy )  Ďh if and only if d x < dx  and dy = dy ;  Ď = p | ÂŹĎ | Ď â¨ Ď | EĎ | WĎ | NĎ | SĎ.  3  Proceedings of the Thirteenth International Symposium on Temporal Representation and Reasoning (TIMEâ06)  1530-1311/06 $20.00 ÂŠ 2006  IEEE  Figure 1. The basic relations between two rectangles.  â˘ M, (dx , dy ), (dx , dy )  Ďv if and only if d x = dx  and dy < dy .  and, thus, to simulate the universal modality and nominals:  u(Ď) = Ď â§ [=]Ď and n(p) = p â§ [=](ÂŹp),  In what follows, we will concentrate on SpPNL only, except  for Section 5.3 below.  where n(p) states that p holds in the current rectangle and  nowhere else.  4 Expressive Power of Spatial Propositional  Neighborhood Logic  By exploiting the above definitions, we are able to express non-trivial spatial statements. Suppose for example  that the rectangular objects O 1 and O2 are placed in an Euclidean space as shown below:  It is easy to see that in SpPNL, only 25 out of 169 possible basic RA-relations are directly expressible (see Fig. 2).  Nevertheless, despite its simplicity, SpPNL is surprisingly  powerful. Consider the following shorthand:  hor(Ď)  = [W][W][E]Ď â§ [W][E][E]Ď â§  [E][E][W]Ď â§ [E][W][W]Ď  The propositional variable denoted by R 1 represents the  (simulation of a) nominal that can be used in order  to express the desired relation. Consider the formula  Ď(O1 , O2 ) = p(O2 ) â E n(pR1 ) â§ W EE (EE  n(pR1 )â§ SS (p(O1 ))), where p(O1 ) and p(O2 ) are  propositional variables representing objects, and p R1 is a  propositional variable used here to simulate a nominal.  The operator hor(Ď) states that the formula Ď holds everywhere (i.e., in any rectangle) such that its y-coordinate is  the same as that of the current rectangle. Similarly, an operator ver(Ď) can be defined. This means that in SpPNL it  is possible to express the difference operator:  [=](Ď) = hor(ver(Ď) â§ Ď),  4  Proceedings of the Thirteenth International Symposium on Temporal Representation and Reasoning (TIMEâ06)  1530-1311/06 $20.00 ÂŠ 2006  IEEE  Figure 2. The basic relations between two rectangles directly expressible in SpPNL.  5 Recursive Enumerability  Clearly, situations like the above one cannot be generalized (it is not possible to express any binary relation between two rectangles as a modality). Anyway, very natural  relations such as southeast or northwest can be easily expressed; as for example, we can define the modal operator  for southeast as follows:  SEĎ  =  5.1  Propositional Neighborhood Logic  The Propositional Neighborhood Logic (PNL for short)  has been presented in [9]. PNL is a propositional logic for  temporal intervals interpreted over linearly ordered sets. It  features two modal operators, namely A and A, which  are interpreted as Allenâs relations met by and meets, respectively. Given a linearly ordered set D = D, <, an  (strict1 ) interval neighborhood model is a tuple of the type  M = D, I(D), V, where I(D) is the set of all strict intervals [d, d ] where d < d .The valuation function is a mapping V : AP â 2I(D) in such a way that, for any p â AP,  [d0 , d1 ] â V (p) if (and only if) p is true over [d 0 , d1 ]. The  truth relation at a given interval in a model M is defined by  induction on the structural complexity of formulas:  ESĎ â¨ ESSĎ â¨ EESĎ â¨  EESSĎ.  Notice that the above definition captures any region to the  south-east of the current one, no matters if their M BB meet  (on either of the two axes) or not. Also, in SpPNL it is possible to express 2 out of the 8 RCC8 topological relations  (namely disconnected and equal) in the topological space  of all rectangles in D 2 . As a final example, we can translate  in SpPNL a natural language statement borrowed from the  geographical context such as: suppose that at the southeast  of the current region there exists a region containing water  (w) at the northeast of which there are no trees (t) at all;  so we can deduce that there exists at least one region at the  east of the current one (with no side in common with it) with  no trees. Such a statement can be expressed by means of the  following (valid) formula:  â˘ M, [d0 , d1 ]  p iff [d0 , d1 ] â V (p), for all p â AP;  â˘ M, [d0 , d1 ]  ÂŹĎ iff it is not the case that  M, [d0 , d1 ]  Ď;  1 Two different semantics have been given to interval logics, namely, a  non-strict one, which includes intervals with coincident endpoints (pointintervals), and a strict one, which excludes them. In this paper, we focus  on the strict one.  SE(w â§ ÂŹNEt) â EEÂŹt.  5  Proceedings of the Thirteenth International Symposium on Temporal Representation and Reasoning (TIMEâ06)  1530-1311/06 $20.00 ÂŠ 2006  IEEE  â˘ M, [d0 , d1 ]  Ď â¨ Ď iff M, [d0 , d1 ]  Ď or  M, [d0 , d1 ]  Ď;  â˘ M, [d0 , d1 ]  AĎ iff there exists d2 s.t. d1 < d2 and  M, [d1 , d2 ]  Ď;  â˘ M, [d0 , d1 ]  AĎ iff there exists d2 s.t. d2 < d0 and  M, [d2 , d0 ]  Ď.  PNL has been shown to be complete for nearly all interesting classes of linearly ordered sets in [9], and to be decidable in NEXPTIME when interpreted at least in the class  of all linearly ordered sets in [13]. An effective procedure to  decide satisfiability of PNL-formulas is still missing, even  though such an algorithm has been devised for a fragment  of PNL called RPNL, featuring only one modality, and interpreted over natural numbers, in [6, 7]. Nevertheless, an  original tableau method for PNL interpreted in the class of  all linearly ordered sets, which combines features of classical first-order tableau and point-based temporal tableaux,  has been presented in [9].  5.2  Figure 3. An example of model translation.  (see Fig. 3). From now on, we will assume as fixed the set  AP for spatial models and spatial formulas, and the corresponding set AP  for propositional neighborhood models  and formulas.  The Translation  Since we are going to exploit the properties of PNL  by means of a polynomial translation between SpPNL and  PNL formulas, we first have to assure that we are able  to translate PNL-models into SpPNL-models, and, conversely, to identify those PNL-models which are compatible with a spatial representation. Consider a SpPNL-model  M = D2 , O(D), V , and an object (d 1,x , d1,y ), (d2,x ,  d2,y ) such that p holds on it. In order to represent such  a situation, we consider a PNL-model M = D, I(D), V  built up on D = D, <, that is, the same linearly ordered  set used for M ; the propositional letter p can be represented by using two propositional letters p x and py , that  is, by using their projection on the x and y-axis. Thus, we  place px onto the interval [d 1,x , d2,x ], and py onto the interval [d1,y , d2,y ]. Notice that there is no relation between  the elements representing the x-axis projection of an object and those representing the y-axis projection of the same  object. Nevertheless, a problem may occur. In fact, suppose now that, in the same spatial model, we place ÂŹp onto  the object (d3,x , d3,y ), (d4,x , d4,y ), and that d3,x = d1,x ,  d4,x = d2,x , and d2,y < d3,y . This is clearly a noncontradictive situation. But, at the same time, we cannot put  ÂŹpx over the interval [d 3,x , d4,x ]. Thus, in order to translate  a SpPNL-model based on a set of propositional letters AP  into a PNL-model, we will use a set AP  containing four  groups of propositional letters, namely, for each p â AP,  we put px , py , px , py â AP  , together with a set of conditions that we well see below. The intended meaning is that  px (resp., py ) represents the projection on the x-axis (resp.,  y-axis) of an object labeled with p, and p x (resp., py ) represents the same projection of an object labeled with ÂŹp.  Definition 1 Given a set of propositional letters AP,  we say that a PNL-model M = D, I(D), V is planecompatible (with respect to AP  ) if and only if it is not  the case that there exist two intervals [d, d ], [d , d ] such  that px , px â V([d, d ]) and py , py â V([d , d ]), for any  p â AP.  As shown in [9], in PNL it is possible to define the difference modality [=]. Thus, it is also possible to define an  operator E(Ď) = Ď â¨ ÂŹ[=]ÂŹĎ, such that E(Ď) holds on a  given interval [d, d  ] if and only if Ď holds on [d, d  ] or over  some other interval of the model. It is not difficult to see  that the following PNL-formula only admits models which  are plane-compatible with respect to AP  :    (E(px â§ px ) â§ E(py â§ py )).  Î=ÂŹ  pâAP  Now, we formalize the translation between SpPNLmodels and PNL-models.  Definition 2 Given any SpPNL-model M = D 2 , O(D),  V , we define its interval-correspondent model Îź(M ) as the  PNL-model D, I(D), V, where, for every p â AP, we  set px â V([d, d ]) and py â V([d , d ]) if and only if  p â V ((d, d ), (d , d )), and px â V([d, d ]) and py  â V([d , d ]) if and only if p â V ((d, d ), (d , d )).  Similarly, given any PNL-model M = D, I(D), V, we define its spatial-correspondent model Îź â1 (M ) as the SpPNLmodel D2 , O(D), V , where, for every p â AP, we put  6  Proceedings of the Thirteenth International Symposium on Temporal Representation and Reasoning (TIMEâ06)  1530-1311/06 $20.00 ÂŠ 2006  IEEE  Ďx translation clauses  Ďx (p) = px  Ďx (ÂŹp) = px  Ďx (Ďâ§Ď) = Ďx (Ď)â§Ďx (Ď)  Ďx (Ďâ¨Ď) = Ďx (Ď)â¨Ďx (Ď)  Ďx (EĎ) = AĎx (Ď)  Ďx (NĎ) = Ďx (Ď)  Ďx (WĎ) = AĎx (Ď)  Ďx (SĎ) = Ďx (Ď)  Ďy (Ď â§ Ď), then we have that M, [d, d  ]  Ďx (Ď) â§  Ďx (Ď), and M, [d , d ]  Ďy (Ď) â§ Ďy (Ď). Thus, since  M, [d, d ]  Ďx (Ď) and M, [d , d ]  Ďy (Ď), by inductive hypothesis, Îź â1 (M), (d, d )(d , d )  Ď, and  similarly, Îźâ1 (M), (d, d )(d , d )  Ď. This means  that Îźâ1 (M), (d, d ) (d , d )  Ď. Otherwise, assume  Ď = EĎ. If M, [d, d ]  Ďx (EĎ) and M, [d , d ]   Ďy (EĎ), then we have that M, [d, d  ]  AĎ and  M, [d , d ]  Ď. By definition, we have that that there  exists a point d such that d < d and M, [d , d]  Ď). By  inductive hypothesis, Îź â1 (M), (d , d )(d, d )  Ď. By  definition, we conclude that Îź â1 (M), (d, d )(d , d )   Ď. Analogously, assume Ď = [E]Ď. If M, [d, d  ]   Ďx ([E]Ď) and M, [d , d ]  Ďy ([E]Ď), then we have  that M, [d, d ]  [A]Ď and M, [d , d ]  Ď. So,  we have that that for all points d such that d  < d  it is the case that M, [d , d]  Ď).  By inductive  hypothesis, Îźâ1 (M), (d , d )(d, d )  Ď. By definition, we conclude that Îź â1 (M), (d, d )(d , d )   Ď. Finally, suppose Ď = NĎ. If M, [d, d  ]   Ďx (NĎ) and M, [d , d ]  Ďy (NĎ), then we have  that M, [d, d ]  Ď and M, [d , d ]  AĎ. By definition, we have that that there exists a point d such that  d < d and M, [d , d]  Ď. By inductive hypothesis,  Îźâ1 (M), (d, d )(d , d)  Ď. By definition, we conclude that Îźâ1 (M), (d, d )(d , d )  Ď. In the same  way, suppose Ď = [N]Ď. If M, [d, d  ]  Ďx ([N]Ď) and  M, [d , d ]  Ďy ([N]Ď), then we have that M, [d, d  ]  Ď  and M, [d , d ]  [A]Ď. We have that for all points d such  that d < d and M, [d , d]  Ď. By inductive hypothesis,  Îźâ1 (M), (d, d )(d , d)  Ď. By definition, we conclude  that Îźâ1 (M), (d, d )(d , d )  Ď.  Ďy translation clauses  Ďy (p) = py  Ďy (ÂŹp) = py ;  Ďy (Ďâ§Ď) = Ďy (Ď)â§Ďy (Ď)  Ďy (Ďâ¨Ď) = Ďy (Ď)â¨Ďy (Ď)  Ďy (EĎ) = Ďy (Ď)  Ďy (NĎ) = AĎy (Ď)  Ďy (WĎ) = Ďy (Ď)  Ďy (SĎ) = AĎy (Ď)  Figure 4. Translation clauses.  p â V ((d, d ), (d , d )) if and only if px â V([d, d ])  and py â V([d , d ]).  The following observations will be useful for the rest of this  section:  (a) If M is a SpPNL-model and Îź(M ) its interval correspondent PNL-model, then Îź(M )  Î;  (b) If M is a PNL-model and M  Î, then its spatial correspondent model Îź â1 (M) is well-defined.  Now, we devise a polynomial translation between  SpPNL-formulas, based on a set of propositional variables  AP and PNL-formulas based on the corresponding set  AP  . Consider any SpPNL-formula Ď in negated normal  form, and the translations functions Ď x and Ďy whose clauses  are given in Fig. 4. Clearly, we identify ÂŹÂŹp with p.  Definition 3 Given any SpPNL-formula Ď in negated normal form, we define its interval-correspondent formula Ď (Ď)  as the PNL-formula Ďx (Ď) â§ E(Ďy (Ď)) â§ Î.  Lemma 4 Given any SpPNL-formula Ď in negated normal  form, if the PNL-formula Ď (Ď) is satisfiable, then Ď is satisfiable.  Lemma 5 The translation Ď can be performed in polynomial time.  Theorem 6 The validity problem for SpPNL interpreted in  the class of all Euclidean spaces D 2 , where D is any linearly  ordered set, is recursively enumerable.  Proof.  We proceed on the structural complexity of Ď proving a stronger result: given any SpPNL-formula Ď in  negated normal form, if M, [d, d  ]  Ďx (Ď), M, [d , d ]   Ďy (Ď), and M  Î, then Îź â1 (M), (d, d )(d , d )   Ď. Notice that M  Î implies that Îźâ1 (M) is welldefined. We show only some significant cases. Suppose Ď = p. If M, [d, d ]  Ďx (Ď), and M, [d , d ]   Ďy (Ď), then px â V([d, d ]) and py â V([d , d ]).  By construction, p â V ((d, d  )(d , d )), and, thus,  Îźâ1 (M), (d, d )(d , d )  Ď.  Similarly, suppose  Ď = ÂŹp. If M, [d, d ]  Ďx (Ď), and M, [d , d ]   Ďy (Ď), then px â V([d, d ]) and py â V([d , d ]).  By construction, ÂŹp â V ((d, d  )(d , d )), and, thus,  Îźâ1 (M), (d, d )(d , d )  Ď. Now, suppose Ď =  Ď â§ Ď. If M, [d, d ]  Ďx (Ď â§ Ď) and M, [d , d ]   Finally, we recall that in [9] an implementable (nonterminating) tableaux method for PNL has been implemented. Thus, we are able to use it in order to reason with  SpPNL by simply applying the translation Ď .  5.3  Undecidability  In this section, as a final step, we show which are the  main limits of Spatial Propositional Neighborhood Logic.  We will see that, at least in the non-strict version, our logic  is undecidable when interpreted in the class of all Euclidean  spaces D2 . For, we will use Marx and Reynoldsâs result  about the undecidability of Compass Logic [12].  7  Proceedings of the Thirteenth International Symposium on Temporal Representation and Reasoning (TIMEâ06)  1530-1311/06 $20.00 ÂŠ 2006  IEEE  SpPNL+  E(Ďh â§ E(Ďp â§ Îž(f)))  W(Ďh â§W(Ďp â§Îž(f)))  N(Ďv â§ N(Ďp â§ Îž(f)))  S(Ďh â§ S(Ďp â§ Îž(f)))  Compass Logic  3f  3f  3f  3f  References  [1] M. Aiello and J. van Benthem. A modal walk through space.  Journal of Applied Non-Classical Logic, 12(3-4):319â363,  2002.  [2] P. Balbiani, J. Condotta, and L. F. del Cerro. A model for  reasoning about bidemsional temporal relations. In Proc. of  the Sixth International Conference on Principles of Knowledge Representation and Reasoning (KRâ98), pages 124â  130, 1998.  [3] B. Bennett. Spatial reasoning with propositional logics. In  J. Doyle, E. Sandewall, and P. Torasso, editors, KRâ94: Principles of Knowledge Representation and Reasoning, pages  51â62. Morgan Kaufmann, San Francisco, California, 1994.  [4] B. Bennett. Modal logics for qualitative spatial reasoning.  Journal of the Interest Group in Pure and Applied Logic  (IGPL), 4(1):23â45, 1996.  [5] B. Bennett, A. Cohn, F. Wolter, and M. Zakharyaschev.  Multi-dimensional modal logic as a framework for spatiotemporal reasoning. Applied Intelligence, 17(3):239â251,  2002.  [6] D. Bresolin and A. Montanari. A tableau-based decision  procedure for right propositional neighborhood logic. In  Proc. of TABLEAUX 2005: 14th Conference on Automated  Reasoning with Analytic Tableaux and Related Methods,  volume 3702 of LNAI, pages 63â77, Koblenz, Germany,  September 2005. Springer.  [7] D. Bresolin, A. Montanari, and G.Sciavicco. An optimal decision procedure for right propositional neighborhood logic.  Submitted, 2006.  [8] A. Cohn and S. Hazarika. Qualitative spatial representation and reasoning: An overview. Fundamenta Informaticae, 46(1-2):1â29, 2001.  [9] V. Goranko, A. Montanari, and G. Sciavicco. Propositional  interval neighborhood temporal logics. Journal of Universal  Computer Science, 9(9):1137â1167, 2003.  [10] H. GuĚsgen. Spatial reasoning based on Allenâs temporal  logic. Technical Report ICSI TR89-049, International Computer Science Institute, 1989.  [11] C. Lutz and F. Wolter. Modal logics of topological relations.  In Proc. of Advances in Modal Logics 2004, 2004.  [12] M. Marx and M. Reynolds. Undecidability of compass logic.  Journal of Logic and Computation, 9(6):897â914, 1999.  [13] A. Montanari and G. Sciavicco. A decidability proof for  propositional neighborhood logic. Contributed Talk, Trends  in Logics III Conference, Warsaw - Ruciane Nida (Poland),  2005.  [14] W. Nutt. On the translation of qualitative spatial reasoning  problems into modal logics. In KI â99: Proc. of the 23rd  Annual German Conference on Artificial Intelligence, pages  113â124. Springer-Verlag, 1999.  [15] D. Papadias, T. Sellis, Y. Theodoridis, and M. Egenhofer.  Topological relations in the world of minimum bounding  rectangles: a study with R-trees. In Proc. of the ACM  SIGMOD Conference, San Jose, California, pages 92â103,  1995.  [16] Y. Venema. Expressiveness and completeness of an interval tense logic. Notre Dame Journal of Formal Logic,  31(4):529â547, 1990.  Figure 5. Compass Logic Translation.  Consider the following translation Îž from SpPNL + formulas to Compass Logic formulas (denoted here by  f, g, . . .) in Figure 5, of which we only give the modal  clauses.  Theorem 7 The satisfiability/validity problem for SpPNL +  interpreted in the class of all Euclidean spaces D 2 , where  D is any linearly ordered set, is undecidable.  Proof.  The proof is almost straightforward. Suppose the contrary, and consider any Compass Logic formula f . Clearly,  f is satisfiable if and only if the SpPNL + -formula Îž(f ) is  satisfiable. Since the translation Îž is polynomial, this is in  contradiction with Marx and Reynoldsâs result [12]. Thus,  the satisfiability/validity problem for SpPNL + is undecidable.  6 Conclusions and Future Work  In this paper we presented a new modal logic for spatial  reasoning in directional relations. We approximate objects  in a two-dimensional space by means of their minimum  bounding boxes, each one of which is labeled by the set  of propositional variables holding over it. Spatial Propositional Neighborhood Logic is endowed with four modal operators, which allow one to express 25 out of 169 possible  basic relations between two rectangles. Then, we showed  that the validity problem for SpPNL is semi-decidable, by  means of a polynomial translation to a propositional logic  for temporal intervals, namely PNL. As future work, it is  worth to mention that a sound and complete axiomatic system for SpPNL is still missing, as well as a representation  theorem for abstract spatial frames (a similar result can be  found in [11]). Moreover, we noticed that SpPNL can be  viewed as a (very small) fragment of Luzt and Wolterâs  modal logic of topological relations, which is highly undecidable (not recursively axiomatizable) in most cases,  thus we believe that a systematic analysis for maximal recursively enumerable fragments is worth. Finally, we recall that in [9] an implementable (non-terminating) tableaux  method for PNL has been implemented. Thus, we are able  to use it in order to reason with SpPNL by simply applying  the translation Ď .  8  Proceedings of the Thirteenth International Symposium on Temporal Representation and Reasoning (TIMEâ06)  1530-1311/06 $20.00 ÂŠ 2006  IEEE 