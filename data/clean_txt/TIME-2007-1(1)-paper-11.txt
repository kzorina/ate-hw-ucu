Temporalising Tractable Description Logics  A. Artale  Faculty of Computer Science  Free University of Bozen-Bolzano  I-39100 Bozen-Bolzano, Italy  artale@inf.unibz.it  R. Kontchakov  C. Lutz  School of CS and IS  Department of Computer Science  Birkbeck College  Dresden University of Technology  London WC1E 7HX, U.K.  01062 Dresden, Germany  roman@dcs.bbk.ac.uk  lutz@tcs.inf.tu-dresden.de  F. Wolter  Department of Computer Science  University of Liverpool  Liverpool L69 3BX, U.K.  frank@csc.liv.ac.uk  Abstract  It is known that for temporal languages, such as ÄÅ¹Ârstorder LT L, reasoning about constant (time-independent)  relations is almost always undecidable. This applies to temporal description logics as well: constant binary relations  together with general concept subsumptions in combinations of LT L and the basic description logic ALC cause  undecidability. In this paper, we explore temporal extensions of two recently introduced families of Ã¢Â€Â˜weakÃ¢Â€Â™ description logics known as DL-Lite and EL. Our results are  twofold: temporalisations of even rather expressive variants of DL-Lite turn out to be decidable, while the temporalisation of EL with general concept subsumptions and  constant relations is undecidable.  M. Zakharyaschev  School of Comp. Sci. and Inf. Syst.  Birkbeck College  London WC1E 7HX, U.K.  michael@dcs.bbk.ac.uk  of the ÄÅ¹Â‚ow of time (the natural numbers N for LT L) and the  domains of the DL interpretations. Thus, a model for the  combined language consists of a ÄÅ¹Â‚ow of snapshots that represent the domains of interest at various time points. This  semantics corresponds to the semantics of ÄÅ¹Ârst-order temporal logics (more precisely, to ÄÅ¹Ârst-order temporal models with constant domains; varying and expanding domains  have been considered as well in temporalised DLs, but they  are not within the scope of this paper). In fact, the translation of standard DLs into ÄÅ¹Ârst-order logic can be extended  to a translation of temporalised DLs into ÄÅ¹Ârst-order temporal logics. For this semantics, the expressivity and computational complexity of combinations of LT L and DLs  extending the standard Boolean DL ALC have been completely classiÄÅ¹Âed [14, 4]. Instead of trying to summarise all  the available results here, we only point out one of the main  insights from this investigation:  Ã¢Â€Ë˜ combinations of LT L and ALC, which allow general  concept inclusions (GCIs) C1  C2 , are decidable (in  fact, usually E XP S PACE-complete) if, and only if, the  temporal operators are not applied to binary relations  (roles) and, more generally, no constraints are imposed  on the binary relations.  1. Introduction  Over the last 15 years, many temporalised versions of  description logics (DLs) have been suggested and investigated. We refer the reader to the survey papers and monograph [6, 14, 4] where the history of the development of  both interval and point-based temporal extensions of DLs  is discussed in full detail. Our main concern in this paper are extensions of DLs by point-based temporal logics,  in particular the standard linear time temporal logic LT L  (see [13] and references therein). The current state of the  art in this ÄÅ¹Âeld can be summarised as follows: it is generally agreed that the semantics of combined temporal description logics should be based on the Cartesian products  In other words, as long as one only wants to reason about the  temporal behaviour of axioms (corresponding to closed formulas) and concepts (corresponding to unary predicates),  the resulting combination is likely to be decidable; but as  soon as the combination allows reasoning about the temporal behaviour of binary relations it becomes undecidable.  This phenomenon is well understood and reÄÅ¹Â‚ected in the  deÄÅ¹Ânition of, e.g., the monodic fragments of ÄÅ¹Ârst-order tem-  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007  poral logics [17, 12]. In particular, the undecidability results  hold for the most important temporal constraint on binary  relations, namely, that a role is constant over time: even  a single constant role results in an undecidable combination of ALC and LT L with GCIs. Without GCIs, temporal description logics may be decidable even with constant  roles [14].  Unfortunately, many applications of temporal description logics (say, temporal data modelling, which will be  brieÄÅ¹Â‚y discussed in Section 3, or dynamic ontologies) require both GCIs and temporal constraints on roles, in particular constant roles. It was this problem that motivated  the research which resulted in this paper. More precisely,  our main aim was to ÄÅ¹Ând out whether it is possible to design useful combinations of LT L and DLs with GCIs and  constant roles that are still decidable.  Recent developments in description logic have opened a  new path to follow in designing such languages. First, the  recognition of the importance of tractable reasoning and, in  particular, query answering over DL ontologies with GCIs  has given rise to the investigation of the new DL-Lite family  of DLs [10, 11, 2]. And second, the use of huge DL-based  ontologies with GCIs in bio- and medical informatics has  led to the introduction and investigation of Ã¢Â€Â˜weakÃ¢Â€Â™ DLs (reÄÅ¹Â‚ecting the expressive power of existing ontologies) with  tractable subsumption algorithms, namely, the EL-family  of DLs [5, 7, 8]. Both families of DLs lack some of the  expressive power of ALC but have nevertheless proved expressive enough for a number of applications. In this paper,  we explore to which extent these new families of DLs can  provide basis for useful and still decidable combinations of  LT L and DLs with GCIs and constant roles.  The obtained results are twofold. On the one hand, we  prove in Section 4 that the combination of one of the most  expressive versions DL-Litebool of DL-Lite with LT L is indeed decidable (in E XP S PACE), even with GCIs and constant roles. Moreover, its Krom fragment turns out to be  decidable in PS PACE. The proofs are based on an embedding into the one-variable fragment of ÄÅ¹Ârst-order temporal  logic. This means, in particular, that reasoning in temporal  DL-Lite can be supported by available temporal provers;  see, e.g., [12]. On the other hand, we show in Section 7 that  the corresponding combination of EL and LT L is undecidable. The meaning of these results is analysed in Section 8.  combinations of GCIs and ABox assertions. Moreover,  we will distinguish between local and global role names.  Thus, TDL-Litebool contains object names a0 , a1 , . . . , concept names A0 , A1 , . . . , local role names P0 , P1 , . . . , and  global role names T0 , T1 , . . . . Roles R, basic concepts B  and concepts C of TDL-Litebool are deÄÅ¹Âned as follows:  R  B  C  |  Pi  Ã¢ÂŠÄ½  B  |  |  PiÃ¢ÂˆÂ’  Ti | TiÃ¢ÂˆÂ’ ,  Ai | Ã¢Â‰Ä½ q R,  Ã‚Å¹C | C1  C2 |  C  | C1 U C2 ,  |  where q Ã¢Â‰Ä½ 1 is a natural number (note that the results of  this paper do not depend on whether q is given in unary or  in binary). TDL-Litebool formulas are built from atoms of  the form  C1  C2 ,  C(ai ),  R(ai , aj )  with the help of the Boolean connectives (say, Ã‚Å¹ and Ã¢ÂˆÂ§) and  the temporal operators  and U. The atoms C1  C2 are  often called general concept inclusions (GCIs), while the  atoms C(ai ) and R(ai , aj ) are called ABox assertions.  A TDL-Litebool interpretation I is a function      I(n)  I(n)  I(n)  I(n)  I(n) = ÃŽÂ”, a0 , . . . , A0 , . . . , P0 , . . . , T0 , . . . ,  I(n)  I(n)  where ÃŽÂ” is a nonempty set, n Ã¢ÂˆÂˆ N, ai  Ã¢ÂˆÂˆ ÃŽÂ”, Ai  Ã¢ÂŠÂ† ÃŽÂ”,  I(n)  I(n)  I(n)  I(m)  Pi  Ã¢ÂŠÂ† ÃŽÂ” Ä‚Â— ÃŽÂ”, Ti  Ã¢ÂŠÂ† ÃŽÂ” Ä‚Â— ÃŽÂ”, with ai  = ai  I(n)  I(m)  I(n)  I(n)  and Ti  = Ti  , for all n, m Ã¢ÂˆÂˆ N, and ai  = aj ,  for all i = j and all n Ã¢ÂˆÂˆ N (the last condition means the  unique name assumption, which standard in DL). The role  and concept formation constructors are interpreted in I as  follows (where Ri is either a local or global role name):  (RiÃ¢ÂˆÂ’ )I(n) =  I(n)  Ã¢ÂŠÄ½  I(n)  (Ã¢Â‰Ä½ q R)    I(n)   (y, x) | (x, y) Ã¢ÂˆÂˆ Ri  ,  = Ã¢ÂˆÂ…,      = x Ã¢ÂˆÂˆ ÃŽÂ” | {y | (x, y) Ã¢ÂˆÂˆ RI(n) } Ã¢Â‰Ä½ q ,  (Ã‚Å¹C)I(n) = ÃŽÂ” \ C I(n) ,  I(n)  (C1  C2 )I(n) = C1  (C)  I(n)  (C1 U C2 )I(n)  2. Temporal extension of DL-Litebool  We begin by introducing the temporal extension  TDL-Litebool of one of the most expressive description logics DL-Litebool of the DL-Lite family [2]. It combines the  temporal operators of LT L,  (Ã¢Â€Â˜at the next momentÃ¢Â€Â™) and  U (Ã¢Â€Â˜untilÃ¢Â€Â™), with the language of DL-Litebool in a straightforward manner by applying them to concepts and Boolean  ::=  ::=  ::=  I(n)  Ã¢ÂˆÅ  C2  ,  I(n+1)  = C  ,    I(k)  C2  =  Ã¢ÂˆÅ   k>n    I(m)  C1  .  n<m<k  The standard abbreviations  Ã¢Â‰Ä„ Ã‚Å¹Ã¢ÂŠÄ½, Ã¢ÂˆÂƒR Ã¢Â‰Ä„ (Ã¢Â‰Ä½ 1 R),  C1  C2 Ã¢Â‰Ä„ Ã‚Å¹(Ã‚Å¹C1  Ã‚Å¹C2 ), Ã¢Â‰Â¤ q R Ã¢Â‰Ä„ Ã‚Å¹(Ã¢Â‰Ä½ q + 1 R),  U C (Ã¢Â€Â˜some  (= q R) Ã¢Â‰Ä„ (Ã¢Â‰Â¤ qR)  (Ã¢Â‰Ä½ q R), 3F C Ã¢Â‰Ä„  time in the futureÃ¢Â€Â™) and 2F C Ã¢Â‰Ä„ Ã‚Å¹3F Ã‚Å¹C (Ã¢Â€Â˜always in the  futureÃ¢Â€Â™) we need in what follows are self-explanatory and  correspond to the intended semantics.  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007  The satisfaction relation (I, n) |= ÄŽÂ•, for a TDL-Litebool  formula ÄŽÂ•, is deÄÅ¹Âned inductively:  I(n)  (I, n) |= C1  C2 iff C1  (I, n) |= C(ai ) iff  (I, n) |= R(ai , aj ) iff  (I, n) |= Ã‚Å¹ÄŽÂ•  (I, n) |= ÄŽÂ•1 Ã¢ÂˆÂ§ ÄŽÂ•2  (I, n) |= ÄŽÂ•  (I, n) |= ÄŽÂ•1 U ÄŽÂ•2  I(n)  Ã¢ÂŠÂ† C2  ,  I(n)  ai  Ã¢ÂˆÂˆ C I(n) ,  I(n) I(n)  (ai , aj ) Ã¢ÂˆÂˆ  RI(n) ,  iff (I, n) |= ÄŽÂ•,  iff (I, n) |= ÄŽÂ•1 and (I, n) |= ÄŽÂ•2 ,  iff (I, n + 1) |= ÄŽÂ•,  iff there is k > n with (I, k) |= ÄŽÂ•2  and (I, m) |= ÄŽÂ•1 for all n < m < k.  We will also freely use the Booleans Ã¢Â†Â’ and Ã¢ÂˆÂ¨ and the temporal operators 2F and 3F for formulas. A formula ÄŽÂ• is  satisÄÅ¹Âable if there is an interpretation I and a time point n  such that (I, n) |= ÄŽÂ•.  Observe that the interpretation of object names and  global role names is time-independent, while the interpretation of local role names and concepts is allowed to vary  over time. Time-independent   can be introduced     concepts  A and 2+ A  A ,  A    by means of the axioms 2+  F  F  where 2+  F ÄŽÂ• Ã¢Â‰Ä„ ÄŽÂ• Ã¢ÂˆÂ§ 2F ÄŽÂ•.  At ÄÅ¹Ârst sight one might think that the satisÄÅ¹Âability problem for this logic is undecidable because using a single  global functional role T (functionality can be ensured by  the axiom Ã¢Â‰Ä½ 2 T  Ã¢ÂŠÄ½) with functional T Ã¢ÂˆÂ’ one can easily  enforce the existence of a N Ä‚Â— N grid, which could possibly  be used to encode the undecidable N Ä‚Â— N tiling problem.  However, the language is not capable of expressing the requirements on colour matching in the domain Ã¢Â€Â˜dimension,Ã¢Â€Â™  i.e., that if (x, y) Ã¢ÂˆÂˆ T I(n) then the colours of tiles covering  x and y match (which can be easily expressed with the qualiÄÅ¹Âed existential quantiÄÅ¹Âer Ã¢ÂˆÂƒT.C). In fact, as we shall see  in the next section, TDL-Litebool can be embedded in the  one-variable fragment of ÄÅ¹Ârst-order temporal logic, which  is known to be decidable, actually, E XP S PACE-complete;  see, e.g., [14]. Note that satisÄÅ¹Âability in DL-Litebool is NPcomplete [2].  3. Temporal data modelling with TDL-Litebool  Here we brieÄÅ¹Â‚y discuss how TDL-Litebool can be used  for temporal data modelling. It was argued in [10] that the  underlying DL DL-Litebool can represent atemporal conceptual data models like UML class diagrams and EntityRelationship models. For example, one maps entities E,  denoting sets of abstract objects, into concept names AE .  Then one can represent the subclass relation (ISA) and  disjointness between E1 and E2 by AE1  AE2 and  AE1  Ã‚Å¹AE2 , respectively, and to express that E is covered by E1 , . . . , En one can use AE  AE1  Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡  AEn  and AE1  AE , . . . , AEn  AE . To capture an n-ary relationship R over entities E1 , . . . , En , one reiÄÅ¹Âes the relationship. First, take a concept name AR and n role names  R1 , . . . , Rn . The GCIs AR  (= 1 Ri ) ensure that every  instance of AR gives rise to a unique tuple in R; the GCIs  Ã¢ÂˆÂƒRiÃ¢ÂˆÂ’  AEi guarantee that only instances of E1 , . . . , En  may be connected by R. Participation constraints are  captured by cardinality restrictions AEi  (Ã¢Â‰Ä½ k RiÃ¢ÂˆÂ’ ) and  AEi  (Ã¢Â‰Â¤ m RiÃ¢ÂˆÂ’ ). An attribute P of an entity E, associating values of a concrete domain D to instances of E, is considered as a binary relationship linking E with D: this can  be captured by a concept AP and a pair of functional roles  P1 and P2 with the GCIs AP  (= 1 P1 ), AP  (= 1 P2 ),  Ã¢ÂˆÂƒP1Ã¢ÂˆÂ’  AE and Ã¢ÂˆÂƒP2Ã¢ÂˆÂ’  D.  In the temporal context, we can express all those constraints using 2+  F (C1  C2 ) instead of the atemporal  C1  C2 . Below we write C1 Ã¢ÂˆÂ— C2 for 2+  F (C1  C2 ).  However, even at this basic level, global roles are already  required: when reifying relationships, to ensure that every  instance of AR represents the same tuple at different times,  the roles Ri should be global; similarly, the roles P1 and  P2 introduced for an attribute P should be global. Moreover, concrete domains should be constant and disjoint: this  is captured by (D Ã¢ÂˆÂ— D) Ã¢ÂˆÂ§ (D Ã¢ÂˆÂ— D), for all D, and  D Ã¢ÂˆÂ— Ã‚Å¹D , for all distinct concrete domains D, D .  In addition, the temporal constructors of TDL-Litebool  are able to represent dynamic aspects of conceptual models. Timestamping is the basic temporal constraint used to  model the temporal behaviour of entities, relationships and  attributes [18, 3]. It is implemented either by marking entities, relationships and attributes as snapshot or temporary,  or leaving them unmarked. An object belongs to a snapshot entity either never or at all times, no object may belong  to a temporary entity at all times, and there are no temporal assumptions about instances of unmarked entities. The  meaning of timestamps for relationships and attributes is  analogous. In TDL-Litebool timestamps are expressed by  the following formulas: (AE Ã¢ÂˆÂ— AE ) Ã¢ÂˆÂ§ (AE Ã¢ÂˆÂ— AE )  for a snapshot/global entity and (  3+  F Ã‚Å¹AE ) for a temporary entity. Timestamping formulas for a relationship R  involve the concept name AR that reiÄÅ¹Âes the relationship;  then we need (AR Ã¢ÂˆÂ— AR ) Ã¢ÂˆÂ§ (AR Ã¢ÂˆÂ— AR ) for the  snapshot/global relationship, and (  3+  F Ã‚Å¹AR ) for the  temporary relationship. Attributes are treated similarly.  Finally, TDL-Litebool is capable of capturing dynamic  transitions between entities where objects of a source entity,  E1 , migrate to a target entity, E2 , with the help of the GCI  AE1 Ã¢ÂˆÂ— 3F AE2 .  It was observed in [1] that temporal conceptual models  with timestamping and evolution constraints can be translated into the DL DLRU S and that reasoning with temporal  models with both timestamping and dynamic constraints is  undecidable. The main difference here is that TDL-Litebool  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007  lacks the ability to represent sub-relationships which is an  essential part in the undecidability proof.  where A is a concept name and R a role. Next, we extend  this translation to TDL-Litebool -formulas:  (C1  C2 )Ã¢ÂˆÂ—  (C(ai ))Ã¢ÂˆÂ—  (Ã‚Å¹ÄŽÂˆ)Ã¢ÂˆÂ—  (ÄŽÂˆ)Ã¢ÂˆÂ—  4. TDL-Litebool is E XP S PACE-complete  This result is proved by providing a satisÄÅ¹Âability preserving translation of TDL-Litebool formulas into the onevariable fragment QT L1 of ÄÅ¹Ârst-order temporal logic without function symbols and equality. To deÄÅ¹Âne the syntax of  QT L1 , ÄÅ¹Âx one variable x. Then the formulas of QT L1 are  constructed from unary predicates P (x) and P (ai ) (where  ai is a constant) and propositional variables p using the  standard connectives of ÄÅ¹Ârst-order logic (with quantiÄÅ¹Âers  Ã¢ÂˆÂ€x and Ã¢ÂˆÂƒx) and the temporal operators  and U. QT L1 models and the satisfaction relation between formulas and  time points are deÄÅ¹Âned in the obvious way by modifying the  deÄÅ¹Ânition of TDL-Litebool interpretations (however, there is  no unique name assumption in this case); for details we refer the reader to [14], where the following is also shown:  1  Theorem 1. The satisÄÅ¹Âability problem for QT L -formulas  is E XP S PACE-complete.  Now we deÄÅ¹Âne a translation Ã‚Ë‡Ã¢Â€Â  of TDL-Litebool formulas into QT L1 . Let ÄŽÂ• be a TDL-Litebool formula. Denote by role(ÄŽÂ•) the set of both local and global role names  occurring in ÄŽÂ•, by g-role(ÄŽÂ•) the set of global role names  in ÄŽÂ•, and by ob(ÄŽÂ•) the set of object names in ÄŽÂ•. Let  roleÃ‚Ä… (ÄŽÂ•) = {R, RÃ¢ÂˆÂ’ | R Ã¢ÂˆÂˆ role(ÄŽÂ•)} and g-roleÃ‚Ä… (ÄŽÂ•) =  {T, T Ã¢ÂˆÂ’ | T Ã¢ÂˆÂˆ g-role(ÄŽÂ•)}. Denote by qÄŽÂ• the maximum  numerical parameter in ÄŽÂ•.  With every object name ai Ã¢ÂˆÂˆ ob(ÄŽÂ•) we associate the individual constant ai of QT L1 and with every concept name  Ai the unary predicate Ai (x) from the signature of QT L1 .  For each R Ã¢ÂˆÂˆ roleÃ‚Ä… (ÄŽÂ•), we also introduce qÄŽÂ• fresh unary  predicates Eq R(x), for 1 Ã¢Â‰Â¤ q Ã¢Â‰Â¤ qÄŽÂ• . Intuitively, for each  n, E1 R(x) and E1 RÃ¢ÂˆÂ’ (x) represent the domain and range  of R at moment n (i.e., E1 R(x) and E1 RÃ¢ÂˆÂ’ (x) are interpreted by the sets of points with at least one R-successor  and at least one R-predecessor at moment n, respectively),  while Eq R(x) and Eq RÃ¢ÂˆÂ’ (x) represent the sets of points  with at least q distinct R-successors and at least q distinct R-predecessors at moment n. Additionally, for each  pair ai , aj Ã¢ÂˆÂˆ ob(ÄŽÂ•) and each role R Ã¢ÂˆÂˆ roleÃ‚Ä… (ÄŽÂ•), we take  a fresh propositional variable Rai aj of QT L1 to encode  R(ai , aj ).  By induction on the construction of a TDL-Litebool concept C we deÄÅ¹Âne the QT L1 - formula C Ã¢ÂˆÂ— :  Ã¢ÂŠÄ½Ã¢ÂˆÂ—  (A)Ã¢ÂˆÂ—  (Ã‚Å¹C)Ã¢ÂˆÂ—  (C)Ã¢ÂˆÂ—  = Ã¢ÂŠÄ½,  = A(x),  = Ã‚Å¹C Ã¢ÂˆÂ— (x),  = C Ã¢ÂˆÂ— (x),  = Ã¢ÂˆÂ€x (C1Ã¢ÂˆÂ— (x) Ã¢Â†Â’ C2Ã¢ÂˆÂ— (x)),  = C Ã¢ÂˆÂ— (ai ),  (R(ai , aj ))Ã¢ÂˆÂ— = Rai aj ,  = Ã‚Å¹ÄŽÂˆ Ã¢ÂˆÂ— ,  (ÄŽÂˆ1 Ã¢ÂˆÂ§ ÄŽÂˆ2 )Ã¢ÂˆÂ— = ÄŽÂˆ1Ã¢ÂˆÂ— Ã¢ÂˆÂ§ ÄŽÂˆ2Ã¢ÂˆÂ— ,  = ÄŽÂˆ Ã¢ÂˆÂ— ,  (ÄŽÂˆ1 U ÄŽÂˆ2 )Ã¢ÂˆÂ— = ÄŽÂˆ1Ã¢ÂˆÂ— U ÄŽÂˆ2Ã¢ÂˆÂ— ,  where C, C1 , C2 are concepts, R is a role and ai , aj are  object names.  The following formulas express some natural properties  of the role domains and ranges. For every R Ã¢ÂˆÂˆ roleÃ‚Ä… (ÄŽÂ•),  we need two QT L1 -sentences:  ÃŽÄ¾(R) = Ã¢ÂˆÂƒx E1 R(x) Ã¢Â†Â’ Ã¢ÂˆÂƒx inv(E1 R)(x),  qÄŽÂ• Ã¢ÂˆÂ’1  ÃŽÂ´(R) =      Ã¢ÂˆÂ€x Eq+1 R(x) Ã¢Â†Â’ Eq R(x) ,  (2)  q=1  where inv(E1 R) is the predicate E1 RkÃ¢ÂˆÂ’ if R = Rk and  E1 Rk if R = RkÃ¢ÂˆÂ’ . Sentence (1) says that if the domain  of R is not empty then its range is not empty either.  We also need formulas representing the relation of the  Rai aj with the unary predicates for the role domain and  range. For a role R Ã¢ÂˆÂˆ roleÃ‚Ä… (ÄŽÂ•), let    qÄŽÂ•  q  ÄŽÂ‰(R) =  q=1  Raaji Ã¢Â†Â’ Eq R(a) , (3)  i=1  aÃ¢ÂˆÂˆob(ÄŽÂ•)  aj1 ,...,ajq Ã¢ÂˆÂˆob(ÄŽÂ•)  ji =ji for i=i      Rai aj Ã¢Â†Â’ inv(R)aj ai ,  ÃŽÅ¡(R) =  (4)  ai ,aj Ã¢ÂˆÂˆob(ÄŽÂ•)  where inv(R)aj ai is the propositional variable RkÃ¢ÂˆÂ’ aj ai if  R = Rk and Rk aj ai if R = RkÃ¢ÂˆÂ’ .  For every global role T Ã¢ÂˆÂˆ g-roleÃ‚Ä… (ÄŽÂ•) we need two additional sentences:  qÄŽÂ•  ÃŽÅ‚1 (T ) =      Ã¢ÂˆÂ€x Eq T (x) Ã¢Â†Â” Eq T (x) ,  (5)  (T ai aj Ã¢Â†Â” T ai aj ).  (6)  q=1  ÃŽÅ‚2 (T ) =  ai ,aj Ã¢ÂˆÂˆob(ÄŽÂ•)  Finally, we set  ÄŽÂ•Ã¢Â€Â  = ÄŽÂ•Ã¢ÂˆÂ—      2+  F ÃŽÄ¾(R)Ã¢ÂˆÂ§ÃŽÂ´(R)Ã¢ÂˆÂ§ÄŽÂ‰(R)Ã¢ÂˆÂ§ÃŽÅ¡(R)  Ã¢ÂˆÂ§  RÃ¢ÂˆÂˆroleÃ‚Ä… (ÄŽÂ•)  Ã¢ÂˆÂ§  (Ã¢Â‰Ä½ q R)Ã¢ÂˆÂ— = Eq R(x),  (C1  C2 )Ã¢ÂˆÂ— = C1Ã¢ÂˆÂ— (x) Ã¢ÂˆÂ§ C2Ã¢ÂˆÂ— (x),  (C1 U C2 )Ã¢ÂˆÂ— = C1Ã¢ÂˆÂ— (x) U C2Ã¢ÂˆÂ— (x),  (1)      2+  F ÃŽÅ‚1 (T ) Ã¢ÂˆÂ§ ÃŽÅ‚2 (T ) .  T Ã¢ÂˆÂˆg-roleÃ‚Ä… (ÄŽÂ•)  Theorem 2. A TDL-Litebool formula ÄŽÂ• is satisÄÅ¹Âable iff ÄŽÂ•Ã¢Â€  is satisÄÅ¹Âable.  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007  Proof. (Ã¢Â‡Â) Let M be a ÄÅ¹Ârst-order temporal model with a  countable domain D and let (M, 0) |= ÄŽÂ•Ã¢Â€Â  . We denote the  interpretation of unary predicates P and propositional variables p in M at moment n by P M,n and pM,n . The interpretation of constants a in M is denoted by aM . Let      W0 = aM | a Ã¢ÂˆÂˆ ob(ÄŽÂ•) Ã¢ÂŠÂ† D.  Without loss of generality we may assume that all the aM  are distinct.  We are going to construct a TDL-Litebool interpretation  I satisfying ÄŽÂ• that is based on the domain  ÃŽÂ” = W0 Ã¢ÂˆÅž (D Ä‚Â— N).  The interpretations of object names in I are given by their  interpretations in M: aI(n) = aM Ã¢ÂˆÂˆ W0 . The interpretations AI(n) of concept names A in I are deÄÅ¹Âned by taking      (7)  AI(n) = w Ã¢ÂˆÂˆ ÃŽÂ” | (M, n) |= AÃ¢ÂˆÂ— [cp(w)] ,  where the function cp : ÃŽÂ” Ã¢Â†Â’ D is deÄÅ¹Âned as follows:  cp(w) =  w,  d,  if w Ã¢ÂˆÂˆ W0 ,  if w = (d, n) Ã¢ÂˆÂˆ D Ä‚Â— N.  (8)  We will call w a copy of cp(w). Now, for each R Ã¢ÂˆÂˆ role(ÄŽÂ•)  and each n Ã¢ÂˆÂˆ N, we introduce inductively the interpretation  RI(n) . (For global R this can be done for some ÄÅ¹Âxed n, say  0, and then copied for all other n.) RI(n) will be deÄÅ¹Âned as  the union  Ã¢ÂˆÂž    Rn,m ,  RI(n) =  m=0  where, for all m Ã¢Â‰Ä½ 0, Rn,m Ã¢ÂŠÂ† WRn,m Ä‚Â— WRn,m ,  WRn,m Ã¢ÂŠÂ† WRn,m+1 and  Ã¢ÂˆÂž    m=0  WRn,m = ÃŽÂ”.  We start with WRn,0 = W0 . The set WRn,m \ WRn,mÃ¢ÂˆÂ’1 , for  m Ã¢Â‰Ä½ 0, will be denoted by VRn,m ; for convenience, we let  WRn,Ã¢ÂˆÂ’1 = Ã¢ÂˆÂ…, so that VRn,0 = W0 .  First we deÄÅ¹Âne the required R-rank rn (R, d) of d Ã¢ÂˆÂˆ D  at moment n:  Ã¢ÂŽÂ§  0,  if (M, n) |= Ã‚Å¹E1 R[d],  Ã¢ÂŽÅž  Ã¢ÂŽÅž  Ã¢ÂŽÅž  Ã¢ÂŽÂ¨q,  if  (M, n) |= Eq R Ã¢ÂˆÂ§ Ã‚Å¹Eq+1 R[d],  rn (R, d) =  Ã¢ÂŽÅž  for 1 Ã¢Â‰Â¤ q < qÄŽÂ• ,  Ã¢ÂŽÅž  Ã¢ÂŽÅž  Ã¢ÂŽÅ   qÄŽÂ• , if (M, n) |= EqÄŽÂ• R[d].  It follows from (2) that rn (R, d) is a function and that if  d Ã¢ÂˆÂˆ D and rn (R, d) = q then (M, n) |= Eq R[d] whenever  1 Ã¢Â‰Â¤ q  Ã¢Â‰Â¤ q, and (M, n) |= Ã‚Å¹Eq R[d] for q < q  Ã¢Â‰Â¤ qÄŽÂ• .  n  (R, w) of w Ã¢ÂˆÂˆ ÃŽÂ” at  We also deÄÅ¹Âne the actual R-rank rm  moment n and step m by taking  Ã¢ÂŽÂ§  n,m  n,m  Ã¢ÂŽÅž  Ã¢ÂŽÂ¨q, if w Ã¢ÂˆÂˆ Ã¢Â‰Ä½ q R .ÃŽÂ”\Ã¢Â‰Ä½ q + 1 R .ÃŽÂ”,  n  rm (R, w) =  for 0 Ã¢Â‰Â¤ q < qÄŽÂ• ,  Ã¢ÂŽÅž  Ã¢ÂŽÅ   n,m  qÄŽÂ• , if w Ã¢ÂˆÂˆ Ã¢Â‰Ä½ qÄŽÂ• R .ÃŽÂ”,      where Ã¢Â‰Ä½ q S.ÃŽÂ” = x Ã¢ÂˆÂˆ ÃŽÂ” | {y | (x, y) Ã¢ÂˆÂˆ S} Ã¢Â‰Ä½ q , for a  binary relation S.  For the basis of induction we set      M  Rn,0 = (aM  i , aj ) Ã¢ÂˆÂˆ W0 Ä‚Â— W0 | (M, n) |= Rai aj . (9)  By (3) and (4), for both R and RÃ¢ÂˆÂ’ (where RÃ¢ÂˆÂ’Ã¢ÂˆÂ’ = R) and  all w Ã¢ÂˆÂˆ W0 ,  r0n (R, w) Ã¢Â‰Â¤ rn (R, cp(w)).  (10)  Suppose that the WRn,m and Rn,m have already been den  (R, w) = rn (R, cp(w)),  ÄÅ¹Âned for m Ã¢Â‰Ä½ 0. If we had rm  Ã¢ÂˆÂ’  for both R and R and all w Ã¢ÂˆÂˆ WRn,m , then the interpretation Rn,m we need for RI(n) would have been constructed.  However, in general this is not the case because there may  be some Ã¢Â€Â˜defectsÃ¢Â€Â™ in the sense that the actual rank of some  points is smaller than the required rank. Consider the following two sets of defects in Rn,m :      n  ÃŽÂ›n,m  = w Ã¢ÂˆÂˆ VRn,m | rm  (R, w) < rn (R, cp(w)) ,  R      n  w Ã¢ÂˆÂˆ VRn,m | rm  (RÃ¢ÂˆÂ’ , w) < rn (RÃ¢ÂˆÂ’ , cp(w)) .  ÃŽÂ›n,m  RÃ¢ÂˆÂ’ =  The purpose of, say, ÃŽÂ›n,m  is to identify those Ã¢Â€Â˜defectiveÃ¢Â€Â™  R  points w Ã¢ÂˆÂˆ VRn,m from which precisely rn (R, cp(w)) distinct R-arrows should start (according to M), but some arn  (R, w) many arrows exist).  rows are still missing (only rm  To Ã¢Â€Â˜cureÃ¢Â€Â™ these defects, we extend WRn,m to WRn,m+1 and  Rn,m to Rn,m+1 according to the following rules:  n,m  n  n  (ÃŽÂ›n,m  R ) Let w Ã¢ÂˆÂˆ ÃŽÂ›R . Denote q = r (R, d) Ã¢ÂˆÂ’ rm (R, w)  and d = cp(w). Then (M, n) |= Eq R[d] for some  q  Ã¢Â‰Ä½ q > 0. By (2), (M, n) |= E1 R[d] and, by (1),  there is d Ã¢ÂˆÂˆ D such that (M, n) |= E1 RÃ¢ÂˆÂ’ [d ]. In  this case we take q fresh copies w1 , . . . , wq of d ,  i.e., w1 , . . . , wq Ã¢ÂˆÂˆ ({d } Ä‚Â— N) \ WRn,m , add them to  WRn,m+1 and add the pairs (w, wi ), 1 Ã¢Â‰Â¤ i Ã¢Â‰Â¤ q, to  Rn,m+1 .  n,mÃ¢ÂˆÂ’  n  Ã¢ÂˆÂ’  n  Ã¢ÂˆÂ’  (ÃŽÂ›n,m  RÃ¢ÂˆÂ’ ) Let w Ã¢ÂˆÂˆ ÃŽÂ›RÃ¢ÂˆÂ’ . Denote q = r (R , d)Ã¢ÂˆÂ’rm (R , w)  Ã¢ÂˆÂ’  and d = cp(w). Then (M, n) |= Eq R [d] for some  q  Ã¢Â‰Ä½ q > 0. By (2), (M, n) |= E1 RÃ¢ÂˆÂ’ [d] and,  by (1), there is d Ã¢ÂˆÂˆ D with (M, n) |= E1 R[d ].  In this case we take q fresh copies w1 , . . . , wq of d ,  i.e., w1 , . . . , wq Ã¢ÂˆÂˆ ({d } Ä‚Â— N) \ WRn,m , add them to  WRn,m+1 and add the pairs (wi , w), 1 Ã¢Â‰Â¤ i Ã¢Â‰Â¤ q, to  Rn,m+1 .  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007  (ÃŽÅ ) Finally, if all defects for R in WRn,m have already  been cured we take, for every d Ã¢ÂˆÂˆ D, a fresh copy  (d, l) Ã¢ÂˆÂˆ ({d} Ä‚Â— N) \ WRn,m with minimal l and add it  to WRn,m+1 .  It  be clear that the rule (ÃŽÅ ) guarantees that  Ã¢ÂˆÂžshouldn,m  W  = ÃŽÂ”. Now we observe the following imR  m=0  portant property of the construction: for all m0 Ã¢Â‰Ä½ 0 and  w Ã¢ÂˆÂˆ VRn,m0 ,  Ã¢ÂŽÂ§  0, if m < m0 ,  Ã¢ÂŽÅž  Ã¢ÂŽÅž  Ã¢ÂŽÅž  Ã¢ÂŽÂ¨  q, if m = m0 , for some  n  (11)  (R, w) =  rm  Ã¢ÂŽÅž  q Ã¢Â‰Â¤ rn (R, cp(w)),  Ã¢ÂŽÅž  Ã¢ÂŽÅž  Ã¢ÂŽÅ  n  r (R, cp(w)), if m > m0 .  To prove this property, consider all possible cases. If  m < m0 then w has not been added to WRn,m yet, i.e.,  n  (R, w) = 0. If m = m0 and  w Ã¢ÂˆÂˆ  / WRn,m , and so rm  n  m0 = 0 then rm (R, w) Ã¢Â‰Â¤ rn (R, cp(w)) follows from (10).  If m = m0 and m0 > 0 then w was added at step m0  either to cure a defect of some point w Ã¢ÂˆÂˆ WRn,m0 Ã¢ÂˆÂ’1 or  n  (R, w) = 0,  by (ÃŽÅ ). In the latter case we clearly have rm  n  n  and so rm (R, w) Ã¢Â‰Â¤ r (R, cp(w)). In the former case this  n,m0 Ã¢ÂˆÂ’1  or  means that either (w , w) Ã¢ÂˆÂˆ Rn,m0 and w Ã¢ÂˆÂˆ ÃŽÂ›R  n,m0 Ã¢ÂˆÂ’1    n,m0    and w Ã¢ÂˆÂˆ ÃŽÂ›RÃ¢ÂˆÂ’  . In the ÄÅ¹Ârst case  (w, w ) Ã¢ÂˆÂˆ R  (M, n) |= E1 RÃ¢ÂˆÂ’ [cp(w)].  (12)  Since fresh witnesses w are picked up every time the rule  n,m0 Ã¢ÂˆÂ’1  ) is applied and those witnesses satisfy (12),  (ÃŽÂ›R  n  n  (R, w) = 0, rm  (RÃ¢ÂˆÂ’ , w) = 1 and  we obtain rm  0  0  n  Ã¢ÂˆÂ’  r (R , cp(w)) Ã¢Â‰Ä½ 1. The second case is similar. If  m = m0 + 1 then all defects of w are cured at step m0 + 1  0  0  ) and (ÃŽÂ›n,m  by applying the rules (ÃŽÂ›n,m  R  RÃ¢ÂˆÂ’ ). Therefore,  n  n  rm0 +1 (R, w) = r (R, cp(w)). If m > m0 + 1 then (11)  follows from the observation that new arrows involving w  can only be added at step m0 + 1, that is, for all m Ã¢Â‰Ä½ 0,  Rn,m+1 \ Rn,m  n  (R, w) =  w Ã¢ÂˆÂˆ VRn,m0 . Then, by (11), we have q Ã¢Â‰Â¤ rm  n  r (R, cp(w)), for all m > m0 . So, by the deÄÅ¹Ânition of  rn (R, cp(w)) and (2), we have (M, n) |= Eq R[cp(w)].  Now we show by induction on the construction of concepts C in ÄŽÂ• that, for all n Ã¢ÂˆÂˆ N and w Ã¢ÂˆÂˆ ÃŽÂ”,  (M, n) |= C Ã¢ÂˆÂ— [cp(w)]  (M, n) |= ÄŽÂˆ Ã¢ÂˆÂ—  iff  VRn,m+1 Ä‚Â— VRn,m .  (M, n) |= Eq R[cp(w)] iff w Ã¢ÂˆÂˆ Ã¢Â‰Ä½ q RI(n) .ÃŽÂ”.  (16)  The translation ÄŽÂ•Ã¢Â€Â  of ÄŽÂ• is obviously too lengthy to provide us with reasonably low complexity results. However, it  follows from the proof above that in fact a lot of information  in this translation is redundant and can be safely omitted.  We deÄÅ¹Âne now a more concise translation of ÄŽÂ• into QT L1 .  For R Ã¢ÂˆÂˆ roleÃ‚Ä… (ÄŽÂ•), let QR  ÄŽÂ• be the set of natural numbers  containing 1 and all the numerical parameters q for which  Ã¢Â‰Ä½ q R occurs in ÄŽÂ•. Then we set  ÄŽÂ• = ÄŽÂ•Ã¢ÂˆÂ—          2+  F ÃŽÄ¾(R) Ã¢ÂˆÂ§ ÃŽÂ´ (R) Ã¢ÂˆÂ§ ÄŽÂ‰ (R) Ã¢ÂˆÂ§ ÃŽÅ¡(R)  Ã¢ÂˆÂ§  RÃ¢ÂˆÂˆroleÃ‚Ä… (ÄŽÂ•)       2+  F ÃŽÅ‚1 (T ) Ã¢ÂˆÂ§ ÃŽÅ‚2 (T ) ,  T Ã¢ÂˆÂˆg-roleÃ‚Ä… (ÄŽÂ•)  (13)  Finally, recall that if R is global then, by (5) and (6),  the above inductive procedure does not depend on n and  RI(n) = RI(m) , for all n, m Ã¢ÂˆÂˆ N.  It follows that, for all R Ã¢ÂˆÂˆ roleÃ‚Ä… (ÄŽÂ•), 1 Ã¢Â‰Â¤ q Ã¢Â‰Â¤ qÄŽÂ• , n Ã¢ÂˆÂˆ N  and w Ã¢ÂˆÂˆ ÃŽÂ”,  (I, n) |= ÄŽÂˆ.  For ÄŽÂˆ = C1  C2 and ÄŽÂˆ = C(ai ), this follows from (15).  I(n)  For ÄŽÂˆ = Rk (ai , aj ), (aIi , aIj ) Ã¢ÂˆÂˆ Rk  iff, by (13),  (aIi , aIj ) Ã¢ÂˆÂˆ Rkn,0 iff, by (9), (M, n) |= Rk ai aj . The case  ÄŽÂˆ = RkÃ¢ÂˆÂ’ (ai , aj ) is similar. The induction step for the  Booleans (ÄŽÂˆ = Ã‚Å¹ÄŽÂˆ1 and ÄŽÂˆ = ÄŽÂˆ1 Ã¢ÂˆÂ§ ÄŽÂˆ2 ) and the temporal operators (ÄŽÂˆ = ÄŽÂˆ1 and ÄŽÂˆ = ÄŽÂˆ1 U ÄŽÂˆ2 ) follows from the  induction hypothesis.  Thus, we obtain (I, 0) |= ÄŽÂ•. The implication (Ã¢Â‡Â’) is  straightforward.  Ã¢ÂˆÂ§  Ã¢ÂˆÅž  (15)  The basis of induction is trivial for B = Ã¢ÂŠÄ½ and follows  from (7) if B = Ai and (14) if B = Ã¢Â‰Ä½ q R. The induction  step for the Booleans (C = Ã‚Å¹C1 and C = C1  C2 ) and the  temporal operators (C = C1 and C = C1 U C2 ) follows  from the induction hypothesis.  Finally, we show that for each subformula ÄŽÂˆ of ÄŽÂ•,  Ã¢ÂŠÂ†  VRn,m Ä‚Â— VRn,m+1  w Ã¢ÂˆÂˆ C I(n) .  iff  where ÃŽÄ¾(R), ÃŽÅ¡(R) and ÃŽÅ‚2 (T ) are as before (see (1), (4) and  (6), respectively),      ÃŽÂ´  (R) =  Ã¢ÂˆÂ€x Eq R(x) Ã¢Â†Â’ Eq R(x) ,  (17)  (14)  Indeed, if (M, n) |= Eq R[cp(w)] then, by deÄÅ¹Ânition,  rn (R, cp(w)) Ã¢Â‰Ä½ q. Let w Ã¢ÂˆÂˆ VRn,m0 . Then, by (11),  n  (R, w) = rn (R, cp(w)) Ã¢Â‰Ä½ q, for all m > m0 . It  rm  n  (R, w) and RI(n) that  follows from the deÄÅ¹Ânition of rm  I(n)  .ÃŽÂ”. Conversely, let w Ã¢ÂˆÂˆ Ã¢Â‰Ä½ q RI(n) .ÃŽÂ” and  w Ã¢ÂˆÂˆ Ã¢Â‰Ä½ qR  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007    q,q  Ã¢ÂˆÂˆQR  ÄŽÂ• , q >q    q >q >q for no q  Ã¢ÂˆÂˆQR  ÄŽÂ•      ÄŽÂ‰  (R) =  qÃ¢ÂˆÂˆQR  ÄŽÂ•  q  Raaji Ã¢Â†Â’ Eq R(a) , (18)  aÃ¢ÂˆÂˆob(ÄŽÂ•) i=1  aj1 ,...,ajq Ã¢ÂˆÂˆob(ÄŽÂ•)  ji =ji for i=i      Ã¢ÂˆÂ€x Eq T (x) Ã¢Â†Â” Eq T (x) .  ÃŽÅ‚1 (T ) =  qÃ¢ÂˆÂˆQT  ÄŽÂ•  (19)  Corollary 3. A TDL-Litebool formula ÄŽÂ• is satisÄÅ¹Âable iff the  QT L1 -sentence ÄŽÂ• is satisÄÅ¹Âable.  Proof. Follows from the fact that ÄŽÂ•Ã¢Â€Â  is satisÄÅ¹Âable iff ÄŽÂ• is  satisÄÅ¹Âable. Indeed, if (M, 0) |= ÄŽÂ•Ã¢Â€Â  then (M, 0) |= ÄŽÂ• .  Conversely, if (M, 0) |= ÄŽÂ• then one can construct a new  model M based on the same domain D as M by taking    Ã¢Â€Ë˜ AM ,n = AM,n , for all concept names A and n Ã¢ÂˆÂˆ N;    Ã¢Â€Ë˜ Eq RM ,n = Eq RM,n , for R Ã¢ÂˆÂˆ roleÃ‚Ä… (ÄŽÂ•), 1 Ã¢Â‰Â¤ q Ã¢Â‰Â¤ qÄŽÂ•  and n Ã¢ÂˆÂˆ N, where q  is the maximum number from QR  ÄŽÂ•  with q  Ã¢Â‰Â¤ q;  Ã¢Â€Ë˜ Rai aj to be true in M at n iff (M, n) |= Rai aj , for  all R Ã¢ÂˆÂˆ roleÃ‚Ä… (ÄŽÂ•), all ai , aj Ã¢ÂˆÂˆ ob(ÄŽÂ•) and all n Ã¢ÂˆÂˆ N;    Ã¢Â€Ë˜ aM = aM , for all a Ã¢ÂˆÂˆ ob(ÄŽÂ•).  It follows immediately from the deÄÅ¹Ânition that we have  (M , 0) |= ÄŽÂ•Ã¢Â€Â  . (For example, (M , 0) |= ÄŽÂ•Ã¢ÂˆÂ— follows from  the fact that for every concept (Ã¢Â‰Ä½ q R) from ÄŽÂ• we have    Eq RM ,n = Eq RM,n , for all n Ã¢ÂˆÂˆ N.)  This observation makes it possible to prove the following  result:  Theorem 4. The satisÄÅ¹Âability problem for TDL-Litebool is  E XP S PACE-complete.  Proof. As we know, satisÄÅ¹Âability for QT L1 is E XP S PACEcomplete. However, we cannot use this result directly because the size of ÄŽÂ• is exponential in the number of object names (in fact, double exponential, if qÄŽÂ• is given in  binary): |ÄŽÂ• | Ã¢Â‰Â¤ const Ã‚Ë‡ |ÄŽÂ•| + |ob(ÄŽÂ•)|qÄŽÂ• +1 . Instead, we use  the E XP S PACE algorithm presented in [14, Theorem 11.30]  (see also [16]) which, given a QT L1 -sentence ÄŽÂˆ, decides  whether ÄŽÂˆ is satisÄÅ¹Âable or not by guessing an ultimately periodical quasimodel such that the lengths of its preÄÅ¹Âx and  its period are bounded by some numbers l1 and l2 , respectively. In general, both l1 and l2 are double exponential in  the length |ÄŽÂˆ| of ÄŽÂˆ. Hence, the algorithm requires single  exponential space to write down the two numbers. The algorithm also requires exponential space to store at most 3  state candidates. Clearly, every realisable state candidate C  for ÄŽÂ• is uniquely determined by the following parameters:  Ã¢Â€Ë˜ the set of propositional variables and the set of closed  subformulas of the form Ã¢ÂˆÂ€x ÄŽÂ‡(x) that belong to the  types of C;  by p1 (|ÄŽÂ•|), where p1 is a polynomial. Next, for each type  for ÄŽÂ• , the number of open subformulas that belong to this  type is bounded by |ÄŽÂ•|, and the number of types in every  state candidate is bounded by 2|ÄŽÂ•| . Therefore, the Ã¢Â€Â˜typeÃ¢Â€Â™  part of a state candidate can be stored in space bounded by  2|ÄŽÂ•| Ã‚Ë‡ |ÄŽÂ•|, and so the overall space required to store a state  candidate for ÄŽÂ• is bounded by 2p2 (|ÄŽÂ•|) , for some polynomial p2 . Now, [14, Theorem 11.26] provides more precise  upper bounds on l1 and l2 :  l1 Ã¢Â‰Â¤ (ÄŽÂ• ) and l2 Ã¢Â‰Â¤ kÄŽÂ• Ã‚Ë‡ (ÄŽÂ• ) Ã‚Ë‡  (ÄŽÂ• ) + (ÄŽÂ• ),  where (ÄŽÂ• ) is the number of distinct state candidates, (ÄŽÂ• )  the number of distinct types, and kÄŽÂ• the number of Ã¢Â€Â˜eventualities,Ã¢Â€Â™ i.e., subformulas of ÄŽÂ• of the form ÄŽÂ‡1 U ÄŽÂ‡2 . It  p2 (|ÄŽÂ•|)  follows from the above argument that (ÄŽÂ• ) Ã¢Â‰Â¤ 22  and  (ÄŽÂ• ) Ã¢Â‰Â¤ 2p1 (|ÄŽÂ•|) Ã‚Ë‡ 2|ÄŽÂ•| (every type for ÄŽÂ• is uniquely determined by its Ã¢Â€Â˜propositionalÃ¢Â€Â™ part and the subset of open  subformulas that belong to it). Finally, the number kÄŽÂ• of  Ã¢Â€Â˜eventualitiesÃ¢Â€Â™ is bounded by |ÄŽÂ•|+2Ã‚Ë‡|roleÃ‚Ä… (ÄŽÂ•)|. This shows  that although the length of ÄŽÂ• is (double) exponential in |ÄŽÂ•|,  the numbers l1 and l2 are only double exponential in |ÄŽÂ•|  (not triple exponential as one would expect). Therefore, the  algorithm of [14, Theorem 11.30] runs in E XP S PACE.  The E XP S PACE lower bound follows from the fact that  there is a satisÄÅ¹Âability preserving polynomial translation  from QT L1 to TDL-Litebool . First, by introducing new  unary predicates one can transform, in a satisÄÅ¹Âability preserving way, each QT L1 -formula into a QT L1 -sentence  containing neither Ã¢ÂˆÂƒx nor nested Ã¢ÂˆÂ€x. Such a sentence ÄŽÂ• can  be translated into TDL-Litebool by ÄÅ¹Ârst associating with every unary predicate P (x) a concept name (P (x))Ã¢Â€Ä„ = AP .  For every subformula ÄŽÂˆ of ÄŽÂ• with free x, we obtain a concept ÄŽÂˆ Ã¢Â€Ä„ by distributing the translation Ã‚Ë‡Ã¢Â€Ä„ over the connectives , U, Ã‚Å¹ and Ã¢ÂˆÂ§, e.g., (ÄŽÂˆ1 Ã¢ÂˆÂ§ ÄŽÂˆ2 )Ã¢Â€Ä„ = ÄŽÂˆ1Ã¢Â€Ä„  ÄŽÂˆ2Ã¢Â€Ä„ . For each  subformula of the form Ã¢ÂˆÂ€x ÄŽÂˆ, set (Ã¢ÂˆÂ€x ÄŽÂˆ)Ã¢Â€Ä„ = (  ÄŽÂˆ Ã¢Â€Ä„ ).  Now, for QT L1 -sentences, the translation Ã‚Ë‡Ã¢Â€Ä„ again distributes over the connectives , U, Ã‚Å¹ and Ã¢ÂˆÂ§. It is easily  seen that ÄŽÂ• is satisÄÅ¹Âable iff ÄŽÂ•Ã¢Â€Ä„ is satisÄÅ¹Âable.  The same lower bound follows also from Theorem 10  below.  5. TDL-Litekrom is PS PACE-complete  Consider now the Krom fragment TDL-Litekrom of  TDL-Litebool with atomic formulas of the form  D1  D2 ,  Ã¢Â€Ë˜ for every type in C, the set of all open subformulas that  belong to this type.  It is easy to compute that ÄŽÂ• contains |roleÃ‚Ä… (ÄŽÂ•)| Ã‚Ë‡ |ob(ÄŽÂ•)|2  propositional variables and |ÄŽÂ•|+3Ã‚Ë‡|roleÃ‚Ä… (ÄŽÂ•)| closed subformulas of the form Ã¢ÂˆÂ€x ÄŽÂ‡(x). Therefore, the Ã¢Â€Â˜propositionalÃ¢Â€Â™  part of a state candidate can be stored in space bounded  2  Ã‚Å¹D1  D2 ,  D1  Ã‚Å¹D2 ,  R(ai , aj ),  D(ai ),  where concepts D1 , D2 are formed from basic concepts B  by means of  only:  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007  D  ::=  B  |  D.  (20)  We can still apply all temporal operators and the Booleans  to formulas. (Note that spatio-temporal logics of a similar  kind were considered in [15] and [9]. Note also that satisÄÅ¹Âability for the underlying DL DL-Litekrom is NL OG S PACEcomplete [2].)  It is readily seen that the Ã‚Ë‡ -translations of TDL-Litekrom  formulas can be transformed in a satisÄÅ¹Âability preserving  way (by introducing abbreviations for nested  operators)  to formulas of the following fragment QT L1krom of QT L1 :  Q(x)  L(x)  ÄŽÂ•  ::= Pi (x) | Ã‚Å¹Pi (x),  ::= Q(x) | Q(x),      | L(aj ) |  ::= Ã¢ÂˆÂ€x L1 (x) Ã¢ÂˆÂ¨ L2 (x)  Ã‚Å¹ÄŽÂ• | ÄŽÂ•1 Ã¢ÂˆÂ§ ÄŽÂ•2 | ÄŽÂ• | ÄŽÂ•1 U ÄŽÂ•2 ,  where the Pi are unary predicate symbols and the aj are  constants. Predicates Pi (x) and their negations Ã‚Å¹Pi (x) will  be called literals; literals Q(x) and -preÄÅ¹Âxed literals will  be called temporal literals.  In this section we establish (using the quasimodel technique from [14]) a PS PACE upper bound for satisÄÅ¹Âability of  QT L1krom formulas from which we obtain the following result (using Lemma 8 and an argument similar to the proof  of Theorem 4):  Theorem 5. The satisÄÅ¹Âability problem for TDL-Litekrom  formulas is PS PACE-complete.  We denote by Ã‚Å¹L(x)  Ã‹Â™  the formula equivalent to Ã‚Å¹L(x)  in the above restricted syntax, e.g., Ã‚Å¹Ã‹Â™ Pi (x) is Ã‚Å¹Pi (x)  and Ã‚Å¹Ã‹Â™ Ã‚Å¹Pi (x) is Pi (x). For every formula of the form  Q(x), we reserve a unary predicate Q (x) called the surrogate of Q(x). Note that we introduce surrogates only  for temporal literals (unlike Ã¢Â€Â˜standardÃ¢Â€Â™ quasimodels, here  we do not need to explicitly introduce surrogates for other  temporal subformulas). Given a formula ÄŽÂˆ, denote by ÄŽÂˆ the  result of replacing all subformulas of ÄŽÂˆ of the form Q(x)  by their surrogates.  For a QT L1krom sentence ÄŽÂ•, let cl ÄŽÂ• be the union of  sub0 ÄŽÂ•, ÃŽÅÄŽÂ• and the ÃŽÂžaÄŽÂ• , for a Ã¢ÂˆÂˆ con ÄŽÂ•, where sub0 ÄŽÂ• is the  set of closed subformulas of ÄŽÂ•, con ÄŽÂ• the set of all constants  in ÄŽÂ•, and    ÃŽÂ›ÄŽÂ• = Pi (x), Ã‚Å¹Pi (x), Pi (x), Ã‚Å¹Pi (x) |    Pi (x) a predicate in ÄŽÂ• ,      ÃŽÅÄŽÂ• = Ã¢ÂˆÂ€x (L1 (x) Ã¢ÂˆÂ¨ L2 (x)) | L1 (x), L2 (x) Ã¢ÂˆÂˆ ÃŽÂ›ÄŽÂ• ,      ÃŽÂžaÄŽÂ• = L(a) | L(x) Ã¢ÂˆÂˆ ÃŽÂ›ÄŽÂ• , for a Ã¢ÂˆÂˆ con ÄŽÂ•.  A state candidate C for ÄŽÂ• is any subset of cl ÄŽÂ• satisfying the  properties    (qs0K ) ÄŽÂ‡C = ÄŽÂˆÃ¢ÂˆÂˆCÃ¢ÂˆÅ ÃŽÅÄŽÂ• ÄŽÂˆ is satisÄÅ¹Âable;  (qs1K ) for every ÄŽÂˆ Ã¢ÂˆÂˆ ÃŽÅÄŽÂ• ,  if ÄŽÂ‡C |= ÄŽÂˆ then ÄŽÂˆ Ã¢ÂˆÂˆ C;  (qs0c ) for every L(a) Ã¢ÂˆÂˆ ÃŽÂžaÄŽÂ• ,  Ã‚Å¹L(a)  Ã‹Â™  Ã¢ÂˆÂˆ C iff L(a) Ã¢ÂˆÂˆ  / C;  (qs1c )  for every L1 (a), L2 (a) Ã¢ÂˆÂˆ ÃŽÂžaÄŽÂ• ,  Ã‹Â™ 1 (x) Ã¢ÂˆÂ¨ Ã‚Å¹L  Ã‹Â™ 2 (x)) Ã¢ÂˆÂˆ C;  if L1 (a), L2 (a) Ã¢ÂˆÂˆ C then Ã¢ÂˆÂ€x (Ã‚Å¹L  (qsÃ‚Å¹ ) for every Ã‚Å¹ÄŽÂˆ Ã¢ÂˆÂˆ sub0 ÄŽÂ•,  Ã‚Å¹ÄŽÂˆ Ã¢ÂˆÂˆ C iff ÄŽÂˆ Ã¢ÂˆÂˆ  / C;  Ã¢ÂˆÂ§  (qs ) for every ÄŽÂˆ1 Ã¢ÂˆÂ§ ÄŽÂˆ2 Ã¢ÂˆÂˆ sub0 ÄŽÂ•,  ÄŽÂˆ1 Ã¢ÂˆÂ§ ÄŽÂˆ2 Ã¢ÂˆÂˆ C iff ÄŽÂˆ1 , ÄŽÂˆ2 Ã¢ÂˆÂˆ C.  Let q be a map associating with every w Ã¢ÂˆÂˆ N a state  candidate q(w) for ÄŽÂ•. We call q a quasimodel for ÄŽÂ• if the  following conditions hold:  (qm0 ) ÄŽÂ• Ã¢ÂˆÂˆ q(w0 ), for some w0 Ã¢Â‰Ä½ 0;  (qm1 ) for every Ã¢ÂˆÂ€x (Q1 (x) Ã¢ÂˆÂ¨ Q2 (x)) Ã¢ÂˆÂˆ ÃŽÅÄŽÂ• ,  Ã¢ÂˆÂ€x (Q1 (x) Ã¢ÂˆÂ¨ Q2 (x)) Ã¢ÂˆÂˆ q(w)  iff Ã¢ÂˆÂ€x (Q1 (x) Ã¢ÂˆÂ¨ Q2 (x)) Ã¢ÂˆÂˆ q(w + 1);  (qm2 ) for every Q(a) Ã¢ÂˆÂˆ ÃŽÂžaÄŽÂ• ,  Q(a) Ã¢ÂˆÂˆ q(w) iff Q(a) Ã¢ÂˆÂˆ q(w + 1);  (qm3 ) for every ÄŽÂˆ Ã¢ÂˆÂˆ sub0 ÄŽÂ•,  ÄŽÂˆ Ã¢ÂˆÂˆ q(w) iff ÄŽÂˆ Ã¢ÂˆÂˆ q(w + 1);  (qm4 ) for every ÄŽÂˆ1 U ÄŽÂˆ2 Ã¢ÂˆÂˆ sub0 ÄŽÂ•, ÄŽÂˆ1 U ÄŽÂˆ2 Ã¢ÂˆÂˆ q(w)  iff there is k > 0 such that ÄŽÂˆ2 Ã¢ÂˆÂˆ q(w + k) and  ÄŽÂˆ1 Ã¢ÂˆÂˆ q(w + n), for all 0 < n < k.  Lemma 6. A QT L1krom sentence ÄŽÂ• is satisÄÅ¹Âable iff there is  a quasimodel for ÄŽÂ•.  Proof. Suppose (M, w0 ) |= ÄŽÂ•. Then      q(w) = ÄŽÂˆ Ã¢ÂˆÂˆ cl ÄŽÂ• | (M, w) |= ÄŽÂˆ  deÄÅ¹Ânes a quasimodel for ÄŽÂ•. Conversely, suppose that q is a  quasimodel for ÄŽÂ•.  Claim 7. If {L1 (x), . . . , Lk (x)} Ã¢ÂŠÂ† ÃŽÂ›ÄŽÂ• and C is a state  candidate for ÄŽÂ•, then      (21)  ÄŽÂ‡C Ã¢ÂˆÂ§ Ã¢ÂˆÂƒx L1 (x) Ã¢ÂˆÂ§ Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡ Ã¢ÂˆÂ§ Lk (x)  is satisÄÅ¹Âable iff there are no 1 Ã¢Â‰Â¤ i, j Ã¢Â‰Â¤ k such that  Ã‹Â™ j (x)) Ã¢ÂˆÂˆ C.  Ã¢ÂˆÂ€x (Ã‚Å¹L  Ã‹Â™ i (x) Ã¢ÂˆÂ¨ Ã‚Å¹L  Proof of claim. As formula (21) is a conjunction of the  form Ã¢ÂˆÂ€x ÄŽÂ‡1 (x) Ã¢ÂˆÂ§ Ã¢ÂˆÂƒx ÄŽÂ‡2 (x), it is satisÄÅ¹Âable iff the formula  ÄŽÂ‡1 [a] Ã¢ÂˆÂ§ ÄŽÂ‡2 [a] is satisÄÅ¹Âable, where a is a constant symbol.  Now, if ÄŽÂ‡1 [a] Ã¢ÂˆÂ§ ÄŽÂ‡2 [a] is satisÄÅ¹Âable then there are no i, j  Ã‹Â™ j (x)) Ã¢ÂˆÂˆ C. Conversely, suppose  such that Ã¢ÂˆÂ€x (Ã‚Å¹L  Ã‹Â™ i (x) Ã¢ÂˆÂ¨ Ã‚Å¹L  that there are no such i, j, but ÄŽÂ‡1 [a] Ã¢ÂˆÂ§ ÄŽÂ‡2 [a] is not satisÄÅ¹Âable. Then ÄŽÂ‡1 [a] |= Ã‚Å¹ÄŽÂ‡2 [a]. By (qs0K ), ÄŽÂ‡1 [a] is satisÄÅ¹Âable.  Moreover as it is a 2-CNF,  ÄŽÂ‡1 [a] |= Ã‚Å¹L1 [a] Ã¢ÂˆÂ¨ Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡ Ã¢ÂˆÂ¨ Ã‚Å¹Lk [a]  implies that there are i, j with ÄŽÂ‡1 [a] |= Ã‚Å¹Li [a] Ã¢ÂˆÂ¨ Ã‚Å¹Lj [a].  It follows from (qs1K ) that Ã‚Å¹Li [a] Ã¢ÂˆÂ¨ Ã‚Å¹Lj [a] is a conjunct of  ÄŽÂ‡1 [a], contrary to our assumption.  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007  Say that t Ã¢ÂŠÂ† ÃŽÂ›ÄŽÂ• is a type for a state candidate C if  Ã¢Â€Ë˜ L(x) Ã¢ÂˆÂˆ t iff Ã‚Å¹L(x)  Ã‹Â™  Ã¢ÂˆÂˆ  / t, for every L(x) Ã¢ÂˆÂˆ ÃŽÂ›ÄŽÂ• ;  Ã¢Â€Ë˜ if L1 (x), L2 (x) Ã¢ÂˆÂˆ t then Ã¢ÂˆÂ€x (Ã‚Å¹L  Ã‹Â™ 1 (x) Ã¢ÂˆÂ¨ Ã‚Å¹L  Ã‹Â™ 2 (x)) Ã¢ÂˆÂˆ C,  for every L1 (x), L2 (x) Ã¢ÂˆÂˆ ÃŽÂ›ÄŽÂ• .    By Claim 7, if t is a type for C then ÄŽÂ‡C Ã¢ÂˆÂ§Ã¢ÂˆÂƒx t is satisÄÅ¹Âable.  Denote by Tw the set of all types for q(w). A pair of types  (t, t ) is called suitable if Q(x) Ã¢ÂˆÂˆ t iff Q(x) Ã¢ÂˆÂˆ t . Then  the following two properties hold:  (succ) for each t Ã¢ÂˆÂˆ Tw there is t Ã¢ÂˆÂˆ Tw+1 such that (t, t )  is a suitable pair;  (pred) for each t Ã¢ÂˆÂˆ Tw+1 there is t Ã¢ÂˆÂˆ Tw such that (t, t )  is a suitable pair.  To show (succ), suppose that t Ã¢ÂˆÂˆ Tw , but there is no  t Ã¢ÂˆÂˆ Tw+1 such that (t, t ) is a suitable pair. Let  Q1 (x), . . . , Qk (x) be all temporal literals of the form  Q(x) in t. Then      ÄŽÂ‡q(w+1) Ã¢ÂˆÂ§ Ã¢ÂˆÂƒx Q1 (x) Ã¢ÂˆÂ§ Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡ Ã¢ÂˆÂ§ Qk (x)  is not satisÄÅ¹Âable. By Claim 7, there are i, j such that  Ã¢ÂˆÂ€x (Ã‚Å¹Q  Ã‹Â™ i (x) Ã¢ÂˆÂ¨ Ã‚Å¹Q  Ã‹Â™ j (x)) Ã¢ÂˆÂˆ q(w + 1). Then, by (qm1 ),  7,  Ã¢ÂˆÂ€x (Ã‚Å¹Ã‹Â™ Qi (x) Ã¢ÂˆÂ¨ Ã‚Å¹Ã‹Â™ Qj (x))   Ã¢ÂˆÂˆ q(w), and so, by Claim    the formula ÄŽÂ‡q(w) Ã¢ÂˆÂ§ Ã¢ÂˆÂƒx Q1 (x) Ã¢ÂˆÂ§ Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡ Ã¢ÂˆÂ§ Qk (x) is not  satisÄÅ¹Âable, contrary to our assumption. Property (pred) is  proved analogously.  Now we deÄÅ¹Âne a set R of Ã¢Â€Â˜runsÃ¢Â€Â™ through q by taking all    r Ã¢ÂˆÂˆ wÃ¢ÂˆÂˆN Tw  such that (r(w), r(w + 1)) is a suitable pair for every w. By  (succ) and (pred), for every w and every type t Ã¢ÂˆÂˆ Tw there  is r Ã¢ÂˆÂˆ R such that r(w) = t.  For a Ã¢ÂˆÂˆ con ÄŽÂ• and w Ã¢ÂˆÂˆ N, let      tw  a = L(x) Ã¢ÂˆÂˆ ÃŽÂ›ÄŽÂ• | L(a) Ã¢ÂˆÂˆ q(w) .  It follows from (qs0c ) and (qs1c ) that the tw  a are types. Morew+1  ) is a suitable pair for every w.  over, by (qm2 ), (tw  a , ta  , for every w.  Thus, there is ra Ã¢ÂˆÂˆ R with ra (w) = tw   a    M,w  Consider the model M = R, aM  ,... ,  0 , . . . , P0      M,w  = r Ã¢ÂˆÂˆ R | Pi Ã¢ÂˆÂˆ r(w) .  where aM  j = raj and Pi  It is readily checked that (M, w0 ) |= ÄŽÂ•.  Lemma 8. A QT L1krom -sentence ÄŽÂ• is satisÄÅ¹Âable iff there  is an ultimately periodical quasimodel q for ÄŽÂ• such that  q(l1 + w) = q(l1 + l2 + w), for every w Ã¢ÂˆÂˆ N and some  l1 , l2 with l1 Ã¢Â‰Â¤ (ÄŽÂ•) and l2 Ã¢Â‰Â¤ kÄŽÂ• Ã‚Ë‡ (ÄŽÂ•) + (ÄŽÂ•), where (ÄŽÂ•)  is the number of distinct state candidates for ÄŽÂ• and kÄŽÂ• the  number of eventualities in ÄŽÂ•.  Theorem 9. The satisÄÅ¹Âability problem for QT L1krom is  PS PACE-complete.  Proof. The upper bound follows from Lemma 8 using an  algorithm that ÄÅ¹Ârst guesses l1 and l2 and then tries to construct an ultimately periodical quasimodel (see [14, Theorem 11.30]). The lower bound follows from PS PACEhardness of LT L (which is a fragment of QT L1krom ).  6. TDL-Litehorn is E XP S PACE-complete  Consider the Horn fragment TDL-Litehorn  TDL-Litebool whose atomic formulas are of the form  D1  Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡  Dk  D,  D(ai ),  of  R(ai , aj ),  where D, D1 , . . . , Dk are formed from basic concepts B by  means of  only as in (20). Again we can apply all temporal operators and the Booleans to formulas. (Note that satisÄÅ¹Âability for the underlying DL DL-Litehorn is P-complete  [2].)  Theorem 10. The satisÄÅ¹Âability problem for TDL-Litehorn  is E XP S PACE-complete.  Proof. The upper bound follows from Theorem 4. The  lower one is proved by reduction of the N Ä‚Â— 2n corridor  tiling problem that is known to be E XP S PACE-complete  (for details see, e.g., [19, 16]): given an instance (T, ÄŽÂ„0 , n),  where T is a ÄÅ¹Ânite set of tile types, ÄŽÂ„0 Ã¢ÂˆÂˆ T is a tile type, and  n Ã¢ÂˆÂˆ N is given in unary, decide whether T tiles the N Ä‚Â— 2n corridor {(x, y) | x Ã¢ÂˆÂˆ N, 0 Ã¢Â‰Â¤ y < 2n } in such a way that  ÄŽÂ„0 is placed at (0, 0) and the top and bottom sides of the  corridor are of some ÄÅ¹Âxed colour, say, white. We construct  a TDL-Litehorn formula ÄŽÂ•T,ÄŽÂ„0 ,n such that (i) its length is  polynomial in |T | and n, and (ii) T tiles the N Ä‚Â— 2n corridor  (with ÄŽÂ„0 on (0, 0) and with white top and bottom sides) iff  ÄŽÂ•T,ÄŽÂ„0 ,n is satisÄÅ¹Âable.  The formula ÄŽÂ•T,ÄŽÂ„0 ,n will be constructed in a number of  steps. To explain the meaning of its subformulas, let us ÄÅ¹Âx  some interpretation I with some domain ÃŽÂ”.  Let SÄŽÂ„ , for ÄŽÂ„ Ã¢ÂˆÂˆ T , be role names and suppose that the  following formula holds in I at 0:          2+  2+   Ã¢ÂˆÂƒSÄŽÂ„ Ã¢ÂˆÂ§  F  F Ã¢ÂˆÂƒSÄŽÂ„  Ã¢ÂˆÂƒSÄŽÂ„   Ã¢ÂŠÄ½ . (22)  ÄŽÂ„ =ÄŽÂ„   ÄŽÂ„ Ã¢ÂˆÂˆT  Then there is a uniquely determined sequence ÄŽÂ„0 , ÄŽÂ„1 , . . . of  I(m)  tile types such that Ã¢ÂˆÂƒSÄŽÂ„m = ÃŽÂ” and (Ã¢ÂˆÂƒSÄŽÂ„Ã¢ÂˆÂ’m )I(m) = Ã¢ÂˆÂ…, for  every m Ã¢ÂˆÂˆ N; see Fig. 1.  Suppose also that the following formulas hold in I at 0:  n     Ã¢ÂˆÂ’  2+    Qj  N ,  (23)  Ã¢ÂˆÂƒS  ÄŽÂ„  F  Proof. Similar to the proof of [14, Theorem 11.26].  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007  ÄŽÂ„ Ã¢ÂˆÂˆT  ÄŽÂ„ Ã¢ÂˆÂˆT  j=1     Ã¢ÂˆÂ’  2+  F Ã¢ÂˆÂƒSÄŽÂ„  N  Ã¢ÂŠÄ½ ,  (24)      N .  2+  F N   (25)  .  ÄŽÂ„0 ÄŽÂ„1 ÄŽÂ„2 ÄŽÂ„3 ÄŽÂ„4 ÄŽÂ„5 ÄŽÂ„6 ÄŽÂ„7 ÄŽÂ„8 ÄŽÂ„9 ÄŽÂ„10 ÄŽÂ„11 ÄŽÂ„12 ...  no Ã¢ÂˆÂƒSÄŽÂ„Ã¢ÂˆÂ’ , for all ÄŽÂ„  d11  N and no Ã¢ÂˆÂƒSÄŽÂ„Ã¢ÂˆÂ’ , for all ÄŽÂ„  d10  d9  WÄŽÂ„i  d8  Ã¢ÂˆÂƒSÄŽÂ„Ã¢ÂˆÂ’i  d7  d6  Qj , for some 1 Ã¢Â‰Â¤ j Ã¢Â‰Â¤ n  d5  n  d4  j=1  Qj  d3  d2  d1  d0  . 0  1  2  3  4  5  6  7  8  9      10 11 12 ...   N Ä‚Â— 22 corridor  Figure 1. A model I satisfying ÄŽÂ•T,ÄŽÂ„0 ,2 .  (Formulas of the form D1  Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡  Dk  D1  Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡  Dj  are just syntactic sugar.) It follows that at every moment of  time m one can select a point dm Ã¢ÂˆÂˆ (Ã¢ÂˆÂƒSÄŽÂ„Ã¢ÂˆÂ’m )I(m) such that  dm Ã¢ÂˆÂˆ N I(m+1) and dm Ã¢ÂˆÂˆ (Qn Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡Q1 )I(m) . The former  implies, by (24) and (25), that the dm are all distinct, and  the latter will be used to encode a 2n counter on dm .  The formulas encoding the 2n counter on elements of  the domain are more or less standard (taking into account  that Qi stands for the i-th bit being 0 and Qi for the i-th bit  being 1):      2+  F Qi  Qi  Ã¢ÂŠÄ½ ,  1Ã¢Â‰Â¤iÃ¢Â‰Â¤n  However, on every dm , the counter is initialised at moment  m and, therefore, is deÄÅ¹Âned correctly on it.  Let B and the WÄŽÂ„ , for ÄŽÂ„ Ã¢ÂˆÂˆ T , be concept names. Then  the following formulas ensure correctness of tiling:  (  (Ã¢ÂˆÂƒSÄŽÂ„Ã¢ÂˆÂ’0  ÄŽÂ„ Ã¢ÂˆÂˆT  down(ÄŽÂ„ )=white  ÄŽÂ„,ÄŽÂ„  Ã¢ÂˆÂˆT  up(ÄŽÂ„ )=down(ÄŽÂ„  )        Qi  2+  F Qi  Qj  QjÃ¢ÂˆÂ’1  Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡  Q1       1Ã¢Â‰Â¤j<iÃ¢Â‰Â¤n  Qi ,  Ã¢ÂˆÂ§ 2+  F Qi  Qj  QjÃ¢ÂˆÂ’1  Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡  Q1        Qj  2+  F Qj  QjÃ¢ÂˆÂ’1  Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡  Q1       1Ã¢Â‰Â¤jÃ¢Â‰Â¤n      Q    Ã‚Ë‡  Ã‚Ë‡  Ã‚Ë‡    Q    Q  Q  Ã¢ÂˆÂ§ 2+  j  jÃ¢ÂˆÂ’1  1  j .  F  ÄŽÂ„,ÄŽÂ„  Ã¢ÂˆÂˆT  right(ÄŽÂ„ )=left(ÄŽÂ„  )  ÄŽÂ„ Ã¢ÂˆÂˆT  n  It follows, in particular, that if the counter is Ã¢Â€Â˜initialisedÃ¢Â€Â™ on  some d, i.e., d Ã¢ÂˆÂˆ (Qn  Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡  Q1 )I(k) , for some k Ã¢ÂˆÂˆ N, then  Ã¢Â€Ë˜ d Ã¢ÂˆÂˆ (Qn  Ã‚Ë‡ Ã‚Ë‡ Ã‚Ë‡  Q1 )I(j) iff j Ã¢Â‰Ä„ k (mod 2n );  Ã¢Â€Ë˜ there is 1 Ã¢Â‰Â¤ i Ã¢Â‰Â¤ n such that d Ã¢ÂˆÂˆ  (mod 2n ).  I(k)  I(k)  I(j)  Qi  iff j Ã¢Â‰Ä„ k  Note also that if d Ã¢ÂˆÂˆ  / Qi  Ã¢ÂˆÅž Qi , for some 1 Ã¢Â‰Â¤ i Ã¢Â‰Â¤ n  and k Ã¢ÂˆÂˆ N, then the counter may not behave properly on d.   Ã¢ÂˆÂƒSÄŽÂ„0 ),  ÄŽÂ„ Ã¢ÂˆÂˆT i=1  2+  F (B  (26)   B) Ã¢ÂˆÂ§  n    2+  F (B  j=1    B),  Qj  Ã¢ÂˆÂƒSÄŽÂ„  Ã¢ÂŠÄ½),  (27)  (28)        2+  F Ã¢ÂˆÂƒSÄŽÂ„  Ã¢ÂˆÂƒSÄŽÂ„   Ã¢ÂŠÄ½ ,  (29)   Ã¢ÂˆÂ’    WÄŽÂ„  ,  2+  F Ã¢ÂˆÂƒSÄŽÂ„   (30)  n    2+  F WÄŽÂ„   j=1    Qj  Ã¢ÂˆÂƒSÄŽÂ„  Ã¢ÂŠÄ½ , (31)      WÄŽÂ„ .  2+  F WÄŽÂ„  Qi   (32)  Indeed, (26) ensures that ÄŽÂ„0 is placed at (0, 0) and (27) that  d0 Ã¢ÂˆÂˆ B I(k) , for all k Ã¢ÂˆÂˆ N. It follows that we have a Ã¢Â€Â˜master counterÃ¢Â€Â™ (distinguished by the concept B), which is initialised on d0 at 0 and has value 0 at every moment of time,  when a tile for the bottom row is being selected. Then (28)  guarantees that the bottom of the corridor is coloured white.  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007  By (29), the adjacent colours of tiles in the same column  match. It also follows from (29) that the top of the corridor  is also white: the up-colour of a tile in the top row matches  the down-colour of the tile at the bottom of the next column,  which is white by (28). To make the colours of adjacent tiles  in the same row match (such tiles are 2n moments of time  apart) we use the 2n counters. Take dm Ã¢ÂˆÂˆ (Ã¢ÂˆÂƒSÄŽÂ„Ã¢ÂˆÂ’m )I(m) .  I(m+1)  , for every tile ÄŽÂ„  that cannot be  By (30), dm Ã¢ÂˆÂˆ WÄŽÂ„   put to the right of ÄŽÂ„m in a correct tiling. As the counter is  initialised on dm at moment m, it has value 1 at m + 1.  I(m+2)  , for every tile ÄŽÂ„   Then, by (32), we have dm Ã¢ÂˆÂˆ WÄŽÂ„   that cannot be put to the right of ÄŽÂ„m . The same argument  iteratively applies until the moment m + 2n Ã¢ÂˆÂ’ 1 and thereI(m+2n )  , for every tile ÄŽÂ„  that cannot  fore, we have dm Ã¢ÂˆÂˆ WÄŽÂ„   be put to the right of ÄŽÂ„m . But then, by (31), no such tile ÄŽÂ„   can be selected as ÄŽÂ„m+2n .  It follows that if ÄŽÂ•T,ÄŽÂ„0 ,n is satisÄÅ¹Âable then T tiles the  N Ä‚Â— 2n -corridor. The converse implication is clear. Note  that ÄŽÂ•T,ÄŽÂ„0 ,n does not use any number restriction.  7. Temporalised EL is undecidable  In contrast to the positive results above we now show that  even a rather weak temporalisation T LEL of EL with global  roles and GCIs is undecidable. To prove this we do not need  ABox assertions. Moreover, 3F will be the only temporal  concept constructor, and 2+  F the only operator applied to  formulas. Besides, no local roles are required. Formally,  T LEL concepts C are deÄÅ¹Âned as follows:  C ::=  | Ai | C1  C2 | Ã¢ÂˆÂƒTi .C | 3F C,  where the Ti are global role names. A T LEL GCI is  a formula of the form 2+  F (C1  C2 ) (often written as  C1 Ã¢ÂˆÂ— C2 ), where C1 , C2 are T LEL concepts. Observe  that every set of T LEL GCIs is satisÄÅ¹Âable: they are satisÄÅ¹Âed  in the model where all concepts and roles are interpreted by  the whole domain at every time point.  In fact, the interesting reasoning problem for T LEL is  whether a GCI is a logical consequence of a set of GCIs.  Without the temporal operators, this problem is known to  be decidable in polynomial time [5]. We are now going to  show that it is undecidable for T LEL .  Theorem 11. It is undecidable whether a T LEL GCI is a  consequence of a ÄÅ¹Ânite set of T LEL GCIs.  Proof. The proof is by reduction of the following version  of the undecidable satisÄÅ¹Âability problem for temporalised  ALC. DeÄÅ¹Âne the concepts C of T LALC as follows:  C ::=  | Ã¢ÂŠÄ½ | Ai | Ã‚Å¹C | C1  C2 |  C1  C2 | Ã¢ÂˆÂƒTi .C |  3F C.  We introduce , Ã¢ÂŠÄ½ and  as primitive connectives because  this will be useful in the reduction below. A T LALC GCI  is of the form 2+  F (C1  C2 ), where C1 , C2 are T LALC  concepts. Say that an ALC concept C is satisÄÅ¹Âable relative  to a set of GCIs if there exists a model satisfying C and the  set of GCIs. The following is proved in [14]:  Theorem 12. SatisÄÅ¹Âability of ALC concepts relative to sets  of T LALC GCIs is undecidable.  Suppose now that a set of T LALC GCIs and a concept in  ALC are given. First, we perform a number of satisÄÅ¹Âability  preserving operations.  (a) Ensure that negation Ã‚Å¹ occurs in front of concept  names only: for every concept Ã‚Å¹C with complex C, introduce a fresh concept name A, replace Ã‚Å¹C with Ã‚Å¹A, and  add A Ã¢ÂˆÂ— C and C Ã¢ÂˆÂ— A to the set of GCIs. The resulting  concept is satisÄÅ¹Âable relative to the resulting set of GCIs if  the original one was satisÄÅ¹Âable relative to the original set of  GCIs.  (b) Ensure that Ã‚Å¹ does not occur at all in the set of GCIs  nor in the concept: for every concept Ã‚Å¹A, introduce a fresh  concept name A, replace every occurrence of Ã‚Å¹A with A,  and add Ã¢ÂˆÂ— A  A and A  A Ã¢ÂˆÂ— Ã¢ÂŠÄ½ to the set of GCIs.  (c) Ensure that disjunction  does not occur at all in the  set of GCIs nor in the concept: ÄÅ¹Ârst, modulo introduction of  new concept names, we may assume that  does not occur  in the concept and that the only occurrences of  in the set  of GCIs are of the form (i) AB Ã¢ÂˆÂ— C and (ii) C Ã¢ÂˆÂ— AB,  where A and B are concept names and C is disjunction free.  Denote the resulting set of GCIs by T and the concept by  C0 . Now we replace in T the former kind of GCI with  A Ã¢ÂˆÂ— C and B Ã¢ÂˆÂ— C. The latter one is replaced with four  GCIs  C Ã¢ÂˆÂ— Ã¢ÂˆÂƒR. (M  3F X  3F Y ),  Ã¢ÂˆÂƒR. (M  3F (X  3F Y )) Ã¢ÂˆÂ— A,  Ã¢ÂˆÂƒR. (M  3F (Y  3F X)) Ã¢ÂˆÂ— A,  Ã¢ÂˆÂƒR. (M  3F (X  Y )) Ã¢ÂˆÂ— B,  where R is a fresh global role name and X, Y , M are fresh  concept names (for each concept inclusion C Ã¢ÂˆÂ— A  B).  Denote by T  the new set of GCIs. Clearly, if C0 is satisÄÅ¹Âable relative to T  , then C0 is satisÄÅ¹Âable relative to T . Conversely, suppose that C0 is satisÄÅ¹Âable relative to T . We may  assume that the witness interpretation has an inÄÅ¹Ânite domain  ÃŽÂ”. Consider a GCI C Ã¢ÂˆÂ— A  B. Interpret R in such a way  that RI(n) is a forest of inÄÅ¹Ânite outdegree, i.e., RI(n) is  acyclic, for each w Ã¢ÂˆÂˆ ÃŽÂ” there exist inÄÅ¹Ânitely many w Ã¢ÂˆÂˆ ÃŽÂ”  such that (w, w ) Ã¢ÂˆÂˆ RI(n) , and for each w there exists  at most one w with (w, w ) Ã¢ÂˆÂˆ RI(n) . Now interpret M by  choosing for each w Ã¢ÂˆÂˆ C I(n) exactly one node w Ã¢ÂˆÂˆ M I(n)  with (w, w ) Ã¢ÂˆÂˆ RI(n) . This can be done in such a way that  M I(n) Ã¢ÂˆÅ  M I(m) = Ã¢ÂˆÂ… for n = m. Finally, interpret X and  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007  Y as follows: suppose (w, w ) Ã¢ÂˆÂˆ RI(m) , w Ã¢ÂˆÂˆ C I(m) , and  w Ã¢ÂˆÂˆ M I(m) , for some m. Then w Ã¢ÂˆÂˆ (A  B)I(m) . If  w Ã¢ÂˆÂˆ B I(m) , then include w in X I(m+1) and Y I(m+1) .  If w Ã¢ÂˆÂˆ AI(m) \ B I(m) , then include w in X I(m+1) and  Y I(m+2) . It can be shown that the extended interpretation  I satisÄÅ¹Âes T  and C0 .  Observe that T  and the concept C0 only contain the operators , Ã¢ÂˆÂƒ, , Ã¢ÂŠÄ½, and 3F . We now reduce satisÄÅ¹Âability  of C0 relative to T  to subsumption in T LEL . Introduce a  fresh concept name L, replace every occurrence of Ã¢ÂŠÄ½ with  L and extend T  with Ã¢ÂˆÂƒT.L Ã¢ÂˆÂ— L, for every role T from  T  and C0 , and 3F L Ã¢ÂˆÂ— L. Then C0 is satisÄÅ¹Âable relative  to T  iff C0 Ã¢ÂˆÂ— L does not follow from the new set T  of  GCIs, for the new concept C0 : clearly, if C0 is satisÄÅ¹Âable  relative to T  , then we obtain an interpretation I satisfying  I(0)  = Ã¢ÂˆÂ…. Conversely, if  T  in which LI(0) = Ã¢ÂˆÂ… but C0  C0 is not satisÄÅ¹Âable relative to T  , then for every interpreI(0)  tation I with w Ã¢ÂˆÂˆ C0 , there exists a w reachable from  w following a path along global roles T I(0) (from T  and  C0 ) such that w Ã¢ÂˆÂˆ LI(m) . But then, by the new GCIs,  w Ã¢ÂˆÂˆ LI(0) .  8. Conclusion  We have shown that temporalisations of various dialects  of DL-Lite are decidable with global roles and GCIs, while  temporalisations of EL are not. The crucial difference between the two languages is the absence of Ã¢Â€Â˜qualiÄÅ¹ÂedÃ¢Â€Â™ quantiÄÅ¹Âcation in DL-Lite. As there is no constructor Ã¢ÂˆÂƒR.C in  DL-Lite, we can actually encode global roles using temporal constraints on unary predicates. Although we obtain unintended models where roles are not global, the language is  too Ã¢Â€Â˜weakÃ¢Â€Â™ to notice this. Note, however, that these decidability results can easily be ruined by role inclusions. We  have also seen that, in contrast to qualiÄÅ¹Âed quantiÄÅ¹Âcation,  the presence of Boolean operators does not have any impact  on the decision problem: although EL does not contain   and Ã‚Å¹, its temporal dimension together with GCIs is perfectly capable of reintroducing them.  Acknowledgements. The work on this paper was partially supported by the U.K. EPSRC grants GR/S61966,  GR/S63182, GR/S63175, GR/S61973 and Tones, KnowledgeWeb and InterOp projects. We would like to thank the  anonymous referees for their comments.  References  [1] A. Artale. Reasoning on temporal conceptual schemas with  dynamic constraints. In Proc. of TIME 2004, pages 79Ã¢Â€Â“86.  IEEE Computer Society, 2004.  [2] A. Artale, D. Calvanese, R. Kontchakov, and M. Zakharyaschev. DL-Lite in the light of ÄÅ¹Ârst-order logic. 2007.  Proc. of AAAI.  [3] A. Artale, C.Parent, and S. Spaccapietra. Modeling the evolution of objects in temporal information systems. In Proc.  of FoIKS-06, volume 3861 of LNCS, pages 22Ã¢Â€Â“42. Springer,  2006.  [4] A. Artale and E. Franconi. Temporal description logics.  In M. Fisher, D. Gabbay, and L. Vila, editors, Handbook  of Time and Temporal Reasoning in ArtiÄÅ¹Âcial Intelligence,  pages 375Ã¢Â€Â“388. 2005.  [5] F. Baader, S. Brandt, and C. Lutz. Pushing the EL envelope.  In Proc. of IJCAI 2005, pages 364Ã¢Â€Â“369, 2005.  [6] F. Baader, R. KuÄšÂˆsters, and F. Wolter. Extensions to description logics. In Description Logic Handbook, pages 219Ã¢Â€Â“261.  Cambridge University Press, 2003.  [7] F. Baader, C. Lutz, and B. Suntisrivaraporn. Is tractable reasoning in extensions of the description logic EL useful in  practice? In Proc. of the Methods for Modalities Workshop  (M4M 2005), 2005.  [8] F. Baader, C. Lutz, and B. Suntisrivaraporn. CELÃ¢Â€Â”a  polynomial-time reasoner for life science ontologies. In  Proc. of IJCARÃ¢Â€Â™06, volume 4130 of LNAI, pages 287Ã¢Â€Â“291.  Springer, 2006.  [9] P. Balbiani and J.-F. Condotta. Computational complexity  of propositional linear temporal logics based on qualitative  spatial or temporal reasoning. In Proc. of FroCoS 2002, volume 2309 of LNCS, pages 162Ã¢Â€Â“176. Springer, 2002.  [10] D. Calvanese, G. De Giacomo, D. Lembo, M. Lenzerini,  and R. Rosati. DL-Lite: Tractable description logics for  ontologies. In Proc. of AAAI 2005, pages 602Ã¢Â€Â“607, 2005.  [11] D. Calvanese, G. De Giacomo, D. Lembo, M. Lenzerini, and  R. Rosati. Data complexity of query answering in description logics. In Proc. of KR 2006, pages 260Ã¢Â€Â“270, 2006.  [12] A. Degtyarev, M. Fisher, and B. Konev. Monodic temporal resolution. ACM Transactions in Computational Logic,  7:108Ã¢Â€Â“150, 2006.  [13] D. Gabbay, I. Hodkinson, and M. Reynolds. Temporal  Logic: Mathematical Foundations and Computational Aspects, Volume 1. Oxford University Press, 1994.  [14] D. Gabbay, A. Kurucz, F. Wolter, and M. Zakharyaschev.  Many-Dimensional Modal Logics: Theory and Applications. Elsevier, 2003.  [15] D. Gabelaia, R. Kontchakov, A. Kurucz, F. Wolter, and  M. Zakharyaschev. Combining spatial and temporal logics:  expressiveness vs. complexity. JAIR, 23:167Ã¢Â€Â“243, 2005.  [16] I. Hodkinson, R. Kontchakov, A. Kurucz, F. Wolter, and  M. Zakharyaschev. On the computational complexity of decidable fragments of ÄÅ¹Ârst-order linear temporal logics. In  M. Reynolds and A. Sattar, editors, Proc. of TIME-ICTL  2003, pages 91Ã¢Â€Â“98. IEEE Computer Society, 2003.  [17] I. Hodkinson, F. Wolter, and M. Zakharyaschev. Decidable  fragments of ÄÅ¹Ârst-order temporal logics. Annals of Pure and  Applied Logic, 106:85Ã¢Â€Â“134, 2000.  [18] C. S. Jensen, J. Clifford, R. Elmasri, S. K. Gadia, P. Hayes,  and S. Jajodia. The consensus glossary of temporal database  concepts. SIGMOD Record, 23(1):52Ã¢Â€Â“64, 1994.  [19] P. van Emde Boas. The convenience of tilings. In A. Sorbi,  editor, Complexity, Logic and Recursion Theory, volume  187 of Lecture Notes in Pure and Applied Mathematics,  pages 331Ã¢Â€Â“363. Marcel Dekker Inc., 1997.  14th International Symposium on Temporal Representation and Reasoning (TIME'07  0-7695-2836-8/07 $20.00 Ã‚Å  2007 